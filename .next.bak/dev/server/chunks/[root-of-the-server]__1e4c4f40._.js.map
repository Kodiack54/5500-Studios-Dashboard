{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/Studio/kodiack-dashboard-5500/src/config/tradelines.ts"],"sourcesContent":["// Tradeline Configuration\r\n// Engine Droplet: 64.23.151.201\r\n// Tradelines are loaded from dev_tradelines table\r\n// This file contains fallback defaults and type definitions\r\n\r\nexport const ENGINE_HOST = process.env.ENGINE_HOST || '64.23.151.201';\r\n\r\n// Fallback tradelines - used if database is unavailable\r\n// Actual tradelines are pulled from dev_tradelines table\r\nexport const defaultTradelines = [\r\n  { id: 'security', name: 'Security', mainPort: 3002, host: '64.23.151.201' },\r\n  { id: 'administrative', name: 'Administrative', mainPort: 3003, host: '64.23.151.201' },\r\n  { id: 'facilities', name: 'Facilities', mainPort: 3004, host: '64.23.151.201' },\r\n  { id: 'logistics', name: 'Logistics', mainPort: 3005, host: '64.23.151.201' },\r\n  { id: 'electrical', name: 'Electrical', mainPort: 3006, host: '64.23.151.201' },\r\n  { id: 'lowvoltage', name: 'Low Voltage', mainPort: 3007, host: '64.23.151.201' },\r\n  { id: 'landscaping', name: 'Landscaping', mainPort: 3008, host: '64.23.151.201' },\r\n  { id: 'hvac', name: 'HVAC', mainPort: 3009, host: '64.23.151.201' },\r\n  { id: 'plumbing', name: 'Plumbing', mainPort: 3010, host: '64.23.151.201' },\r\n  { id: 'janitorial', name: 'Janitorial', mainPort: 3011, host: '64.23.151.201' },\r\n  { id: 'support', name: 'Support', mainPort: 3012, host: '64.23.151.201' },\r\n  { id: 'waste', name: 'Waste', mainPort: 3013, host: '64.23.151.201' },\r\n  { id: 'construction', name: 'Construction', mainPort: 3014, host: '64.23.151.201' },\r\n  { id: 'roofing', name: 'Roofing', mainPort: 3015, host: '64.23.151.201' },\r\n  { id: 'painting', name: 'Painting', mainPort: 3016, host: '64.23.151.201' },\r\n  { id: 'flooring', name: 'Flooring', mainPort: 3017, host: '64.23.151.201' },\r\n  { id: 'demolition', name: 'Demolition', mainPort: 3018, host: '64.23.151.201' },\r\n  { id: 'environmental', name: 'Environmental', mainPort: 3019, host: '64.23.151.201' },\r\n  { id: 'concrete', name: 'Concrete', mainPort: 3020, host: '64.23.151.201' },\r\n  { id: 'fencing', name: 'Fencing', mainPort: 3021, host: '64.23.151.201' },\r\n];\r\n\r\n// For backwards compatibility\r\nexport const tradelines = defaultTradelines;\r\n\r\n// Worker roles - each tradeline has 3 workers\r\nexport const workerRoles = [\r\n  { offset: 100, role: 'sow', name: 'SOW', description: 'SOW processing' },\r\n  { offset: 200, role: 'docs', name: 'Docs', description: 'Document processing' },\r\n  { offset: 300, role: 'proposal', name: 'Proposal', description: 'AI proposal writer material' },\r\n] as const;\r\n\r\nexport type TradelineId = typeof tradelines[number]['id'];\r\nexport type WorkerRole = typeof workerRoles[number]['role'];\r\n\r\n// Helper to get all ports for a tradeline\r\nexport function getTradelinePorts(mainPort: number) {\r\n  return {\r\n    main: mainPort,\r\n    fetch: mainPort + 100,\r\n    parse: mainPort + 200,\r\n    ai: mainPort + 300,\r\n    store: mainPort + 400,\r\n  };\r\n}\r\n\r\n// Get full service list (100 services)\r\nexport function getAllServices() {\r\n  const services: Array<{\r\n    id: string;\r\n    tradeline: string;\r\n    tradelineName: string;\r\n    type: 'main' | 'worker';\r\n    role: string;\r\n    roleName: string;\r\n    port: number;\r\n  }> = [];\r\n\r\n  for (const tl of tradelines) {\r\n    // Main server\r\n    services.push({\r\n      id: `${tl.id}-main`,\r\n      tradeline: tl.id,\r\n      tradelineName: tl.name,\r\n      type: 'main',\r\n      role: 'main',\r\n      roleName: 'Main',\r\n      port: tl.mainPort,\r\n    });\r\n\r\n    // Workers\r\n    for (const worker of workerRoles) {\r\n      services.push({\r\n        id: `${tl.id}-${worker.role}`,\r\n        tradeline: tl.id,\r\n        tradelineName: tl.name,\r\n        type: 'worker',\r\n        role: worker.role,\r\n        roleName: worker.name,\r\n        port: tl.mainPort + worker.offset,\r\n      });\r\n    }\r\n  }\r\n\r\n  return services;\r\n}\r\n\r\n// Patcher/Dashboard services (7000 range)\r\nexport const patcherServices = [\r\n  { id: 'gateway', name: 'Gateway', port: 7000, description: 'JWT auth hub' },\r\n  { id: 'patcher', name: 'Patcher', port: 7100, description: 'Deployment orchestrator' },\r\n  { id: 'dashboard', name: 'Dashboard', port: 7500, description: 'Dev command center' },\r\n] as const;\r\n\r\n// Portal services (8000 range)\r\nexport const portalServices = [\r\n  { id: 'nextbidder', name: 'NextBidder', port: 8001, description: 'Win SUPPLY contracts' },\r\n  { id: 'nexttech', name: 'NextTech', port: 8002, description: 'Dispatch/Tech App/SOP' },\r\n  { id: 'nextsource', name: 'NextSource', port: 8003, description: 'AI source learner' },\r\n  { id: 'portal', name: 'Portal', port: 8004, description: 'User opportunity/proposal UI' },\r\n] as const;\r\n\r\n// Dev services (5000 range)\r\nexport const devServices = [\r\n  { id: 'nextbid-live', name: 'NextBid Live', port: 5000, description: 'Test engine before prod' },\r\n  { id: 'nextbid-dev', name: 'NextBid Dev', port: 5100, description: 'Engine development' },\r\n  { id: 'nextbidder-live', name: 'NextBidder Live', port: 5001, description: 'Test before prod' },\r\n  { id: 'nextbidder-dev', name: 'NextBidder Dev', port: 5101, description: 'Development' },\r\n  { id: 'nexttech-live', name: 'NextTech Live', port: 5002, description: 'Test before prod' },\r\n  { id: 'nexttech-dev', name: 'NextTech Dev', port: 5102, description: 'Development' },\r\n  { id: 'source-live', name: 'Source Live', port: 5003, description: 'Test before prod' },\r\n  { id: 'source-dev', name: 'Source Dev', port: 5103, description: '400+ sources dev' },\r\n  { id: 'portal-live', name: 'Portal Live', port: 5004, description: 'Test before prod' },\r\n  { id: 'portal-dev', name: 'Portal Dev', port: 5104, description: 'Portal development' },\r\n] as const;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 363, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/Studio/kodiack-dashboard-5500/src/app/api/engine/health/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport { defaultTradelines, workerRoles } from '@/config/tradelines';\r\nimport { createClient } from '@supabase/supabase-js';\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\ntype HealthStatus = 'online' | 'offline' | 'degraded';\r\n\r\ninterface EngineSlot {\r\n  id: string;\r\n  slot_number: number;\r\n  main_port: number;\r\n  host: string;\r\n  assigned_tradeline: string | null;\r\n  tradeline_name?: string;\r\n}\r\n\r\ninterface ServiceHealth {\r\n  id: string;\r\n  slotId: string;\r\n  slotNumber: number;\r\n  tradeline: string | null;\r\n  tradelineName: string;\r\n  role: string;\r\n  port: number;\r\n  host: string;\r\n  status: HealthStatus;\r\n  responseTime?: number;\r\n}\r\n\r\n// Get engine slots from database, fallback to config\r\nasync function getEngineSlots(): Promise<Array<{\r\n  id: string;\r\n  slotNumber: number;\r\n  tradeline: string | null;\r\n  tradelineName: string;\r\n  mainPort: number;\r\n  host: string\r\n}>> {\r\n  try {\r\n    const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\n    const supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\n    if (!supabaseUrl || !supabaseKey) {\r\n      console.log('No Supabase config, using default tradelines');\r\n      return defaultTradelines.map((t, i) => ({\r\n        id: `slot-${i + 1}`,\r\n        slotNumber: i + 1,\r\n        tradeline: t.id,\r\n        tradelineName: t.name,\r\n        mainPort: t.mainPort,\r\n        host: t.host,\r\n      }));\r\n    }\r\n\r\n    const supabase = createClient(supabaseUrl, supabaseKey);\r\n\r\n    // Get slots with tradeline names joined\r\n    const { data, error } = await supabase\r\n      .from('dev_engine_slots')\r\n      .select(`\r\n        id,\r\n        slot_number,\r\n        main_port,\r\n        host,\r\n        assigned_tradeline,\r\n        dev_tradeline_types ( name )\r\n      `)\r\n      .order('slot_number');\r\n\r\n    if (error || !data || data.length === 0) {\r\n      console.log('No engine slots in DB, using defaults:', error?.message);\r\n      return defaultTradelines.map((t, i) => ({\r\n        id: `slot-${i + 1}`,\r\n        slotNumber: i + 1,\r\n        tradeline: t.id,\r\n        tradelineName: t.name,\r\n        mainPort: t.mainPort,\r\n        host: t.host,\r\n      }));\r\n    }\r\n\r\n    return data.map((slot: any) => ({\r\n      id: slot.id,\r\n      slotNumber: slot.slot_number,\r\n      tradeline: slot.assigned_tradeline,\r\n      tradelineName: slot.dev_tradeline_types?.name ||\r\n                     (Array.isArray(slot.dev_tradeline_types) && slot.dev_tradeline_types[0]?.name) ||\r\n                     (slot.assigned_tradeline ? slot.assigned_tradeline : 'Unassigned'),\r\n      mainPort: slot.main_port,\r\n      host: slot.host,\r\n    }));\r\n  } catch (err) {\r\n    console.error('Failed to fetch engine slots:', err);\r\n    return defaultTradelines.map((t, i) => ({\r\n      id: `slot-${i + 1}`,\r\n      slotNumber: i + 1,\r\n      tradeline: t.id,\r\n      tradelineName: t.name,\r\n      mainPort: t.mainPort,\r\n      host: t.host,\r\n    }));\r\n  }\r\n}\r\n\r\nasync function checkHealth(host: string, port: number): Promise<{ status: HealthStatus; responseTime?: number }> {\r\n  const start = Date.now();\r\n  try {\r\n    const controller = new AbortController();\r\n    const timeout = setTimeout(() => controller.abort(), 3000);\r\n\r\n    // Try /health first, fall back to root path\r\n    // Any response (even 404) means the server is running\r\n    const res = await fetch(`http://${host}:${port}/health`, {\r\n      signal: controller.signal,\r\n      cache: 'no-store',\r\n    });\r\n\r\n    clearTimeout(timeout);\r\n    const responseTime = Date.now() - start;\r\n\r\n    // 200 = healthy, 404/other = online but no health endpoint\r\n    if (res.ok) {\r\n      return { status: 'online', responseTime };\r\n    }\r\n    // Got a response but not 200 - server is running (degraded or just no /health route)\r\n    return { status: 'online', responseTime };\r\n  } catch (err) {\r\n    // Fetch failed - could be timeout, connection refused, etc.\r\n    // Try root path as fallback\r\n    try {\r\n      const controller2 = new AbortController();\r\n      const timeout2 = setTimeout(() => controller2.abort(), 2000);\r\n\r\n      const res2 = await fetch(`http://${host}:${port}/`, {\r\n        signal: controller2.signal,\r\n        cache: 'no-store',\r\n      });\r\n\r\n      clearTimeout(timeout2);\r\n      const responseTime = Date.now() - start;\r\n\r\n      // Any response means online\r\n      return { status: 'online', responseTime };\r\n    } catch {\r\n      return { status: 'offline' };\r\n    }\r\n  }\r\n}\r\n\r\nexport async function GET() {\r\n  const slots = await getEngineSlots();\r\n  const results: ServiceHealth[] = [];\r\n  const checks: Promise<void>[] = [];\r\n\r\n  for (const slot of slots) {\r\n    // Check main server\r\n    checks.push(\r\n      checkHealth(slot.host, slot.mainPort).then((health) => {\r\n        results.push({\r\n          id: `${slot.id}-main`,\r\n          slotId: slot.id,\r\n          slotNumber: slot.slotNumber,\r\n          tradeline: slot.tradeline,\r\n          tradelineName: slot.tradelineName,\r\n          role: 'main',\r\n          port: slot.mainPort,\r\n          host: slot.host,\r\n          ...health,\r\n        });\r\n      })\r\n    );\r\n\r\n    // Check workers\r\n    for (const worker of workerRoles) {\r\n      const workerPort = slot.mainPort + worker.offset;\r\n      checks.push(\r\n        checkHealth(slot.host, workerPort).then((health) => {\r\n          results.push({\r\n            id: `${slot.id}-${worker.role}`,\r\n            slotId: slot.id,\r\n            slotNumber: slot.slotNumber,\r\n            tradeline: slot.tradeline,\r\n            tradelineName: slot.tradelineName,\r\n            role: worker.role,\r\n            port: workerPort,\r\n            host: slot.host,\r\n            ...health,\r\n          });\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  // Run all checks in parallel\r\n  await Promise.all(checks);\r\n\r\n  // Sort by slot number and role\r\n  results.sort((a, b) => {\r\n    if (a.slotNumber !== b.slotNumber) return a.slotNumber - b.slotNumber;\r\n    if (a.role === 'main') return -1;\r\n    if (b.role === 'main') return 1;\r\n    return a.port - b.port;\r\n  });\r\n\r\n  // Summary stats\r\n  const online = results.filter((r) => r.status === 'online').length;\r\n  const offline = results.filter((r) => r.status === 'offline').length;\r\n  const degraded = results.filter((r) => r.status === 'degraded').length;\r\n\r\n  return NextResponse.json({\r\n    total: results.length,\r\n    online,\r\n    offline,\r\n    degraded,\r\n    slots: slots.map((s) => ({\r\n      id: s.id,\r\n      slotNumber: s.slotNumber,\r\n      tradeline: s.tradeline,\r\n      tradelineName: s.tradelineName,\r\n      mainPort: s.mainPort,\r\n    })),\r\n    services: results,\r\n  });\r\n}\r\n"],"names":[],"mappings":"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"}}]
}