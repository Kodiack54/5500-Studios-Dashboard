(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14247,e=>{"use strict";var t=e.i(4828),s=e.i(65508),r=e.i(79443),l=e.i(3437),a=e.i(57987),i=e.i(85053);function n(){let e=(0,s.useContext)(l.PageTitleContext),n=(0,s.useContext)(l.PageActionsContext),[c,d]=(0,s.useState)([]),[o,x]=(0,s.useState)(null),[m,g]=(0,s.useState)(!0);return((0,s.useEffect)(()=>(e({title:"Clients",description:"Manage clients and their projects"}),n((0,t.jsx)(r.default,{href:"/settings/clients/new",className:"px-4 py-2 bg-white/20 text-white rounded-lg text-sm font-semibold hover:bg-white/30 transition-colors border border-white/30",children:"+ Add Client"})),()=>{e({title:"",description:""}),n(null)}),[e,n]),(0,s.useEffect)(()=>{!async function(){try{let e=await fetch("/api/clients");if(!e.ok)throw Error("Failed to load clients");let t=await e.json();d(t)}catch(e){x(e.message)}finally{g(!1)}}()},[]),m)?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)("div",{className:"text-gray-400",children:"Loading clients..."})}):(0,t.jsxs)("div",{children:[o&&(0,t.jsxs)("div",{className:"bg-red-500/15 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg mb-6",children:[(0,t.jsx)("strong",{children:"Error:"})," ",o]}),0===c.length?(0,t.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-xl p-12 text-center",children:[(0,t.jsx)(a.Building2,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-400 mb-4",children:"No clients yet"}),(0,t.jsx)(r.default,{href:"/settings/clients/new",className:"inline-block px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add Your First Client"})]}):(0,t.jsx)("div",{className:"grid gap-4",children:c.map(e=>(0,t.jsxs)(r.default,{href:`/settings/clients/${e.id}`,className:"block bg-gray-800 border border-gray-700 rounded-xl p-6 hover:border-blue-500 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[e.logo_url?(0,t.jsx)("img",{src:e.logo_url,alt:e.name,className:"w-12 h-12 rounded-xl object-cover"}):(0,t.jsx)("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${"individual"===e.client_type?"bg-purple-600/20":"bg-blue-600/20"}`,children:"individual"===e.client_type?(0,t.jsx)(i.User,{className:"w-6 h-6 text-purple-400"}):(0,t.jsx)(a.Building2,{className:"w-6 h-6 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white hover:text-blue-400 transition-colors",children:e.name}),e.description&&(0,t.jsx)("p",{className:"text-gray-500 text-sm mt-0.5",children:e.description})]})]}),(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${e.active?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e.active?"Active":"Inactive"})]}),(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-700 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-gray-500 text-xs uppercase font-medium mr-1",children:"Team:"}),0===e.team.length?(0,t.jsx)("span",{className:"text-gray-600 text-sm",children:"No team assigned"}):(0,t.jsxs)("div",{className:"flex -space-x-2",children:[e.team.slice(0,5).map(e=>(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-xs font-bold border-2 border-gray-800",title:e.first_name?`${e.first_name} ${e.last_name||""}`:e.email,children:e.avatar_url?(0,t.jsx)("img",{src:e.avatar_url,alt:"",className:"w-full h-full rounded-lg object-cover"}):function(e){if(e.first_name&&e.last_name)return`${e.first_name[0]}${e.last_name[0]}`.toUpperCase();if(e.name){let t=e.name.split(" ");return t.length>=2?`${t[0][0]}${t[1][0]}`.toUpperCase():e.name.substring(0,2).toUpperCase()}return e.email.substring(0,2).toUpperCase()}(e)},e.id)),e.team.length>5&&(0,t.jsxs)("div",{className:"w-8 h-8 rounded-lg bg-gray-700 flex items-center justify-center text-gray-400 text-xs font-bold border-2 border-gray-800",children:["+",e.team.length-5]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-gray-500 text-xs uppercase font-medium mr-1",children:"Projects:"}),0===e.projects.length?(0,t.jsx)("span",{className:"text-gray-600 text-sm",children:"No projects"}):(0,t.jsxs)("div",{className:"flex gap-1",children:[e.projects.slice(0,6).map(e=>(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gray-700 flex items-center justify-center text-gray-300 text-xs font-bold",title:e.name,children:e.logo_url?(0,t.jsx)("img",{src:e.logo_url,alt:"",className:"w-full h-full rounded-lg object-cover"}):function(e){let t={nextbid:"NB",nextbidder:"NB",nextsource:"NS",nexttech:"NT",nexttask:"NT"},s=e.slug.toLowerCase();if(t[s])return t[s];let r=e.name.split(/[\s-]+/);return r.length>=2?r.slice(0,2).map(e=>e[0]).join("").toUpperCase():e.name.substring(0,2).toUpperCase()}(e)},e.id)),e.projects.length>6&&(0,t.jsxs)("div",{className:"w-8 h-8 rounded-lg bg-gray-600 flex items-center justify-center text-gray-400 text-xs font-bold",children:["+",e.projects.length-6]})]})]})]})]},e.id))})]})}e.s(["default",()=>n])}]);