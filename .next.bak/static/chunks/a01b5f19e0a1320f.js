(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3661,e=>{"use strict";var a=e.i(4828);let s=[{name:"all",displayName:"All Tradelines"},{name:"security",displayName:"Security"},{name:"administrative",displayName:"Administrative"},{name:"facilities",displayName:"Facilities"},{name:"logistics",displayName:"Logistics"},{name:"electrical",displayName:"Electrical"},{name:"lowvoltage",displayName:"Low Voltage"},{name:"landscaping",displayName:"Landscaping"},{name:"hvac",displayName:"HVAC"},{name:"plumbing",displayName:"Plumbing"},{name:"janitorial",displayName:"Janitorial"},{name:"support",displayName:"Support"},{name:"waste",displayName:"Waste"},{name:"construction",displayName:"Construction"},{name:"roofing",displayName:"Roofing"},{name:"painting",displayName:"Painting"},{name:"flooring",displayName:"Flooring"},{name:"demolition",displayName:"Demolition"},{name:"environmental",displayName:"Environmental"},{name:"concrete",displayName:"Concrete"},{name:"fencing",displayName:"Fencing"}];function t({value:e,onChange:t}){return(0,a.jsx)("select",{value:e,onChange:e=>t(e.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white focus:border-blue-500 focus:outline-none",children:s.map(e=>(0,a.jsx)("option",{value:e.name,children:e.displayName},e.name))})}e.s(["default",()=>t])},88544,e=>{"use strict";var a=e.i(4828),s=e.i(65508),t=e.i(79443);function l({source:e,onEdit:l,onTest:r,onSync:n,href:i}){let[d,o]=(0,s.useState)(!1),c=async()=>{r&&(o(!0),await r(e),o(!1))},m=e.expiresAt?Math.ceil((new Date(e.expiresAt).getTime()-Date.now())/864e5):null;return(0,a.jsxs)("div",{className:`border rounded-xl p-4 ${(e=>{switch(e){case"active":return"bg-green-500/10 border-green-500/30";case"expired":case"failed":return"bg-red-500/10 border-red-500/30";case"expiring":return"bg-yellow-500/10 border-yellow-500/30";default:return"bg-gray-800 border-gray-700"}})(e.status)}`,children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:`w-3 h-3 rounded-full ${(e=>{switch(e){case"active":return"bg-green-500";case"expired":case"failed":return"bg-red-500";case"expiring":return"bg-yellow-500";default:return"bg-gray-500"}})(e.status)}`}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-white",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.platform})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("span",{className:`px-2 py-0.5 text-xs rounded ${"active"===e.status?"bg-green-500/20 text-green-400":"expired"===e.status||"failed"===e.status?"bg-red-500/20 text-red-400":"expiring"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-gray-700 text-gray-400"}`,children:(e=>{switch(e){case"active":return"Active";case"expired":return"Expired";case"expiring":return"Expiring Soon";case"failed":return"Login Failed";case"not_configured":return"Not Configured";default:return e}})(e.status)})})]}),(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:["login"===e.type&&e.username&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Username"}),(0,a.jsx)("span",{className:"text-gray-300 font-mono text-xs",children:e.username})]}),"api_key"===e.type&&e.apiKey&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"API Key"}),(0,a.jsxs)("span",{className:"text-gray-300 font-mono text-xs",children:[e.apiKey.substring(0,8),"...",e.apiKey.slice(-4)]})]}),void 0!==e.balance&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Balance"}),(0,a.jsxs)("span",{className:`font-medium ${e.balance<10?"text-red-400":e.balance<50?"text-yellow-400":"text-green-400"}`,children:["$",e.balance.toFixed(2)]})]}),null!==m&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Expires"}),(0,a.jsx)("span",{className:`${m<7?"text-red-400":m<30?"text-yellow-400":"text-gray-300"}`,children:m<0?"Expired":`${m} days`})]}),void 0!==e.portalCount&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Portals"}),(0,a.jsx)("span",{className:"text-gray-300",children:e.portalCount})]}),e.lastError&&(0,a.jsx)("div",{className:"text-xs text-red-400 bg-red-500/10 rounded px-2 py-1 mt-2",children:e.lastError})]}),e.tradelines&&e.tradelines.length>0&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.tradelines.slice(0,4).map((e,s)=>(0,a.jsx)("span",{className:"px-1.5 py-0.5 text-xs bg-gray-700/50 text-gray-400 rounded capitalize",children:e},s)),e.tradelines.length>4&&(0,a.jsxs)("span",{className:"px-1.5 py-0.5 text-xs text-gray-500",children:["+",e.tradelines.length-4," more"]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[i?(0,a.jsx)(t.default,{href:i,className:"flex-1 px-3 py-1.5 text-xs font-medium bg-blue-500/20 text-blue-400 rounded-lg hover:bg-blue-500/30 transition-colors text-center",children:"Configure"}):l?(0,a.jsx)("button",{onClick:()=>l(e),className:"flex-1 px-3 py-1.5 text-xs font-medium bg-blue-500/20 text-blue-400 rounded-lg hover:bg-blue-500/30 transition-colors",children:"Edit"}):null,r&&(0,a.jsx)("button",{onClick:c,disabled:d||"not_configured"===e.status,className:"px-3 py-1.5 text-xs font-medium bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:d?"...":"Test"}),n&&(0,a.jsx)("button",{onClick:()=>n(e),className:"px-3 py-1.5 text-xs font-medium bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors",children:"Sync"})]})]})}var r=e.i(3661);let n=[{id:"sam_gov",name:"SAM.gov",platform:"Federal - Contracts",type:"api_key"},{id:"fpds",name:"FPDS",platform:"Federal - Data",type:"api_key"},{id:"usaspending",name:"USASpending",platform:"Federal - Data",type:"api_key"},{id:"gsa_ebuy",name:"GSA eBuy",platform:"Federal - GSA",type:"login"},{id:"gsa_advantage",name:"GSA Advantage",platform:"Federal - GSA",type:"login"},{id:"dod_emall",name:"DoD eMall",platform:"Federal - DoD",type:"login"},{id:"army_mil",name:"Army.mil",platform:"Federal - DoD",type:"login"},{id:"navy_mil",name:"Navy.mil",platform:"Federal - DoD",type:"login"},{id:"af_mil",name:"AF.mil",platform:"Federal - DoD",type:"login"},{id:"dla",name:"DLA",platform:"Federal - DoD",type:"login"},{id:"sandia",name:"Sandia Labs",platform:"Federal - Labs",type:"login"},{id:"lanl",name:"Los Alamos (LANL)",platform:"Federal - Labs",type:"login"},{id:"llnl",name:"Lawrence Livermore (LLNL)",platform:"Federal - Labs",type:"login"},{id:"ornl",name:"Oak Ridge (ORNL)",platform:"Federal - Labs",type:"login"},{id:"pnnl",name:"Pacific Northwest (PNNL)",platform:"Federal - Labs",type:"login"}],i=[{key:"contracts",label:"Contracts & Data",sources:["sam_gov","fpds","usaspending"]},{key:"gsa",label:"GSA",sources:["gsa_ebuy","gsa_advantage"]},{key:"dod",label:"DoD",sources:["dod_emall","army_mil","navy_mil","af_mil","dla"]},{key:"labs",label:"National Labs",sources:["sandia","lanl","llnl","ornl","pnnl"]}];function d(){let[e,t]=(0,s.useState)([]),[d,o]=(0,s.useState)(!0),[c,m]=(0,s.useState)(null),[x,g]=(0,s.useState)(""),[p,u]=(0,s.useState)("all");(0,s.useEffect)(()=>{y()},[]);let y=async()=>{o(!0);try{let e=await fetch("/api/patcher/sources/federal");if(e.ok){let a=await e.json();t(a.sources||[])}else t(n.map(e=>({...e,status:"not_configured",tradelines:[]})))}catch(e){console.error("Failed to fetch federal sources:",e),t(n.map(e=>({...e,status:"not_configured",tradelines:[]})))}finally{o(!1)}},f=async e=>{let a=await fetch(`/api/patcher/sources/federal/${e.id}/test`,{method:"POST"}),s=await a.json();return{success:s.success,message:s.message||(s.success?"Connection successful":"Connection failed")}},h=e.filter(e=>{let a=!c||i.find(e=>e.key===c)?.sources.includes(e.id),s=!x||e.name.toLowerCase().includes(x.toLowerCase())||e.platform.toLowerCase().includes(x.toLowerCase());return a&&s}),b=e.filter(e=>"not_configured"!==e.status).length,N=e.filter(e=>"failed"===e.status||"expired"===e.status).length;return(0,a.jsxs)("div",{className:"h-full overflow-y-auto p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)("input",{type:"text",value:x,onChange:e=>g(e.target.value),placeholder:"Search federal sources...",className:"flex-1 max-w-md bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-sm text-white placeholder-gray-500 focus:border-blue-500 focus:outline-none"}),(0,a.jsx)(r.default,{value:p,onChange:u}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,a.jsx)("span",{className:"text-2xl",children:"ðŸ›ï¸"}),(0,a.jsxs)("span",{children:[e.length," sources"]}),(0,a.jsx)("span",{className:"text-gray-600",children:"|"}),(0,a.jsxs)("span",{className:"text-green-400",children:[b," configured"]}),N>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"|"}),(0,a.jsxs)("span",{className:"text-red-400",children:[N," issues"]})]})]}),(0,a.jsx)("button",{onClick:y,disabled:d,className:"px-4 py-2 text-sm font-medium bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:d?"Loading...":"Refresh"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsxs)("button",{onClick:()=>m(null),className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors ${!c?"bg-blue-500 text-white":"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:["All (",e.length,")"]}),i.map(s=>{var t;let l,r=(t=s.key,(l=i.find(e=>e.key===t))?e.filter(e=>l.sources.includes(e.id)):[]),n=r.filter(e=>"failed"===e.status||"expired"===e.status).length;return(0,a.jsxs)("button",{onClick:()=>m(s.key),className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors flex items-center gap-2 ${c===s.key?"bg-blue-500 text-white":"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:[s.label," (",r.length,")",n>0&&(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-500"})]},s.key)})]}),d?(0,a.jsx)("div",{className:"text-center text-gray-500 py-12",children:"Loading federal sources..."}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(e=>(0,a.jsx)(l,{source:e,href:`/credentials/federal/${e.id}`,onTest:f},e.id))}),0===h.length&&!d&&(0,a.jsx)("div",{className:"text-center text-gray-500 py-12",children:"No sources found in this category"})]})}e.s(["default",()=>d],88544)}]);