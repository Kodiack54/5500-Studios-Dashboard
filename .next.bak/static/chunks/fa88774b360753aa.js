(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63987,e=>{"use strict";var s=e.i(4828),t=e.i(65508),r=e.i(3437);function i({roles:e}){let[r,i]=(0,t.useState)(null),l={1:"bg-gray-500/20 text-gray-400",2:"bg-blue-500/20 text-blue-400",3:"bg-purple-500/20 text-purple-400",4:"bg-yellow-500/20 text-yellow-400",5:"bg-orange-500/20 text-orange-400",6:"bg-red-500/20 text-red-400"},a=[...e].sort((e,s)=>s.level-e.level);return(0,s.jsxs)("div",{className:"space-y-4",children:[a.map(e=>(0,s.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-900/50",onClick:()=>i(r===e.id?null:e.id),children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:`px-3 py-1 rounded text-xs font-bold ${l[e.level]||l[1]}`,children:["Level ",e.level]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-white",children:e.name}),e.description&&(0,s.jsx)("div",{className:"text-xs text-gray-500",children:e.description})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[e.members_count||0," members · ",e.permissions.length," permissions"]}),(0,s.jsx)("span",{className:"text-gray-400",children:r===e.id?"▼":"▶"})]})]}),r===e.id&&(0,s.jsxs)("div",{className:"border-t border-gray-700 p-4 bg-gray-900/50",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-400 mb-2",children:"Permissions"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.permissions.map(e=>(0,s.jsx)("span",{className:"text-xs bg-gray-700 text-gray-300 px-2 py-1 rounded",children:e.replace(/^can/,"").replace(/([A-Z])/g," $1").trim()},e)),0===e.permissions.length&&(0,s.jsx)("span",{className:"text-xs text-gray-500",children:"No permissions assigned"})]})]}),(0,s.jsx)("div",{className:"text-xs text-gray-500 italic",children:"System-defined role. Permissions cannot be modified."})]})]},e.id)),0===e.length&&(0,s.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No roles defined. Create a role to get started."})]})}function l(){let e=(0,t.useContext)(r.PageTitleContext),l=(0,t.useContext)(r.PageActionsContext),[a,n]=(0,t.useState)([]),[d,c]=(0,t.useState)(null),[o,x]=(0,t.useState)(!0);return((0,t.useEffect)(()=>(e({title:"Roles & Permissions",description:"System-defined roles and their permissions"}),l(null),()=>{e({title:"",description:""}),l(null)}),[e,l]),(0,t.useEffect)(()=>{!async function(){try{let e=await fetch("/api/team/roles");if(!e.ok)throw Error("Failed to load roles");let s=await e.json();n(s)}catch(e){c(e.message)}finally{x(!1)}}()},[]),o)?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)("div",{className:"text-gray-400",children:"Loading..."})}):(0,s.jsxs)("div",{children:[d&&(0,s.jsxs)("div",{className:"bg-red-500/15 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg mb-6",children:[(0,s.jsx)("strong",{children:"Error:"})," ",d]}),(0,s.jsx)(i,{roles:a})]})}e.s(["default",()=>l],63987)}]);