(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3661,e=>{"use strict";var a=e.i(4828);let t=[{name:"all",displayName:"All Tradelines"},{name:"security",displayName:"Security"},{name:"administrative",displayName:"Administrative"},{name:"facilities",displayName:"Facilities"},{name:"logistics",displayName:"Logistics"},{name:"electrical",displayName:"Electrical"},{name:"lowvoltage",displayName:"Low Voltage"},{name:"landscaping",displayName:"Landscaping"},{name:"hvac",displayName:"HVAC"},{name:"plumbing",displayName:"Plumbing"},{name:"janitorial",displayName:"Janitorial"},{name:"support",displayName:"Support"},{name:"waste",displayName:"Waste"},{name:"construction",displayName:"Construction"},{name:"roofing",displayName:"Roofing"},{name:"painting",displayName:"Painting"},{name:"flooring",displayName:"Flooring"},{name:"demolition",displayName:"Demolition"},{name:"environmental",displayName:"Environmental"},{name:"concrete",displayName:"Concrete"},{name:"fencing",displayName:"Fencing"}];function s({value:e,onChange:s}){return(0,a.jsx)("select",{value:e,onChange:e=>s(e.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white focus:border-blue-500 focus:outline-none",children:t.map(e=>(0,a.jsx)("option",{value:e.name,children:e.displayName},e.name))})}e.s(["default",()=>s])},69950,e=>{"use strict";var a=e.i(4828),t=e.i(65508),s=e.i(79443),l=e.i(3661);let r=[{key:"planetbids",label:"PlanetBids",icon:"ðŸŒ"},{key:"opengov",label:"OpenGov",icon:"ðŸ“‹"},{key:"bidnet",label:"BidNet",icon:"ðŸ”—"},{key:"bonfire",label:"Bonfire",icon:"ðŸ”¥"},{key:"publicpurchase",label:"Public Purchase",icon:"ðŸ›’"}];function i(){let[e,i]=(0,t.useState)([]),[n,o]=(0,t.useState)(!0),[d,c]=(0,t.useState)(null),[m,g]=(0,t.useState)(""),[p,x]=(0,t.useState)("all");(0,t.useEffect)(()=>{u()},[]);let u=async()=>{o(!0);try{let e=await fetch("/api/patcher/portals");if(e.ok){let a=((await e.json()).portals||[]).map(e=>({id:`${e.platform}_${e.id}`,name:e.name||e.id,platform:e.platform,url:e.path,type:"login",status:"not_configured",tradelines:[]}));i(a)}}catch(e){console.error("Failed to fetch portals:",e)}finally{o(!1)}},y=e.filter(e=>{let a=!d||e.platform===d,t=!m||e.name.toLowerCase().includes(m.toLowerCase())||e.platform.toLowerCase().includes(m.toLowerCase());return a&&t}),h=r.map(a=>({...a,count:e.filter(e=>e.platform===a.key).length,issues:e.filter(e=>e.platform===a.key&&("failed"===e.status||"expired"===e.status)).length})),b=e.filter(e=>"not_configured"!==e.status).length,f=e.filter(e=>"failed"===e.status||"expired"===e.status).length;return(0,a.jsxs)("div",{className:"h-full flex flex-col overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex-shrink-0 p-6 pb-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),placeholder:"Search local portals...",className:"flex-1 max-w-md bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-sm text-white placeholder-gray-500 focus:border-blue-500 focus:outline-none"}),(0,a.jsx)(l.default,{value:p,onChange:x}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,a.jsx)("span",{className:"text-2xl",children:"ðŸ¢"}),(0,a.jsxs)("span",{children:[e.length," portals"]}),(0,a.jsx)("span",{className:"text-gray-600",children:"|"}),(0,a.jsxs)("span",{className:"text-green-400",children:[b," configured"]}),f>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"|"}),(0,a.jsxs)("span",{className:"text-red-400",children:[f," issues"]})]})]}),(0,a.jsx)("button",{onClick:u,disabled:n,className:"px-4 py-2 text-sm font-medium bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:n?"Loading...":"Refresh"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4 overflow-x-auto pb-2",children:[(0,a.jsxs)("button",{onClick:()=>c(null),className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors whitespace-nowrap ${!d?"bg-blue-500 text-white":"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:["All Platforms (",e.length,")"]}),h.map(e=>(0,a.jsxs)("button",{onClick:()=>c(e.key),className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors whitespace-nowrap flex items-center gap-2 ${d===e.key?"bg-blue-500 text-white":"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:[(0,a.jsx)("span",{children:e.icon}),e.label," (",e.count,")",e.issues>0&&(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-500"})]},e.key))]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto px-6 pb-6",children:n?(0,a.jsx)("div",{className:"text-center text-gray-500 py-12",children:"Loading local portals..."}):y.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:y.map(e=>(0,a.jsxs)(s.default,{href:`/credentials/local/${e.id}`,className:`border rounded-lg p-3 cursor-pointer transition-colors block ${"active"===e.status?"bg-green-500/5 border-green-500/30 hover:border-green-500/50":"failed"===e.status||"expired"===e.status?"bg-red-500/5 border-red-500/30 hover:border-red-500/50":"bg-gray-800 border-gray-700 hover:border-gray-600"}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:`w-2 h-2 rounded-full ${"active"===e.status?"bg-green-500":"failed"===e.status||"expired"===e.status?"bg-red-500":"expiring"===e.status?"bg-yellow-500":"bg-gray-500"}`}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-medium text-white text-sm truncate",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.platform})]})]}),void 0!==e.categoryCount&&(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.categoryCount," categories"]}),e.lastError&&(0,a.jsx)("div",{className:"text-xs text-red-400 truncate mt-1",children:e.lastError})]},e.id))}):(0,a.jsx)("div",{className:"text-center text-gray-500 py-12",children:m?"No portals match your search":"No portals found"})}),(0,a.jsxs)("div",{className:"flex-shrink-0 px-6 py-3 border-t border-gray-700 bg-gray-900/50 flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["Showing ",y.length," of ",e.length," portals"]}),(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsx)("button",{className:"px-3 py-1.5 text-sm bg-gray-700 text-gray-300 rounded hover:bg-gray-600",children:"Test All Logins"}),(0,a.jsx)("button",{className:"px-3 py-1.5 text-sm bg-gray-700 text-gray-300 rounded hover:bg-gray-600",children:"Export Status"})]})]})}e.s(["default",()=>i])}]);