(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3661,e=>{"use strict";var a=e.i(4828);let t=[{name:"all",displayName:"All Tradelines"},{name:"security",displayName:"Security"},{name:"administrative",displayName:"Administrative"},{name:"facilities",displayName:"Facilities"},{name:"logistics",displayName:"Logistics"},{name:"electrical",displayName:"Electrical"},{name:"lowvoltage",displayName:"Low Voltage"},{name:"landscaping",displayName:"Landscaping"},{name:"hvac",displayName:"HVAC"},{name:"plumbing",displayName:"Plumbing"},{name:"janitorial",displayName:"Janitorial"},{name:"support",displayName:"Support"},{name:"waste",displayName:"Waste"},{name:"construction",displayName:"Construction"},{name:"roofing",displayName:"Roofing"},{name:"painting",displayName:"Painting"},{name:"flooring",displayName:"Flooring"},{name:"demolition",displayName:"Demolition"},{name:"environmental",displayName:"Environmental"},{name:"concrete",displayName:"Concrete"},{name:"fencing",displayName:"Fencing"}];function r({value:e,onChange:r}){return(0,a.jsx)("select",{value:e,onChange:e=>r(e.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white focus:border-blue-500 focus:outline-none",children:t.map(e=>(0,a.jsx)("option",{value:e.name,children:e.displayName},e.name))})}e.s(["default",()=>r])},29064,e=>{"use strict";var a=e.i(4828),t=e.i(65508),r=e.i(79443),i=e.i(3661);let n=[{key:"energy",label:"Energy Districts",icon:"âš¡"},{key:"transit",label:"Transit Authorities",icon:"ðŸšŒ"},{key:"water",label:"Water Districts",icon:"ðŸ’§"},{key:"utilities",label:"Utilities",icon:"ðŸ”Œ"},{key:"ports",label:"Ports & Airports",icon:"âœˆï¸"},{key:"housing",label:"Housing Authorities",icon:"ðŸ "}],o=[{id:"smud",name:"Sacramento Municipal Utility District",category:"energy",platform:"California",type:"login"},{id:"ladwp",name:"Los Angeles Dept of Water & Power",category:"energy",platform:"California",type:"login"},{id:"pge",name:"Pacific Gas & Electric",category:"energy",platform:"California",type:"login"},{id:"sce",name:"Southern California Edison",category:"energy",platform:"California",type:"login"},{id:"sdge",name:"San Diego Gas & Electric",category:"energy",platform:"California",type:"login"},{id:"aps",name:"Arizona Public Service",category:"energy",platform:"Arizona",type:"login"},{id:"nvenergy",name:"NV Energy",category:"energy",platform:"Nevada",type:"login"},{id:"xcel",name:"Xcel Energy",category:"energy",platform:"Multi-State",type:"login"},{id:"la_metro",name:"Los Angeles Metro",category:"transit",platform:"California",type:"login"},{id:"bart",name:"Bay Area Rapid Transit",category:"transit",platform:"California",type:"login"},{id:"sacrt",name:"Sacramento Regional Transit",category:"transit",platform:"California",type:"login"},{id:"mta_ny",name:"New York Metropolitan Transit Authority",category:"transit",platform:"New York",type:"login"},{id:"cta",name:"Chicago Transit Authority",category:"transit",platform:"Illinois",type:"login"},{id:"mbta",name:"Massachusetts Bay Transportation Authority",category:"transit",platform:"Massachusetts",type:"login"},{id:"septa",name:"Southeastern Pennsylvania Transportation",category:"transit",platform:"Pennsylvania",type:"login"},{id:"wmata",name:"Washington Metropolitan Area Transit",category:"transit",platform:"DC Metro",type:"login"},{id:"trimet",name:"Portland Tri-County Metropolitan Transit",category:"transit",platform:"Oregon",type:"login"},{id:"rtd",name:"Denver Regional Transportation District",category:"transit",platform:"Colorado",type:"login"},{id:"dart",name:"Dallas Area Rapid Transit",category:"transit",platform:"Texas",type:"login"},{id:"nctd",name:"North County Transit District",category:"transit",platform:"California",type:"login"},{id:"mwd",name:"Metropolitan Water District of Southern California",category:"water",platform:"California",type:"login"},{id:"ebmud",name:"East Bay Municipal Utility District",category:"water",platform:"California",type:"login"},{id:"sfpuc",name:"San Francisco Public Utilities Commission",category:"water",platform:"California",type:"login"},{id:"lvvwd",name:"Las Vegas Valley Water District",category:"water",platform:"Nevada",type:"login"},{id:"snwa",name:"Southern Nevada Water Authority",category:"water",platform:"Nevada",type:"login"},{id:"denverwater",name:"Denver Water",category:"water",platform:"Colorado",type:"login"},{id:"phoenixwater",name:"Phoenix Water Services Department",category:"water",platform:"Arizona",type:"login"},{id:"ieua",name:"Inland Empire Utilities Agency",category:"water",platform:"California",type:"login"},{id:"att",name:"AT&T Procurement",category:"utilities",platform:"National",type:"login"},{id:"verizon",name:"Verizon Procurement",category:"utilities",platform:"National",type:"login"},{id:"comcast",name:"Comcast Procurement",category:"utilities",platform:"National",type:"login"},{id:"centurylink",name:"CenturyLink / Lumen",category:"utilities",platform:"National",type:"login"},{id:"port_la",name:"Port of Los Angeles",category:"ports",platform:"California",type:"login"},{id:"port_lb",name:"Port of Long Beach",category:"ports",platform:"California",type:"login"},{id:"port_oakland",name:"Port of Oakland",category:"ports",platform:"California",type:"login"},{id:"port_seattle",name:"Port of Seattle",category:"ports",platform:"Washington",type:"login"},{id:"lawa",name:"Los Angeles World Airports",category:"ports",platform:"California",type:"login"},{id:"sfo",name:"San Francisco International Airport",category:"ports",platform:"California",type:"login"},{id:"panynj",name:"Port Authority of New York & New Jersey",category:"ports",platform:"New York",type:"login"},{id:"massport",name:"Massachusetts Port Authority",category:"ports",platform:"Massachusetts",type:"login"},{id:"hacla",name:"Housing Authority of Los Angeles",category:"housing",platform:"California",type:"login"},{id:"nycha",name:"New York City Housing Authority",category:"housing",platform:"New York",type:"login"},{id:"cha",name:"Chicago Housing Authority",category:"housing",platform:"Illinois",type:"login"},{id:"pha",name:"Philadelphia Housing Authority",category:"housing",platform:"Pennsylvania",type:"login"},{id:"sfha",name:"San Francisco Housing Authority",category:"housing",platform:"California",type:"login"}];function s(){let[e,s]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0),[g,d]=(0,t.useState)(null),[m,p]=(0,t.useState)(""),[y,u]=(0,t.useState)("all");(0,t.useEffect)(()=>{f()},[]);let f=async()=>{c(!0);try{let e=await fetch("/api/patcher/sources/municipal");if(e.ok){let a=await e.json();s(a.sources||[])}else s(o.map(e=>({...e,status:"not_configured",tradelines:[]})))}catch(e){console.error("Failed to fetch municipal sources:",e),s(o.map(e=>({...e,status:"not_configured",tradelines:[]})))}finally{c(!1)}},h=a=>e.filter(e=>{let t=o.find(a=>a.id===e.id);return t?.category===a}),x=e.filter(e=>{let a=o.find(a=>a.id===e.id),t=!g||a?.category===g,r=!m||e.name.toLowerCase().includes(m.toLowerCase())||e.platform.toLowerCase().includes(m.toLowerCase());return t&&r}),b=n.map(e=>({...e,count:h(e.key).length,issues:h(e.key).filter(e=>"failed"===e.status||"expired"===e.status).length})),N=e.filter(e=>"not_configured"!==e.status).length,v=e.filter(e=>"failed"===e.status||"expired"===e.status).length;return(0,a.jsxs)("div",{className:"h-full flex flex-col overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex-shrink-0 p-6 pb-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value),placeholder:"Search municipal sources...",className:"flex-1 max-w-md bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-sm text-white placeholder-gray-500 focus:border-blue-500 focus:outline-none"}),(0,a.jsx)(i.default,{value:y,onChange:u}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,a.jsx)("span",{className:"text-2xl",children:"âš¡"}),(0,a.jsxs)("span",{children:[e.length," sources"]}),(0,a.jsx)("span",{className:"text-gray-600",children:"|"}),(0,a.jsxs)("span",{className:"text-green-400",children:[N," configured"]}),v>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"|"}),(0,a.jsxs)("span",{className:"text-red-400",children:[v," issues"]})]})]}),(0,a.jsx)("button",{onClick:f,disabled:l,className:"px-4 py-2 text-sm font-medium bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:l?"Loading...":"Refresh"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4 overflow-x-auto pb-2",children:[(0,a.jsxs)("button",{onClick:()=>d(null),className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors whitespace-nowrap ${!g?"bg-blue-500 text-white":"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:["All (",e.length,")"]}),b.map(e=>(0,a.jsxs)("button",{onClick:()=>d(e.key),className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors whitespace-nowrap flex items-center gap-2 ${g===e.key?"bg-blue-500 text-white":"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:[(0,a.jsx)("span",{children:e.icon}),e.label," (",e.count,")",e.issues>0&&(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-500"})]},e.key))]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto px-6 pb-6",children:l?(0,a.jsx)("div",{className:"text-center text-gray-500 py-12",children:"Loading municipal sources..."}):x.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:x.map(e=>{let t=o.find(a=>a.id===e.id),i=n.find(e=>e.key===t?.category);return(0,a.jsxs)(r.default,{href:`/credentials/municipal/${e.id}`,className:`border rounded-lg p-3 cursor-pointer transition-colors block ${"active"===e.status?"bg-green-500/5 border-green-500/30 hover:border-green-500/50":"failed"===e.status||"expired"===e.status?"bg-red-500/5 border-red-500/30 hover:border-red-500/50":"bg-gray-800 border-gray-700 hover:border-gray-600"}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:`w-2 h-2 rounded-full ${"active"===e.status?"bg-green-500":"failed"===e.status||"expired"===e.status?"bg-red-500":"expiring"===e.status?"bg-yellow-500":"bg-gray-500"}`}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-medium text-white text-sm truncate",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.platform})]}),i&&(0,a.jsx)("span",{className:"text-sm",children:i.icon})]}),e.username&&(0,a.jsx)("div",{className:"text-xs text-gray-500 truncate",children:e.username}),e.lastError&&(0,a.jsx)("div",{className:"text-xs text-red-400 truncate mt-1",children:e.lastError})]},e.id)})}):(0,a.jsx)("div",{className:"text-center text-gray-500 py-12",children:m?"No sources match your search":"No sources found"})}),(0,a.jsxs)("div",{className:"flex-shrink-0 px-6 py-3 border-t border-gray-700 bg-gray-900/50 flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["Showing ",x.length," of ",e.length," sources"]}),(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsx)("button",{className:"px-3 py-1.5 text-sm bg-gray-700 text-gray-300 rounded hover:bg-gray-600",children:"Test All Logins"}),(0,a.jsx)("button",{className:"px-3 py-1.5 text-sm bg-gray-700 text-gray-300 rounded hover:bg-gray-600",children:"Export Status"})]})]})}e.s(["default",()=>s])}]);