(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3510,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),l=e.i(53642),s=e.i(73375),n=e.i(63059),i=e.i(7233),o=e.i(3116);let d=(0,e.i(75254).default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);function c({weekDates:e,events:a,primaryColor:l,isToday:s,formatHour:n,onSlotClick:i,onEventClick:o,onEventDrop:d,onCreateEvent:c,onAddEvent:u,onRefresh:g,calendarRef:x}){let m,h,b,p=Array.from({length:24},(e,t)=>t),[y,f]=(0,r.useState)(null),[v,j]=(0,r.useState)(null),[w,N]=(0,r.useState)(!1),[_,k]=(0,r.useState)(0),[S,C]=(0,r.useState)(null),[D,T]=(0,r.useState)({x:0,y:0}),[$,M]=(0,r.useState)({x:0,y:0}),[E,F]=(0,r.useState)(!1),[q,O]=(0,r.useState)(!1),[B,P]=(0,r.useState)({date:null,hour:null,endHour:null,title:""});async function A(){if(B.title.trim()&&B.date&&null!==B.hour)try{let e=new Date(B.date);e.setHours(B.hour,0,0,0);let t=null!==B.endHour?B.endHour-B.hour+1:1,r=new Date(e.getTime()+60*t*6e4),a={id:`task-${Date.now()}`,title:B.title.trim(),start_datetime:e.toISOString(),end_datetime:r.toISOString(),event_type:"task",color:l,status:"scheduled"};u&&u(a),F(!1),P({date:null,hour:null,endHour:null,title:""})}catch(e){console.error("Error creating task:",e),alert("Error creating task. Please try again.")}}r.default.useEffect(()=>{let e=e=>{S&&T({x:e.clientX-$.x,y:e.clientY-$.y})},t=e=>{if(S&&d){let t=document.elementsFromPoint(e.clientX,e.clientY).find(e=>e.hasAttribute("data-slot"));if(t){let e=t.getAttribute("data-date"),r=parseInt(t.getAttribute("data-hour")||"0");if(e){let t=new Date(e);d(S.id,t,r)}}}C(null)};return S&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}},[S,$,d]);let I=new Date,L=I.getHours(),Y=I.getMinutes();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex sticky top-0 bg-gray-900 z-20 shadow-sm overflow-y-scroll",children:[(0,t.jsx)("div",{className:"w-20 flex-shrink-0 bg-gray-900"}),e.map((e,r)=>(0,t.jsxs)("div",{className:"flex-1 bg-gray-800 border border-gray-700 mx-0.5 rounded-t-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:`text-center py-3 ${s(e)?"bg-blue-500/20":"bg-gray-800"}`,children:[(0,t.jsx)("div",{className:`text-xs font-medium uppercase ${s(e)?"text-blue-400":"text-gray-400"}`,children:e.toLocaleDateString("en-US",{weekday:"short"})}),(0,t.jsx)("div",{className:`text-2xl font-bold mt-1 ${s(e)?"text-blue-400":"text-white"}`,children:e.getDate()})]}),(0,t.jsx)("div",{className:"h-2",style:{backgroundColor:l}})]},r))]}),(0,t.jsxs)("div",{ref:x,className:"flex-1 overflow-auto bg-gray-900 relative",children:[(0,t.jsx)("div",{className:"absolute left-0 right-0 h-1 z-10 pointer-events-none",style:{backgroundColor:l,top:"960px",opacity:.5}}),(0,t.jsx)("div",{className:"absolute left-0 right-0 h-0.5 z-30 pointer-events-none",style:{backgroundColor:"#EF4444",top:`${80*L+Y/60*80}px`,boxShadow:"0 0 4px rgba(239, 68, 68, 0.5)"},children:(0,t.jsx)("div",{className:"absolute left-16 -top-1.5 w-3 h-3 rounded-full",style:{backgroundColor:"#EF4444"}})}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"w-20 flex-shrink-0 bg-gray-900",children:p.map(e=>(0,t.jsx)("div",{className:"h-20 text-right pr-2 pt-1 text-xs text-gray-500 border-b border-gray-800",children:n(e)},e))}),e.map((e,r)=>(0,t.jsx)("div",{className:"flex-1 bg-gray-800 border border-gray-700 mx-0.5 mb-2 rounded-b-lg overflow-hidden",children:p.map(r=>{let n=a.filter(t=>{let a=new Date(t.start_datetime),l=a.toDateString(),s=e.toDateString(),n=a.getHours();return l===s&&n===r});return(0,t.jsx)("div",{"data-slot":"true","data-date":e.toISOString(),"data-hour":r,className:`h-20 relative ${s(e)?"bg-blue-500/5":""} hover:bg-gray-700/50 transition-colors cursor-pointer border-b border-gray-700 ${w&&y&&v&&e.toDateString()===y.date.toDateString()&&r>=Math.min(y.hour,v.hour)&&r<=Math.max(y.hour,v.hour)?"bg-blue-500/20 ring-2 ring-blue-500":""}`,onMouseDown:t=>{t.preventDefault(),f({date:e,hour:r}),j({date:e,hour:r}),N(!0)},onMouseEnter:()=>{w&&y&&e.toDateString()===y.date.toDateString()&&j({date:e,hour:r})},onMouseUp:()=>{if(w&&y&&v){let t=Date.now();if(t-_<300){N(!1),f(null),j(null);return}k(t);let r=Math.min(y.hour,v.hour),a=Math.max(y.hour,v.hour);y.date.toDateString()===e.toDateString()&&(P({date:y.date,hour:r,endHour:r!==a?a:null,title:""}),O(!0))}N(!1),f(null),j(null)},children:n.map(e=>{let r=new Date(e.start_datetime),a=e.end_datetime?new Date(e.end_datetime):null,s=80;a&&(s=Math.max(40,(a.getTime()-r.getTime())/36e5*80));let n=r.getMinutes(),i=S&&S.id===e.id;return(0,t.jsxs)("div",{className:`absolute left-1 right-1 rounded p-1 text-xs font-medium text-white overflow-hidden transition-all z-10 ${i?"opacity-30 scale-95":""}`,style:{backgroundColor:e.color||l,height:`${s}px`,top:`${n/60*80}px`},onClick:t=>{t.stopPropagation(),S||o(e)},children:[(0,t.jsxs)("div",{onMouseDown:t=>{let r;return t.stopPropagation(),t.preventDefault(),r=t.currentTarget.getBoundingClientRect(),void(C(e),M({x:t.clientX-r.left,y:t.clientY-r.top}),T({x:t.clientX-(t.clientX-r.left),y:t.clientY-(t.clientY-r.top)}))},className:"cursor-move hover:bg-white/10 rounded transition-colors",style:{height:`${Math.min(s,80)}px`,position:"relative"},children:[(0,t.jsx)("div",{className:"font-semibold truncate p-0.5",children:e.title}),e.location_address&&s>55&&(0,t.jsxs)("div",{className:"text-xs opacity-90 truncate px-0.5",children:["ðŸ“ ",e.location_address]}),a&&s>50&&(0,t.jsxs)("div",{className:"text-xs opacity-75 mt-0.5 px-0.5",children:[r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})," -",a.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})]})]}),s>80&&(0,t.jsx)("div",{className:"px-1 py-0.5 pointer-events-none",children:(0,t.jsx)("div",{className:"text-xs opacity-50 text-center border-t border-white/20 pt-1",children:"(Drag from top to move)"})})]},e.id)})},r)})},r))]})]}),S&&(0,t.jsxs)("div",{className:"fixed pointer-events-none z-50 rounded p-1 text-xs font-medium text-white shadow-2xl",style:{backgroundColor:S.color||l,left:`${D.x}px`,top:`${D.y}px`,width:"150px",height:(m=new Date(S.start_datetime),h=S.end_datetime?new Date(S.end_datetime):null,b=80,h&&(b=Math.max(40,(h.getTime()-m.getTime())/36e5*80)),`${b}px`),transform:"none",opacity:1},children:[(0,t.jsx)("div",{className:"font-semibold truncate",children:S.title}),S.location_address&&(0,t.jsxs)("div",{className:"text-xs opacity-90 truncate",children:["ðŸ“ ",S.location_address]})]})]}),q&&B.date&&null!==B.hour&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>O(!1),children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl p-6 w-96 border border-gray-700",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:"What would you like to create?"}),(0,t.jsxs)("p",{className:"text-sm text-gray-400 mb-6",children:[B.date.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),null!==B.endHour?` from ${n(B.hour)} to ${n(B.endHour+1)}`:` at ${n(B.hour)}`]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("button",{onClick:()=>{O(!1),F(!0)},className:"w-full flex items-center justify-between p-4 border-2 border-gray-600 rounded-lg hover:border-blue-500 hover:bg-blue-500/10 transition-all group",children:[(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"font-semibold text-white group-hover:text-blue-400",children:"Quick Add Task"}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Fast way to block time"})]}),(0,t.jsx)("div",{className:"text-2xl",children:"âš¡"})]}),(0,t.jsxs)("button",{onClick:()=>{O(!1),c&&B.date&&null!==B.hour&&c(B.date,B.hour)},className:"w-full flex items-center justify-between p-4 border-2 border-gray-600 rounded-lg hover:border-purple-500 hover:bg-purple-500/10 transition-all group",children:[(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"font-semibold text-white group-hover:text-purple-400",children:"Create Event"}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Full details, assigned devs"})]}),(0,t.jsx)("div",{className:"text-2xl",children:"ðŸ“…"})]})]}),(0,t.jsx)("button",{onClick:()=>O(!1),className:"w-full mt-4 px-4 py-2 text-sm text-gray-400 hover:text-white",children:"Cancel"})]})}),E&&B.date&&null!==B.hour&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>F(!1),children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl p-6 w-96 border border-gray-700",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Quick Add Task"}),(0,t.jsxs)("p",{className:"text-sm text-gray-400 mb-4",children:[B.date.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),null!==B.endHour?` from ${n(B.hour)} to ${n(B.endHour+1)}`:` at ${n(B.hour)}`]}),(0,t.jsx)("input",{type:"text",value:B.title,onChange:e=>P({...B,title:e.target.value}),onKeyDown:e=>{"Enter"===e.key?A():"Escape"===e.key&&F(!1)},placeholder:"What needs to be done?",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4",autoFocus:!0}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)("button",{onClick:()=>F(!1),className:"flex-1 px-4 py-2 border border-gray-600 text-gray-300 rounded-lg hover:bg-gray-700",children:"Cancel"}),(0,t.jsx)("button",{onClick:A,className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90",style:{backgroundColor:l},children:"Add Task"})]})]})})]})}function u({currentDate:e,events:r,primaryColor:a,isToday:l,onWeekClick:s}){let n=function(){let t=new Date(new Date(e.getFullYear(),e.getMonth(),1)),r=t.getDay();t.setDate(t.getDate()+(0===r?-6:1-r));let a=[];for(let e=0;e<5;e++){let r=[];for(let a=0;a<7;a++){let l=new Date(t);l.setDate(l.getDate()+7*e+a),r.push(l)}a.push(r)}return a}(),i=e.getMonth();return(0,t.jsxs)("div",{className:"flex flex-col bg-gray-900 h-full overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex bg-gray-900 shadow-sm flex-shrink-0",children:[(0,t.jsx)("div",{className:"w-20 flex-shrink-0 bg-gray-900"}),["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(e=>(0,t.jsxs)("div",{className:"flex-1 bg-gray-800 border border-gray-700 mx-0.5 rounded-t-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"text-center py-3",children:(0,t.jsx)("div",{className:"text-xs font-semibold text-gray-400 uppercase",children:e})}),(0,t.jsx)("div",{className:"h-2",style:{backgroundColor:a}})]},e))]}),(0,t.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden",children:n.map((e,n)=>{let o=e[0];return(0,t.jsxs)("div",{className:"flex border-b border-gray-700 last:border-b-0",style:{height:"20%"},children:[(0,t.jsx)("button",{onClick:()=>s&&s(o),className:"w-20 flex-shrink-0 text-white flex items-center justify-center transition-opacity hover:opacity-80 border-r border-gray-700",style:{writingMode:"vertical-rl",textOrientation:"mixed",backgroundColor:a},title:"Click to view this week",children:(0,t.jsx)("span",{className:"font-semibold text-sm tracking-wide",children:"Week of"})}),e.map((e,n)=>{let o=r.filter(t=>new Date(t.start_datetime).toDateString()===e.toDateString()),d=e.getMonth()===i,c=l(e);return(0,t.jsxs)("div",{onClick:()=>s&&s(e),className:`flex-1 bg-gray-800 border-r border-gray-700 last:border-r-0 p-2 overflow-hidden flex flex-col cursor-pointer hover:bg-gray-700 transition-colors ${!d?"opacity-30":""} ${c?"ring-2 ring-blue-500 ring-inset":""}`,title:"Click to view this week",children:[(0,t.jsx)("div",{className:`text-xl font-bold mb-1 ${c?"text-blue-400":d?"text-white":"text-gray-500"}`,children:e.getDate()}),(0,t.jsxs)("div",{className:"space-y-1 flex-1 overflow-auto",children:[o.slice(0,6).map(e=>(0,t.jsx)("div",{className:"text-xs px-2 py-1 rounded truncate text-white font-medium cursor-pointer hover:opacity-80 transition-opacity",style:{backgroundColor:e.color||a},title:e.title,children:e.title},e.id)),o.length>6&&(0,t.jsxs)("div",{className:"text-xs text-gray-400 font-medium px-2",children:["+",o.length-6," more"]})]})]},n)})]},n)})})]})}var g=e.i(37727),x=e.i(31278);let m=[{value:"deploy",label:"Deployment"},{value:"sprint",label:"Sprint Planning"},{value:"standup",label:"Standup"},{value:"review",label:"Code Review"},{value:"meeting",label:"Meeting"},{value:"task",label:"Task"},{value:"maintenance",label:"Maintenance"},{value:"release",label:"Release"}],h=[{value:"#3B82F6",label:"Blue"},{value:"#10B981",label:"Green"},{value:"#F59E0B",label:"Amber"},{value:"#EF4444",label:"Red"},{value:"#8B5CF6",label:"Purple"},{value:"#EC4899",label:"Pink"}];function b({onClose:e,onSuccess:a,initialDate:l,initialHour:s}){let[n,i]=(0,r.useState)(!1),{startDate:o,startTime:d,endTime:c}=(()=>{let e="",t="",r="";if(l){let t=l.getFullYear(),r=String(l.getMonth()+1).padStart(2,"0"),a=String(l.getDate()).padStart(2,"0");e=`${t}-${r}-${a}`}if(void 0!==s){let e=String(s).padStart(2,"0");t=`${e}:00`,r=`${String((s+1)%24).padStart(2,"0")}:00`}return{startDate:e,startTime:t,endTime:r}})(),[u,b]=(0,r.useState)({event_type:"task",title:"",description:"",start_date:o,start_time:d,end_date:"",end_time:c,all_day:!1,color:"#3B82F6",assigned_devs:[]});async function p(e){e.preventDefault(),i(!0);try{let e=u.all_day?`${u.start_date}T00:00:00`:`${u.start_date}T${u.start_time}:00`,t=u.end_date?u.all_day?`${u.end_date}T23:59:59`:`${u.end_date}T${u.end_time||"23:59"}:00`:u.end_time?`${u.start_date}T${u.end_time}:00`:null;console.log("Creating event:",{event_type:u.event_type,title:u.title,description:u.description,start_datetime:e,end_datetime:t,all_day:u.all_day,color:u.color}),alert("Event created successfully!"),a()}catch(e){console.error("Error creating event:",e),alert("Error creating event. Please try again.")}finally{i(!1)}}return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-auto border border-gray-700",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-gray-800 border-b border-gray-700 px-6 py-4 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Create Event"}),(0,t.jsx)("button",{onClick:e,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,t.jsx)(g.X,{className:"w-5 h-5 text-gray-400"})})]}),(0,t.jsxs)("form",{onSubmit:p,className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Event Type"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:m.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>b({...u,event_type:e.value}),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${u.event_type===e.value?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title *"}),(0,t.jsx)("input",{type:"text",value:u.title,onChange:e=>b({...u,title:e.target.value}),placeholder:"e.g., Deploy Tradelines v2.5",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:u.description,onChange:e=>b({...u,description:e.target.value}),rows:3,placeholder:"Details, notes, links...",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:u.all_day,onChange:e=>b({...u,all_day:e.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-gray-300",children:"All day event"})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Date *"}),(0,t.jsx)("input",{type:"date",value:u.start_date,onChange:e=>b({...u,start_date:e.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),!u.all_day&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Time *"}),(0,t.jsxs)("select",{value:u.start_time,onChange:e=>{let t=e.target.value,[r]=t.split(":").map(Number),a=`${String((r+1)%24).padStart(2,"0")}:00`;b({...u,start_time:t,end_time:a})},className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!u.all_day,children:[(0,t.jsx)("option",{value:"",children:"Select time..."}),Array.from({length:96},(e,r)=>{let a=Math.floor(r/4),l=r%4*15,s=`${String(a).padStart(2,"0")}:${String(l).padStart(2,"0")}`;return(0,t.jsxs)("option",{value:s,children:[0===a?12:a>12?a-12:a,":",String(l).padStart(2,"0")," ",a<12?"AM":"PM"]},s)})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Date (Optional)"}),(0,t.jsx)("input",{type:"date",value:u.end_date,onChange:e=>b({...u,end_date:e.target.value}),min:u.start_date,className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),!u.all_day&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Time *"}),(0,t.jsxs)("select",{value:u.end_time,onChange:e=>b({...u,end_time:e.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!u.all_day,children:[(0,t.jsx)("option",{value:"",children:"Select time..."}),Array.from({length:96},(e,r)=>{let a=Math.floor(r/4),l=r%4*15,s=`${String(a).padStart(2,"0")}:${String(l).padStart(2,"0")}`;return(0,t.jsxs)("option",{value:s,children:[0===a?12:a>12?a-12:a,":",String(l).padStart(2,"0")," ",a<12?"AM":"PM"]},s)})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Color"}),(0,t.jsx)("div",{className:"flex space-x-2",children:h.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>b({...u,color:e.value}),className:`w-10 h-10 rounded-lg transition-all ${u.color===e.value?"ring-2 ring-offset-2 ring-offset-gray-800 ring-white":""}`,style:{backgroundColor:e.value},title:e.label},e.value))})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-700",children:[(0,t.jsx)("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{type:"submit",disabled:n||!u.title||!u.start_date,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n&&(0,t.jsx)(x.Loader2,{className:"w-4 h-4 animate-spin"}),(0,t.jsx)("span",{children:n?"Creating...":"Create Event"})]})]})]})]})})}var p=e.i(55436);let y=[{value:"task",label:"Task",color:"#3B82F6"},{value:"meeting",label:"Meeting",color:"#8B5CF6"},{value:"deploy",label:"Deploy",color:"#10B981"},{value:"sprint",label:"Sprint",color:"#F59E0B"},{value:"standup",label:"Standup",color:"#06B6D4"},{value:"review",label:"Review",color:"#EC4899"},{value:"maintenance",label:"Maintenance",color:"#EF4444"},{value:"release",label:"Release",color:"#84CC16"}],f=[{value:"tradelines",label:"Tradelines (7101)"},{value:"portals",label:"User Portals (7102)"},{value:"nextbidder",label:"NextBidder (7103)"},{value:"sources",label:"Sources (7104)"},{value:"nexttech",label:"NextTech (7105)"},{value:"nexttask",label:"NextTask (7106)"},{value:"dashboard",label:"Dashboard"}],v=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#84CC16"],j=[{id:"1",name:"Michael",email:"michael@nextbid.com"},{id:"2",name:"Dev Team",email:"dev@nextbid.com"},{id:"3",name:"Support",email:"support@nextbid.com"}];function w({event:e,onClose:a,onSuccess:l,onDelete:s}){let n,i,[o,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)(!1),[b,w]=(0,r.useState)((n=new Date(e.start_datetime),i=e.end_datetime?new Date(e.end_datetime):null,{event_type:e.event_type||"task",title:e.title||"",description:e.description||"",start_date:n.toISOString().split("T")[0],start_time:`${String(n.getHours()).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}`,end_date:i?i.toISOString().split("T")[0]:n.toISOString().split("T")[0],end_time:i?`${String(i.getHours()).padStart(2,"0")}:${String(i.getMinutes()).padStart(2,"0")}`:"",location_address:e.location_address||"",color:e.color||"#3B82F6",project:e.project||"",assigned_to_ids:e.assigned_to_ids||[],status:e.status||"scheduled"})),[N,_]=(0,r.useState)(""),k=j.filter(e=>e.name.toLowerCase().includes(N.toLowerCase())||e.email.toLowerCase().includes(N.toLowerCase()));function S(e){w(t=>({...t,assigned_to_ids:t.assigned_to_ids.includes(e)?t.assigned_to_ids.filter(t=>t!==e):[...t.assigned_to_ids,e]}))}async function C(t){t.preventDefault(),d(!0);try{let t=new Date(`${b.start_date}T${b.start_time}:00`),r=new Date(b.end_time?`${b.end_date||b.start_date}T${b.end_time}:00`:t.getTime()+36e5),a={...e,event_type:b.event_type,title:b.title,description:b.description,start_datetime:t.toISOString(),end_datetime:r.toISOString(),location_address:b.location_address||null,color:b.color,project:b.project||null,assigned_to_ids:b.assigned_to_ids,status:b.status};console.log("Updating event:",a),l(a)}catch(e){console.error("Error updating event:",e),alert("Error updating event. Please try again.")}finally{d(!1)}}async function D(){if(s){u(!0);try{console.log("Deleting event:",e.id),s(e.id)}catch(e){console.error("Error deleting event:",e),alert("Error deleting event. Please try again.")}finally{u(!1)}}}return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-auto border border-gray-700",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-gray-800 border-b border-gray-700 px-6 py-4 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Edit Event"}),(0,t.jsx)("button",{onClick:a,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,t.jsx)(g.X,{className:"w-5 h-5 text-gray-400"})})]}),(0,t.jsxs)("form",{onSubmit:C,className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Event Type"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:y.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>w({...b,event_type:e.value,color:e.color}),className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors ${b.event_type===e.value?"text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,style:b.event_type===e.value?{backgroundColor:e.color}:{},children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title *"}),(0,t.jsx)("input",{type:"text",value:b.title,onChange:e=>w({...b,title:e.target.value}),placeholder:"Event title",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:b.description,onChange:e=>w({...b,description:e.target.value}),rows:3,placeholder:"Event details, notes, etc.",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Project"}),(0,t.jsxs)("select",{value:b.project,onChange:e=>w({...b,project:e.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"",children:"No project"}),f.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Date *"}),(0,t.jsx)("input",{type:"date",value:b.start_date,onChange:e=>w({...b,start_date:e.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Time *"}),(0,t.jsx)("input",{type:"time",value:b.start_time,onChange:e=>w({...b,start_time:e.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Date"}),(0,t.jsx)("input",{type:"date",value:b.end_date,onChange:e=>w({...b,end_date:e.target.value}),min:b.start_date,className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Time"}),(0,t.jsx)("input",{type:"time",value:b.end_time,onChange:e=>w({...b,end_time:e.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Location"}),(0,t.jsx)("input",{type:"text",value:b.location_address,onChange:e=>w({...b,location_address:e.target.value}),placeholder:"Meeting room, address, or video link",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Assign Team Members"}),(0,t.jsxs)("div",{className:"relative mb-2",children:[(0,t.jsx)(p.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-4 h-4"}),(0,t.jsx)("input",{type:"text",value:N,onChange:e=>_(e.target.value),placeholder:"Search team members...",className:"w-full pl-10 pr-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsx)("div",{className:"max-h-32 overflow-y-auto border border-gray-700 rounded-lg",children:k.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>S(e.id),className:`w-full px-4 py-2 text-left flex items-center justify-between hover:bg-gray-700 border-b border-gray-700 last:border-b-0 ${b.assigned_to_ids.includes(e.id)?"bg-blue-500/20":""}`,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-white",children:e.name}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]}),b.assigned_to_ids.includes(e.id)&&(0,t.jsx)("span",{className:"text-blue-400",children:"âœ“"})]},e.id))}),b.assigned_to_ids.length>0&&(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:b.assigned_to_ids.map(e=>{let r=j.find(t=>t.id===e);return r?(0,t.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-sm",children:[r.name,(0,t.jsx)("button",{type:"button",onClick:()=>S(e),className:"ml-1 hover:text-blue-300",children:(0,t.jsx)(g.X,{className:"w-3 h-3"})})]},e):null})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),(0,t.jsxs)("select",{value:b.status,onChange:e=>w({...b,status:e.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,t.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,t.jsx)("option",{value:"completed",children:"Completed"}),(0,t.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Color"}),(0,t.jsx)("div",{className:"flex space-x-2",children:v.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>w({...b,color:e}),className:`w-8 h-8 rounded-lg transition-all ${b.color===e?"ring-2 ring-offset-2 ring-offset-gray-800 ring-white":""}`,style:{backgroundColor:e}},e))})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-700",children:[(0,t.jsxs)("div",{children:[s&&!m&&(0,t.jsx)("button",{type:"button",onClick:()=>h(!0),className:"px-4 py-2 text-sm font-medium text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-colors",children:"Delete Event"}),m&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-400",children:"Delete?"}),(0,t.jsx)("button",{type:"button",onClick:D,disabled:c,className:"px-3 py-1 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:opacity-50",children:c?"Deleting...":"Yes"}),(0,t.jsx)("button",{type:"button",onClick:()=>h(!1),className:"px-3 py-1 text-sm font-medium text-gray-400 hover:text-white",children:"No"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{type:"submit",disabled:o||!b.title||!b.start_date,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o&&(0,t.jsx)(x.Loader2,{className:"w-4 h-4 animate-spin"}),(0,t.jsx)("span",{children:o?"Saving...":"Save Changes"})]})]})]})]})]})})}function N({onClose:e,onSuccess:a}){let[l,s]=(0,r.useState)(!1),[n,i]=(0,r.useState)({type:"vacation",start_date:"",end_date:"",start_time:"",end_time:"",brief_description:"",long_description:"",everyone_can_see:!0});async function o(e){e.preventDefault(),s(!0);try{console.log("Time off request:",n),alert("Time off request submitted! Waiting for approval."),a()}catch(e){console.error("Error submitting time off request:",e),alert("Error submitting request. Please try again.")}finally{s(!1)}}return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-auto border border-gray-700",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-gray-800 border-b border-gray-700 px-6 py-4 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Request Time Off"}),(0,t.jsx)("button",{onClick:e,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,t.jsx)(g.X,{className:"w-5 h-5 text-gray-400"})})]}),(0,t.jsxs)("form",{onSubmit:o,className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Type of Time Off *"}),(0,t.jsxs)("select",{value:n.type,onChange:e=>i({...n,type:e.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,t.jsx)("option",{value:"vacation",children:"Vacation"}),(0,t.jsx)("option",{value:"sick",children:"Sick Leave"}),(0,t.jsx)("option",{value:"personal",children:"Personal"}),(0,t.jsx)("option",{value:"unpaid",children:"Unpaid Leave"}),(0,t.jsx)("option",{value:"other",children:"Other"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Date *"}),(0,t.jsx)("input",{type:"date",value:n.start_date,onChange:e=>i({...n,start_date:e.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Date (Optional)"}),(0,t.jsx)("input",{type:"date",value:n.end_date,onChange:e=>i({...n,end_date:e.target.value}),min:n.start_date,className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Time (Optional)"}),(0,t.jsxs)("select",{value:n.start_time,onChange:e=>i({...n,start_time:e.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"",children:"All day"}),Array.from({length:96},(e,r)=>{let a=Math.floor(r/4),l=r%4*15,s=`${String(a).padStart(2,"0")}:${String(l).padStart(2,"0")}`;return(0,t.jsxs)("option",{value:s,children:[0===a?12:a>12?a-12:a,":",String(l).padStart(2,"0")," ",a<12?"AM":"PM"]},s)})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Time (Optional)"}),(0,t.jsxs)("select",{value:n.end_time,onChange:e=>i({...n,end_time:e.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"",children:"All day"}),Array.from({length:96},(e,r)=>{let a=Math.floor(r/4),l=r%4*15,s=`${String(a).padStart(2,"0")}:${String(l).padStart(2,"0")}`;return(0,t.jsxs)("option",{value:s,children:[0===a?12:a>12?a-12:a,":",String(l).padStart(2,"0")," ",a<12?"AM":"PM"]},s)})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Brief Description"}),(0,t.jsx)("input",{type:"text",value:n.brief_description,onChange:e=>i({...n,brief_description:e.target.value}),placeholder:"e.g., Family vacation, Doctor appointment",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Additional Details (Optional)"}),(0,t.jsx)("textarea",{value:n.long_description,onChange:e=>i({...n,long_description:e.target.value}),rows:3,className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:n.everyone_can_see,onChange:e=>i({...n,everyone_can_see:e.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-gray-300",children:"Everyone can see this request"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"Blocks your calendar so others know you're unavailable"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-700",children:[(0,t.jsx)("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{type:"submit",disabled:l||!n.start_date,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l&&(0,t.jsx)(x.Loader2,{className:"w-4 h-4 animate-spin"}),(0,t.jsx)("span",{children:l?"Submitting...":"Submit Request"})]})]})]})]})})}function _({onClose:e,onSuccess:a}){let[l,s]=(0,r.useState)(!1),[n,i]=(0,r.useState)({request_type:"missed_punch",adjustment_date:"",original_clock_in:"",original_clock_out:"",requested_clock_in:"",requested_clock_out:"",requested_break_minutes:0,reason:"",detailed_description:""});async function o(e){e.preventDefault(),s(!0);try{console.log("Timesheet adjustment:",n),alert("Timesheet adjustment request submitted! Your manager will review it."),a()}catch(e){console.error("Error submitting adjustment:",e),alert("Error submitting request. Please try again.")}finally{s(!1)}}return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-auto border border-gray-700",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-gray-800 border-b border-gray-700 px-6 py-4 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Request Timesheet Adjustment"}),(0,t.jsx)("button",{onClick:e,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,t.jsx)(g.X,{className:"w-5 h-5 text-gray-400"})})]}),(0,t.jsxs)("form",{onSubmit:o,className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"What needs to be corrected? *"}),(0,t.jsxs)("select",{value:n.request_type,onChange:e=>i({...n,request_type:e.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,t.jsx)("option",{value:"missed_punch",children:"Forgot to Clock In/Out"}),(0,t.jsx)("option",{value:"clock_in_correction",children:"Clock In Time Wrong"}),(0,t.jsx)("option",{value:"clock_out_correction",children:"Clock Out Time Wrong"}),(0,t.jsx)("option",{value:"missed_break",children:"Forgot to Log Break"}),(0,t.jsx)("option",{value:"other",children:"Other"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date of Work *"}),(0,t.jsx)("input",{type:"date",value:n.adjustment_date,onChange:e=>i({...n,adjustment_date:e.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Original Time (What it shows now)"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Clock In"}),(0,t.jsx)("input",{type:"time",value:n.original_clock_in,onChange:e=>i({...n,original_clock_in:e.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Clock Out"}),(0,t.jsx)("input",{type:"time",value:n.original_clock_out,onChange:e=>i({...n,original_clock_out:e.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-blue-400 mb-3",children:"Requested Time (What it should be) *"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Clock In *"}),(0,t.jsx)("input",{type:"time",value:n.requested_clock_in,onChange:e=>i({...n,requested_clock_in:e.target.value}),className:"w-full px-4 py-2 bg-gray-900 border-2 border-blue-500 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Clock Out *"}),(0,t.jsx)("input",{type:"time",value:n.requested_clock_out,onChange:e=>i({...n,requested_clock_out:e.target.value}),className:"w-full px-4 py-2 bg-gray-900 border-2 border-blue-500 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Break Time (minutes)"}),(0,t.jsx)("input",{type:"number",min:"0",step:"15",value:n.requested_break_minutes,onChange:e=>i({...n,requested_break_minutes:parseInt(e.target.value)||0}),placeholder:"e.g., 30 for 30-minute lunch",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Reason *"}),(0,t.jsx)("input",{type:"text",value:n.reason,onChange:e=>i({...n,reason:e.target.value}),placeholder:"e.g., Forgot to clock out for lunch",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Additional Details"}),(0,t.jsx)("textarea",{value:n.detailed_description,onChange:e=>i({...n,detailed_description:e.target.value}),rows:3,placeholder:"Please provide any additional context that will help your manager approve this request",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-700",children:[(0,t.jsx)("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{type:"submit",disabled:l||!n.adjustment_date||!n.requested_clock_in||!n.requested_clock_out||!n.reason,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l&&(0,t.jsx)(x.Loader2,{className:"w-4 h-4 animate-spin"}),(0,t.jsx)("span",{children:l?"Submitting...":"Submit Request"})]})]})]})]})})}function k(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),children:(0,t.jsx)(S,{})})}function S(){let e=(0,r.useContext)(l.PageTitleContext),g=(0,r.useContext)(l.PageActionsContext),x=(0,a.useSearchParams)(),m=x?.get("mode")||"my",[h,p]=(0,r.useState)("week"),[y,f]=(0,r.useState)(new Date),[v,j]=(0,r.useState)([]),[k,S]=(0,r.useState)(!0),[C,D]=(0,r.useState)(!1),[T,$]=(0,r.useState)(!1),[M,E]=(0,r.useState)(!1),[F,q]=(0,r.useState)(!1),[O,B]=(0,r.useState)(new Date),[P,A]=(0,r.useState)(9),[I,L]=(0,r.useState)(!1),[Y,R]=(0,r.useState)(null),[H,U]=(0,r.useState)([]),[W,z]=(0,r.useState)([]),[X,K]=(0,r.useState)([]),Q=(0,r.useRef)(null),G="#3B82F6";async function V(){K([{id:"1",name:"Michael",role:"Lead Developer",color:"#3B82F6"},{id:"2",name:"Dev Team",role:"Development",color:"#10B981"},{id:"3",name:"Support",role:"Support",color:"#F59E0B"}])}async function J(){let e=new Date,t=[{id:"1",title:"Sprint Planning",start_datetime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),10,0).toISOString(),end_datetime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),11,0).toISOString(),event_type:"meeting",color:"#8B5CF6",status:"scheduled"},{id:"2",title:"Deploy Tradelines v2.5",start_datetime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),14,0).toISOString(),end_datetime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),15,0).toISOString(),event_type:"deploy",color:"#10B981",status:"scheduled"}],r=[...t,{id:"3",title:"Michael: Code Review",description:"Review PR #234 for tradelines",start_datetime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),9,0).toISOString(),end_datetime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),10,0).toISOString(),event_type:"task",color:"#3B82F6",status:"scheduled"},{id:"4",title:"Dev Team: Portal Updates",description:"Working on user portal enhancements",start_datetime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),11,0).toISOString(),end_datetime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),13,0).toISOString(),event_type:"project",color:"#10B981",status:"in_progress"},{id:"5",title:"Support: Client Call",description:"Weekly check-in with ABC Corp",start_datetime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),15,0).toISOString(),end_datetime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),16,0).toISOString(),event_type:"meeting",color:"#F59E0B",status:"scheduled"},{id:"6",title:"Dev Team: NextBidder API",description:"Auction suppliers integration",start_datetime:new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,10,0).toISOString(),end_datetime:new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,14,0).toISOString(),event_type:"project",color:"#10B981",status:"scheduled"}];j("team"===m?r:t)}function Z(e){let t=new Date(y);"week"===h?t.setDate(t.getDate()+7*e):t.setMonth(t.getMonth()+e),f(t)}function ee(){f(new Date)}function et(e){let t=new Date;return e.toDateString()===t.toDateString()}async function er(e,t,r){j(a=>a.map(a=>{if(a.id===e){let e=new Date(a.start_datetime),l=a.end_datetime?new Date(a.end_datetime):null,s=l?l.getTime()-e.getTime():36e5,n=new Date(t);n.setHours(r,0,0,0);let i=new Date(n.getTime()+s);return{...a,start_datetime:n.toISOString(),end_datetime:i.toISOString()}}return a})),console.log("Moved event",e,"to",t,r)}return(0,r.useEffect)(()=>{J(),V(),S(!1)},[m]),(0,r.useEffect)(()=>(e({title:function(){if("week"!==h)return y.toLocaleDateString("en-US",{month:"long",year:"numeric"});{let e=new Date(y),t=e.getDay();e.setDate(e.getDate()+(0===t?-6:1-t));let r=new Date(e);return(r.setDate(r.getDate()+6),e.getMonth()===r.getMonth())?`${e.toLocaleDateString("en-US",{month:"long"})} ${e.getDate()}-${r.getDate()}, ${e.getFullYear()}`:`${e.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${r.toLocaleDateString("en-US",{month:"short",day:"numeric"})}, ${r.getFullYear()}`}}(),description:"team"===m?"Team schedules & projects":"Your personal calendar"}),g((0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>Z(-1),className:"p-2 rounded-xl transition-colors bg-white/10 hover:bg-white/20 text-white border border-black/50",children:(0,t.jsx)(s.ChevronLeft,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:ee,className:"px-4 py-2 text-sm font-medium rounded-xl transition-colors bg-white/10 hover:bg-white/20 text-white border border-black/50",children:"Today"}),(0,t.jsx)("button",{onClick:()=>Z(1),className:"p-2 rounded-xl transition-colors bg-white/10 hover:bg-white/20 text-white border border-black/50",children:(0,t.jsx)(n.ChevronRight,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:"flex items-center space-x-1 ml-2",children:[(0,t.jsx)("button",{onClick:()=>p("week"),className:`px-4 py-2 text-sm font-medium rounded-xl transition-colors border border-black/50 ${"week"===h?"bg-white/30 text-white shadow-sm":"bg-white/10 hover:bg-white/20 text-white"}`,children:"Week"}),(0,t.jsx)("button",{onClick:()=>p("month"),className:`px-4 py-2 text-sm font-medium rounded-xl transition-colors border border-black/50 ${"month"===h?"bg-white/30 text-white shadow-sm":"bg-white/10 hover:bg-white/20 text-white"}`,children:"Month"})]}),(0,t.jsxs)("button",{onClick:()=>q(!0),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-xl transition-colors bg-white/10 hover:bg-white/20 text-white border border-black/50 relative",children:[(0,t.jsx)(d,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Timesheet Adjustment"}),W.length>0&&(0,t.jsx)("div",{className:"absolute -top-2 -right-2 bg-yellow-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:"â³"})]}),(0,t.jsxs)("button",{onClick:()=>E(!0),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-xl transition-colors bg-white/10 hover:bg-white/20 text-white border border-black/50 relative",children:[(0,t.jsx)(o.Clock,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Time Off Request"}),H.length>0&&(0,t.jsx)("div",{className:"absolute -top-2 -right-2 bg-yellow-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:"â³"})]}),(0,t.jsxs)("button",{onClick:()=>D(!0),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-xl transition-colors bg-white/30 hover:bg-white/40 text-white border border-black/50",children:[(0,t.jsx)(i.Plus,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Create Event"})]})]})),()=>{e({title:"Dashboard",description:"Your daily overview"}),g(null)}),[y,h,H.length,W.length]),(0,r.useEffect)(()=>{if("week"===h&&Q.current){let e=setTimeout(()=>{Q.current&&(Q.current.scrollTop=560)},300);return()=>clearTimeout(e)}},[h,v]),k?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,t.jsxs)("div",{style:{height:"calc(100vh - 180px)",display:"flex",flexDirection:"column"},children:[(0,t.jsx)("div",{style:{flex:1,display:"flex",overflow:"hidden",minHeight:0},children:(0,t.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",minHeight:0},children:["week"===h&&(0,t.jsx)(c,{weekDates:function(){let e=[],t=new Date(y),r=t.getDay();t.setDate(t.getDate()+(0===r?-6:1-r));for(let r=0;r<7;r++){let a=new Date(t);a.setDate(a.getDate()+r),e.push(a)}return e}(),events:v,primaryColor:G,isToday:et,formatHour:function(e){return 0===e?"12 AM":e<12?`${e} AM`:12===e?"12 PM":`${e-12} PM`},onSlotClick:function(e,t){B(e),A(t),D(!0)},onEventClick:function(e){R(e),L(!0)},onEventDrop:er,onCreateEvent:(e,t)=>{B(e),A(t),D(!0)},onAddEvent:e=>{j(t=>[...t,e])},onRefresh:J,calendarRef:Q}),"month"===h&&(0,t.jsx)(u,{currentDate:y,events:v,primaryColor:G,isToday:et,onWeekClick:function(e){f(e),p("week")}})]})}),I&&Y&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>L(!1),children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl p-6 w-96 border border-gray-700",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Event Details"}),(0,t.jsx)("button",{onClick:()=>L(!1),className:"w-8 h-8 rounded flex items-center justify-center hover:bg-gray-700 transition-colors",children:(0,t.jsx)("span",{className:"text-gray-400 text-xl",children:"Ã—"})})]}),(0,t.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Title"}),(0,t.jsx)("p",{className:"font-medium text-white",children:Y.title})]}),Y.description&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Description"}),(0,t.jsx)("p",{className:"text-sm text-gray-300",children:Y.description})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Time"}),(0,t.jsx)("p",{className:"text-sm text-gray-300",children:new Date(Y.start_datetime).toLocaleString("en-US",{weekday:"long",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"})})]}),Y.location_address&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Location"}),(0,t.jsx)("p",{className:"text-sm text-gray-300",children:Y.location_address})]})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)("button",{onClick:()=>{L(!1),$(!0)},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90",style:{backgroundColor:G},children:"Edit"}),(0,t.jsx)("button",{onClick:()=>{j(e=>e.filter(e=>e.id!==Y.id)),L(!1)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete"})]})]})}),C&&(0,t.jsx)(b,{initialDate:O,initialHour:P,onClose:()=>D(!1),onSuccess:()=>{D(!1),J()}}),M&&(0,t.jsx)(N,{onClose:()=>E(!1),onSuccess:()=>{E(!1),J()}}),F&&(0,t.jsx)(_,{onClose:()=>q(!1),onSuccess:()=>{q(!1)}}),T&&Y&&(0,t.jsx)(w,{event:Y,onClose:()=>$(!1),onSuccess:e=>{j(t=>t.map(t=>t.id===e.id?e:t)),R(e),$(!1)},onDelete:e=>{j(t=>t.filter(t=>t.id!==e)),$(!1),R(null)}})]})}e.s(["default",()=>k],3510)}]);