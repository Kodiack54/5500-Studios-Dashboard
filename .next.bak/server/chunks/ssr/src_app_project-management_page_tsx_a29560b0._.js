module.exports=[57735,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(15618),f=a.i(210),g=a.i(50522),h=a.i(5784),i=a.i(21161),j=a.i(84581),k=a.i(67900),l=a.i(4748),m=a.i(35125),n=a.i(10948),o=a.i(96101),p=a.i(52495);function q({project:a,onEdit:c}){return(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[a.logo_url?(0,b.jsx)("img",{src:a.logo_url,alt:a.name,className:"w-16 h-16 rounded-lg object-cover"}):(0,b.jsx)("div",{className:"w-16 h-16 rounded-lg bg-blue-600/20 flex items-center justify-center text-blue-400 text-2xl font-bold",children:a.name.charAt(0).toUpperCase()}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-white",children:a.name}),a.description&&(0,b.jsx)("p",{className:"text-gray-400 mt-1",children:a.description}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-3",children:[a.droplet_name&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[(0,b.jsx)(m.Server,{className:"w-4 h-4 text-gray-500"}),(0,b.jsx)("span",{children:a.droplet_name}),a.droplet_ip&&(0,b.jsxs)("span",{className:"text-gray-600",children:["(",a.droplet_ip,")"]})]}),a.server_path&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[(0,b.jsx)(o.FolderOpen,{className:"w-4 h-4 text-gray-500"}),(0,b.jsx)("span",{className:"font-mono text-xs",children:a.server_path})]}),a.git_repo&&(0,b.jsxs)("a",{href:a.git_repo,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-400 hover:text-blue-400 text-sm transition-colors",children:[(0,b.jsx)(n.GitBranch,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Repository"}),(0,b.jsx)(p.ExternalLink,{className:"w-3 h-3"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mt-3",children:[a.port_dev&&(0,b.jsxs)("a",{href:`http://${a.droplet_ip||"localhost"}:${a.port_dev}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-600/20 text-blue-400 rounded text-sm hover:bg-blue-600/30 transition-colors flex items-center gap-1",children:["Dev: ",a.port_dev,(0,b.jsx)(p.ExternalLink,{className:"w-3 h-3"})]}),a.port_test&&(0,b.jsxs)("a",{href:`http://${a.droplet_ip||"localhost"}:${a.port_test}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-yellow-600/20 text-yellow-400 rounded text-sm hover:bg-yellow-600/30 transition-colors flex items-center gap-1",children:["Test: ",a.port_test,(0,b.jsx)(p.ExternalLink,{className:"w-3 h-3"})]}),a.port_prod&&(0,b.jsxs)("a",{href:`http://${a.droplet_ip||"localhost"}:${a.port_prod}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-green-600/20 text-green-400 rounded text-sm hover:bg-green-600/30 transition-colors flex items-center gap-1",children:["Prod: ",a.port_prod,(0,b.jsx)(p.ExternalLink,{className:"w-3 h-3"})]}),a.build_number&&(0,b.jsxs)("span",{className:"px-3 py-1 bg-gray-700 text-gray-400 rounded text-sm",children:["Build #",a.build_number]})]})]})]}),(0,b.jsxs)("button",{onClick:c,className:"flex items-center gap-2 px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:[(0,b.jsx)(i.Settings,{className:"w-4 h-4"}),"Edit"]})]})}var r=a.i(15237),s=a.i(91888),t=a.i(49741),u=a.i(49140),v=a.i(14512),w=a.i(92281),x=a.i(11577),y=a.i(97388),z=a.i(50922),A=a.i(20722),B=a.i(35701),C=a.i(81387),D=a.i(46967);let E={dev:{bg:"bg-blue-600/20",text:"text-blue-400",border:"border-blue-500",label:"Dev"},test:{bg:"bg-yellow-600/20",text:"text-yellow-400",border:"border-yellow-500",label:"Test"},prod:{bg:"bg-green-600/20",text:"text-green-400",border:"border-green-500",label:"Prod"}};function F(a,b){if(b){let c=a.port_dev||a.port_test||a.port_prod;if(c){if(b.port_dev&&c===b.port_dev)return"dev";if(b.port_test&&c===b.port_test)return"test";if(b.port_prod&&c===b.port_prod)return"prod"}}let c=(a.name+" "+a.slug).toLowerCase();return c.includes("prod")||c.includes("production")||c.includes("live")?"prod":c.includes("test")||c.includes("staging")||c.includes("qa")?"test":c.includes("dev")||c.includes("development")||c.includes("local")?"dev":null}function G(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin text-4xl",children:"âš™ï¸"})}),children:(0,b.jsx)(H,{})})}function H(){let a,m,n=(0,d.useRouter)(),o=(0,d.useSearchParams)(),p=o.get("project"),G=o.get("allClients"),{selectedClient:H,setSelectedClient:I}=(0,l.useClient)();(0,c.useEffect)(()=>{"true"===G&&null!==H&&I(null)},[G,H,I]);let[J,K]=(0,c.useState)([]),[L,M]=(0,c.useState)(null),[N,O]=(0,c.useState)("todos"),[P,Q]=(0,c.useState)(!0),[R,S]=(0,c.useState)(!1),[T,U]=(0,c.useState)(null),[V,W]=(0,c.useState)(new Set),[X,Y]=(0,c.useState)(null),[Z,$]=(0,c.useState)(null),[_,aa]=(0,c.useState)({}),[ab,ac]=(0,c.useState)(null),[ad,ae]=(0,c.useState)([]),[af,ag]=(0,c.useState)([]),[ah,ai]=(0,c.useState)([]),[aj,ak]=(0,c.useState)([]),[al,am]=(0,c.useState)(new Set(["todos","docs"])),an=H?J.filter(a=>a.client_id===H.id):J,ao=(a,b)=>{if(b){let b=as.filter(b=>b.parent_id===a).map(a=>a.id),c={todos:0,knowledge:0,docs:0,conventions:0,bugs:0},d=_[a];for(let a of(d&&(c.todos+=d.todos||0,c.knowledge+=d.knowledge||0,c.docs+=d.docs||0,c.conventions+=d.conventions||0,c.bugs+=d.bugs||0),b)){let b=_[a];b&&(c.todos+=b.todos||0,c.knowledge+=b.knowledge||0,c.docs+=b.docs||0,c.conventions+=b.conventions||0,c.bugs+=b.bugs||0)}return c}return _[a]||{todos:0,knowledge:0,docs:0,conventions:0,bugs:0}},ap=({stats:a})=>a.todos||a.knowledge||a.docs||a.conventions||a.bugs?(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("div",{className:"w-12 text-center px-1.5 py-0.5 bg-blue-600/20 rounded",children:(0,b.jsx)("span",{className:"text-xs font-medium text-blue-400",children:a.todos})}),(0,b.jsx)("div",{className:"w-12 text-center px-1.5 py-0.5 bg-purple-600/20 rounded",children:(0,b.jsx)("span",{className:"text-xs font-medium text-purple-400",children:a.knowledge})}),(0,b.jsx)("div",{className:"w-12 text-center px-1.5 py-0.5 bg-green-600/20 rounded",children:(0,b.jsx)("span",{className:"text-xs font-medium text-green-400",children:a.docs})}),(0,b.jsx)("div",{className:"w-12 text-center px-1.5 py-0.5 bg-yellow-600/20 rounded",children:(0,b.jsx)("span",{className:"text-xs font-medium text-yellow-400",children:a.conventions})}),(0,b.jsx)("div",{className:"w-12 text-center px-1.5 py-0.5 bg-red-600/20 rounded",children:(0,b.jsx)("span",{className:"text-xs font-medium text-red-400",children:a.bugs})})]}):null,aq=(0,t.useSensors)((0,t.useSensor)(t.PointerSensor,{activationConstraint:{distance:8}}),(0,t.useSensor)(t.KeyboardSensor,{coordinateGetter:u.sortableKeyboardCoordinates})),ar=an.filter(a=>a.is_parent),as=an.filter(a=>!a.is_parent&&a.parent_id),at=an.filter(a=>!a.is_parent&&!a.parent_id);(0,c.useEffect)(()=>{au()},[]),(0,c.useEffect)(()=>{if(p&&an.length>0){let a=an.find(a=>a.slug===p);a&&M(a)}else p||M(null)},[p,an]);let au=async()=>{try{let a=await fetch("/project-management/api/projects"),b=await a.json();b.success&&(K(b.projects),av())}catch(a){console.error("Error fetching projects:",a)}finally{Q(!1)}},av=async()=>{try{let a=await fetch("/project-management/api/projects/summary"),b=await a.json();b.success&&b.summaries&&aa(b.summaries)}catch(a){console.error("Error fetching summaries:",a)}},aw=async a=>{ac(a);let b=a.server_path||"";try{let[a,c,d,e]=await Promise.all([fetch(`/project-management/api/docs?project_path=${encodeURIComponent(b)}`),fetch(`/project-management/api/todos?project_path=${encodeURIComponent(b)}`),fetch(`/project-management/api/knowledge?project_path=${encodeURIComponent(b)}`),fetch(`/project-management/api/bugs?project_path=${encodeURIComponent(b)}`)]),[f,g,h,i]=await Promise.all([a.json(),c.json(),d.json(),e.json()]);if(f.success&&f.docs&&ae(f.docs.slice(0,10)),g.success&&g.todos){let a=g.todos.sort((a,b)=>{let c={in_progress:0,pending:1,completed:2};return(c[a.status]||3)-(c[b.status]||3)});ag(a.slice(0,10))}if(h.success&&h.knowledge&&ai(h.knowledge.slice(0,8)),i.success&&i.bugs){let a=i.bugs.filter(a=>"resolved"!==a.status);ak(a.slice(0,5))}}catch(a){console.error("Error fetching preview data:",a)}},ax=a=>{am(b=>{let c=new Set(b);return c.has(a)?c.delete(a):c.add(a),c})},ay=a=>{n.push(`/project-management?project=${a.slug}`)},az=a=>{U(a),S(!0)},aA=()=>{U(null),S(!0)},aB=()=>{S(!1),U(null)},aC=()=>{au(),aB()},aD=async a=>{let{active:b,over:c}=a;if(Y(null),$(null),!c||b.id===c.id)return;let d=an.find(a=>a.id===b.id),e=an.find(a=>a.id===c.id);if(d&&e){if(d.is_parent&&e.is_parent){let a=ar.findIndex(a=>a.id===b.id),d=ar.findIndex(a=>a.id===c.id);if(a!==d){let b=(0,u.arrayMove)(ar,a,d).map((a,b)=>fetch("/project-management/api/projects",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.id,sort_order:b})}));await Promise.all(b),au()}return}if(!d.is_parent&&!e.is_parent&&d.parent_id===e.parent_id){let a=as.filter(a=>a.parent_id===d.parent_id),e=a.findIndex(a=>a.id===b.id),f=a.findIndex(a=>a.id===c.id);if(e!==f){let b=(0,u.arrayMove)(a,e,f).map((a,b)=>fetch("/project-management/api/projects",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.id,sort_order:b})}));await Promise.all(b),au()}return}if(!d.is_parent&&e.is_parent){await fetch("/project-management/api/projects",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:d.id,parent_id:e.id})}),W(a=>new Set([...a,e.id])),au();return}if(!d.is_parent&&!e.is_parent&&d.parent_id!==e.parent_id&&e.parent_id){await fetch("/project-management/api/projects",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:d.id,parent_id:e.parent_id})}),W(a=>new Set([...a,e.parent_id])),au();return}if(!d.is_parent&&!d.parent_id&&!e.is_parent&&!e.parent_id){let a=at.findIndex(a=>a.id===b.id),d=at.findIndex(a=>a.id===c.id);if(a!==d){let b=(0,u.arrayMove)(at,a,d).map((a,b)=>fetch("/project-management/api/projects",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.id,sort_order:b+1e3})}));await Promise.all(b),au()}}}},aE=X?an.find(a=>a.id===X):null;if(P)return(0,b.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin text-4xl mb-4",children:"âš™ï¸"}),(0,b.jsx)("p",{className:"text-gray-400",children:"Loading projects..."})]})});if(L)return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-900 flex flex-col",children:[(0,b.jsxs)("div",{className:"bg-gray-800 border-b border-gray-700 px-6 py-4",children:[(0,b.jsxs)("button",{onClick:()=>{n.push("/project-management")},className:"flex items-center gap-2 text-gray-400 hover:text-white mb-4 transition-colors",children:[(0,b.jsx)(f.ArrowLeft,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"All Projects"})]}),(0,b.jsx)(q,{project:L,onEdit:()=>az(L)})]}),(0,b.jsx)(r.default,{activeTab:N,onTabChange:O}),(0,b.jsx)("div",{className:"flex-1 overflow-auto p-6",children:(()=>{if(!L)return null;let a=L.server_path||"",c=L.is_parent||!1,d=c?an.filter(a=>a.parent_id===L.id).map(a=>a.id):[];switch(N){case"todos":return(0,b.jsx)(w.default,{projectPath:a,projectId:L.id,projectName:L.name,isParent:c,childProjectIds:d});case"knowledge":return(0,b.jsx)(D.default,{projectPath:a,projectId:L.id,projectName:L.name,isParent:c,childProjectIds:d});case"docs":return(0,b.jsx)(x.default,{projectPath:a,projectId:L.id,projectName:L.name,isParent:c,childProjectIds:d});case"database":return(0,b.jsx)(y.default,{projectPath:a,projectId:L.id,projectName:L.name,isParent:c,childProjectIds:d});case"structure":return(0,b.jsx)(z.default,{projectPath:a,projectId:L.id,projectName:L.name,isParent:c,childProjectIds:d});case"conventions":return(0,b.jsx)(A.default,{projectPath:a,projectId:L.id,projectName:L.name,isParent:c,childProjectIds:d});case"notepad":return(0,b.jsx)(B.default,{projectPath:a,projectId:L.id,projectName:L.name,isParent:c,childProjectIds:d});case"bugs":return(0,b.jsx)(C.default,{projectPath:a,projectId:L.id,projectName:L.name,isParent:c,childProjectIds:d});default:return null}})()}),R&&(0,b.jsx)(s.default,{project:T,onClose:aB,onSave:aC})]});let aF=({project:a})=>{let c,{attributes:d,listeners:e,setNodeRef:f,transform:k,transition:l,isDragging:m}=(0,u.useSortable)({id:a.id}),n={transform:v.CSS.Transform.toString(k),transition:l,opacity:m?.5:1},o=(c=a.id,as.filter(a=>a.parent_id===c)),p=V.has(a.id),q=o.length>0,r=o.filter(b=>"dev"===F(b,a)),s=o.filter(b=>"test"===F(b,a)),t=o.filter(b=>"prod"===F(b,a)),w=o.filter(a=>a.port_dev).map(a=>a.port_dev),x=o.filter(a=>a.port_test).map(a=>a.port_test),y=o.filter(a=>a.port_prod).map(a=>a.port_prod);return(0,b.jsxs)("div",{ref:f,style:n,className:"mb-2",children:[(0,b.jsx)("div",{className:`bg-gray-800 border rounded-lg p-4 transition-colors group ${Z===a.id&&X&&!an.find(a=>a.id===X)?.is_parent?"border-blue-500 bg-blue-500/10":"border-gray-700 hover:border-blue-500"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{...d,...e,className:"p-1 text-gray-600 hover:text-white cursor-grab active:cursor-grabbing",children:(0,b.jsx)(j.GripVertical,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>{var b;return q&&(b=a.id,void W(a=>{let c=new Set(a);return c.has(b)?c.delete(b):c.add(b),c}))},className:`p-1 rounded transition-colors ${q?"hover:bg-gray-700 text-gray-400 hover:text-white":"text-gray-700 cursor-default"}`,children:p?(0,b.jsx)(h.ChevronDown,{className:"w-5 h-5"}):(0,b.jsx)(g.ChevronRight,{className:"w-5 h-5"})}),a.logo_url?(0,b.jsx)("img",{src:a.logo_url,alt:a.name,className:"w-10 h-10 rounded-lg object-cover"}):(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-purple-600/20 flex items-center justify-center text-purple-400 text-lg font-bold",children:a.name.charAt(0).toUpperCase()}),(0,b.jsxs)("div",{className:"flex-1 cursor-pointer",onClick:()=>aw(a),onDoubleClick:()=>ay(a),children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"text-white font-semibold",children:a.name}),(0,b.jsx)("span",{className:"px-2 py-0.5 bg-purple-600/20 text-purple-400 rounded text-xs",children:"Parent"})]}),q&&(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[r.length>0&&(0,b.jsxs)("span",{className:"px-1.5 py-0.5 bg-blue-600/20 text-blue-400 rounded text-[10px]",children:[r.length," Dev"]}),s.length>0&&(0,b.jsxs)("span",{className:"px-1.5 py-0.5 bg-yellow-600/20 text-yellow-400 rounded text-[10px]",children:[s.length," Test"]}),t.length>0&&(0,b.jsxs)("span",{className:"px-1.5 py-0.5 bg-green-600/20 text-green-400 rounded text-[10px]",children:[t.length," Prod"]}),o.length>0&&0===r.length&&0===s.length&&0===t.length&&(0,b.jsxs)("span",{className:"text-gray-500 text-[10px]",children:[o.length," projects"]})]})]}),(0,b.jsx)(ap,{stats:ao(a.id,!0)}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(w[0]||a.port_dev)&&(0,b.jsxs)("span",{className:"px-2 py-0.5 bg-blue-600/20 text-blue-400 rounded text-xs",children:[":",w[0]||a.port_dev]}),(x[0]||a.port_test)&&(0,b.jsxs)("span",{className:"px-2 py-0.5 bg-yellow-600/20 text-yellow-400 rounded text-xs",children:[":",x[0]||a.port_test]}),(y[0]||a.port_prod)&&(0,b.jsxs)("span",{className:"px-2 py-0.5 bg-green-600/20 text-green-400 rounded text-xs",children:[":",y[0]||a.port_prod]})]}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),az(a)},className:"p-2 text-gray-500 hover:text-white hover:bg-gray-700 rounded opacity-0 group-hover:opacity-100 transition-all",children:(0,b.jsx)(i.Settings,{className:"w-4 h-4"})})]})}),p&&o.length>0&&(0,b.jsx)("div",{className:"ml-8 mt-1 space-y-1 border-l-2 border-gray-700 pl-4",children:(0,b.jsx)(u.SortableContext,{items:o.map(a=>a.id),strategy:u.verticalListSortingStrategy,children:o.map(c=>(0,b.jsx)(aG,{child:c,parent:a},c.id))})})]})},aG=({child:a,parent:c})=>{let{attributes:d,listeners:e,setNodeRef:f,transform:g,transition:h,isDragging:k}=(0,u.useSortable)({id:a.id}),l={transform:v.CSS.Transform.toString(g),transition:h,opacity:k?.5:1},m=F(a,c),n=m?E[m]:null;return(0,b.jsxs)("div",{ref:f,style:l,className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors group
          ${n?`${n.bg} border ${n.border}`:"bg-gray-800 border border-gray-700"}
          hover:brightness-110`,children:[(0,b.jsx)("button",{...d,...e,className:"p-1 text-gray-500 hover:text-white cursor-grab active:cursor-grabbing",onClick:a=>a.stopPropagation(),children:(0,b.jsx)(j.GripVertical,{className:"w-3 h-3"})}),n&&(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${n.text} ${n.bg}`,children:n.label}),(0,b.jsx)("span",{className:`font-medium flex-1 cursor-pointer ${n?n.text:"text-white"}`,onClick:()=>aw(a),onDoubleClick:()=>ay(a),children:a.name}),(0,b.jsx)(ap,{stats:ao(a.id)}),(a.port_dev||a.port_test||a.port_prod)&&(0,b.jsxs)("span",{className:"text-gray-500 text-xs",children:[":",a.port_dev||a.port_test||a.port_prod]}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),az(a)},className:"p-1 text-gray-500 hover:text-white hover:bg-gray-600 rounded opacity-0 group-hover:opacity-100 transition-all",children:(0,b.jsx)(i.Settings,{className:"w-3 h-3"})})]})},aH=({project:a})=>{let{attributes:c,listeners:d,setNodeRef:e,transform:f,transition:g,isDragging:h}=(0,u.useSortable)({id:a.id}),k={transform:v.CSS.Transform.toString(f),transition:g,opacity:h?.5:1},l=F(a),m=l?E[l]:null;return(0,b.jsx)("div",{ref:e,style:k,className:"bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer group mb-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{...c,...d,className:"p-1 text-gray-600 hover:text-white cursor-grab active:cursor-grabbing",onClick:a=>a.stopPropagation(),children:(0,b.jsx)(j.GripVertical,{className:"w-4 h-4"})}),a.logo_url?(0,b.jsx)("img",{src:a.logo_url,alt:a.name,className:"w-10 h-10 rounded-lg object-cover"}):(0,b.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center text-lg font-bold
              ${m?`${m.bg} ${m.text}`:"bg-blue-600/20 text-blue-400"}`,children:a.name.charAt(0).toUpperCase()}),(0,b.jsxs)("div",{className:"flex-1 cursor-pointer",onClick:()=>aw(a),onDoubleClick:()=>ay(a),children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"text-white font-semibold",children:a.name}),m&&(0,b.jsx)("span",{className:`px-2 py-0.5 rounded text-xs ${m.bg} ${m.text}`,children:m.label})]}),(0,b.jsx)("span",{className:"text-gray-500 text-xs",children:a.slug})]}),(0,b.jsx)(ap,{stats:ao(a.id)}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[a.port_dev&&(0,b.jsxs)("span",{className:"px-2 py-0.5 bg-blue-600/20 text-blue-400 rounded text-xs",children:["Dev:",a.port_dev]}),a.port_test&&(0,b.jsxs)("span",{className:"px-2 py-0.5 bg-yellow-600/20 text-yellow-400 rounded text-xs",children:["Test:",a.port_test]}),a.port_prod&&(0,b.jsxs)("span",{className:"px-2 py-0.5 bg-green-600/20 text-green-400 rounded text-xs",children:["Prod:",a.port_prod]})]}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),az(a)},className:"p-2 text-gray-500 hover:text-white hover:bg-gray-700 rounded opacity-0 group-hover:opacity-100 transition-all",children:(0,b.jsx)(i.Settings,{className:"w-4 h-4"})})]})})};return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,b.jsxs)("div",{className:"bg-gray-800 border-b border-gray-700 px-6 py-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Project Management"}),H&&(0,b.jsxs)("span",{className:"px-3 py-1 bg-blue-600/20 text-blue-400 rounded-lg text-sm flex items-center gap-2",children:[(0,b.jsx)(k.Building2,{className:"w-4 h-4"}),H.name]})]}),(0,b.jsxs)("p",{className:"text-gray-400 text-sm mt-1",children:[ar.length," parent",1!==ar.length?"s":""," Â· ",as.length+at.length," project",as.length+at.length!==1?"s":""]})]}),(0,b.jsxs)("button",{onClick:aA,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,b.jsx)(e.Plus,{className:"w-4 h-4"}),"Add Project"]})]}),(0,b.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-700",children:(0,b.jsx)("div",{className:"grid grid-cols-5 gap-3",children:(a={todos:0,knowledge:0,docs:0,conventions:0,bugs:0},an.forEach(b=>{let c=_[b.id];c&&(a.todos+=c.todos||0,a.knowledge+=c.knowledge||0,a.docs+=c.docs||0,a.conventions+=c.conventions||0,a.bugs+=c.bugs||0)}),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-900 rounded-lg",children:[(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Todos"}),(0,b.jsx)("span",{className:"text-xl font-bold text-blue-400",children:a.todos})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-900 rounded-lg",children:[(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Knowledge"}),(0,b.jsx)("span",{className:"text-xl font-bold text-purple-400",children:a.knowledge})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-900 rounded-lg",children:[(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Docs"}),(0,b.jsx)("span",{className:"text-xl font-bold text-green-400",children:a.docs})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-900 rounded-lg",children:[(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Conventions"}),(0,b.jsx)("span",{className:"text-xl font-bold text-yellow-400",children:a.conventions})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-900 rounded-lg",children:[(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Bugs"}),(0,b.jsx)("span",{className:"text-xl font-bold text-red-400",children:a.bugs})]})]}))})})]}),(0,b.jsxs)("div",{className:"flex gap-6 p-6",children:[(0,b.jsx)("div",{className:"flex-1 max-w-3xl",children:0===an.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ“"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Projects Yet"}),(0,b.jsx)("p",{className:"text-gray-400 mb-4",children:"Create your first project to get started"}),(0,b.jsx)("button",{onClick:aA,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:"Add Project"})]}):(0,b.jsxs)(t.DndContext,{sensors:aq,collisionDetection:t.closestCenter,onDragStart:a=>{Y(a.active.id)},onDragOver:a=>{$(a.over?.id||null)},onDragEnd:aD,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(u.SortableContext,{items:ar.map(a=>a.id),strategy:u.verticalListSortingStrategy,children:ar.map(a=>(0,b.jsx)(aF,{project:a},a.id))}),at.length>0&&ar.length>0&&(0,b.jsx)("div",{className:"mt-6 mb-3",children:(0,b.jsx)("h3",{className:"text-gray-500 text-sm font-medium px-2",children:"Standalone Projects"})}),(0,b.jsx)(u.SortableContext,{items:at.map(a=>a.id),strategy:u.verticalListSortingStrategy,children:at.map(a=>(0,b.jsx)(aH,{project:a},a.id))})]}),(0,b.jsx)(t.DragOverlay,{children:aE&&(0,b.jsx)("div",{className:"bg-gray-800 border border-blue-500 rounded-lg p-4 shadow-xl opacity-90",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(j.GripVertical,{className:"w-4 h-4 text-blue-400"}),(0,b.jsx)("span",{className:"text-white font-medium",children:aE.name})]})})})]})}),(0,b.jsx)("div",{className:"w-96 flex-shrink-0",children:ab?(0,b.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg sticky top-6 max-h-[calc(100vh-120px)] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 p-4 border-b border-gray-700 bg-gray-800 sticky top-0",children:[ab.logo_url?(0,b.jsx)("img",{src:ab.logo_url,alt:ab.name,className:"w-12 h-12 rounded-lg object-cover"}):(0,b.jsx)("div",{className:"w-12 h-12 rounded-lg bg-purple-600/20 flex items-center justify-center text-purple-400 text-xl font-bold",children:ab.name.charAt(0).toUpperCase()}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-white font-semibold",children:ab.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[ab.is_parent&&(0,b.jsx)("span",{className:"text-xs text-purple-400",children:"Parent"}),ab.description&&(0,b.jsx)("span",{className:"text-xs text-gray-500 truncate max-w-[180px]",children:ab.description})]})]})]}),(0,b.jsx)("div",{className:"p-4 border-b border-gray-700",children:(0,b.jsx)("div",{className:"grid grid-cols-5 gap-2",children:(m=ao(ab.id,ab.is_parent),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"text-center p-2 bg-gray-900 rounded",children:[(0,b.jsx)("div",{className:"text-lg font-bold text-blue-400",children:m.todos}),(0,b.jsx)("div",{className:"text-[10px] text-gray-500",children:"Todos"})]}),(0,b.jsxs)("div",{className:"text-center p-2 bg-gray-900 rounded",children:[(0,b.jsx)("div",{className:"text-lg font-bold text-purple-400",children:m.knowledge}),(0,b.jsx)("div",{className:"text-[10px] text-gray-500",children:"Know"})]}),(0,b.jsxs)("div",{className:"text-center p-2 bg-gray-900 rounded",children:[(0,b.jsx)("div",{className:"text-lg font-bold text-green-400",children:m.docs}),(0,b.jsx)("div",{className:"text-[10px] text-gray-500",children:"Docs"})]}),(0,b.jsxs)("div",{className:"text-center p-2 bg-gray-900 rounded",children:[(0,b.jsx)("div",{className:"text-lg font-bold text-yellow-400",children:m.conventions}),(0,b.jsx)("div",{className:"text-[10px] text-gray-500",children:"Conv"})]}),(0,b.jsxs)("div",{className:"text-center p-2 bg-gray-900 rounded",children:[(0,b.jsx)("div",{className:"text-lg font-bold text-red-400",children:m.bugs}),(0,b.jsx)("div",{className:"text-[10px] text-gray-500",children:"Bugs"})]})]}))})}),(0,b.jsxs)("div",{className:"divide-y divide-gray-700",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("button",{onClick:()=>ax("todos"),className:"w-full flex items-center justify-between p-3 hover:bg-gray-700/50 transition-colors",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-400"}),"Active Todos",(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:["(",af.length,")"]})]}),(0,b.jsx)(h.ChevronDown,{className:`w-4 h-4 text-gray-500 transition-transform ${al.has("todos")?"":"-rotate-90"}`})]}),al.has("todos")&&af.length>0&&(0,b.jsx)("div",{className:"px-3 pb-3 space-y-1",children:af.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm p-2 bg-gray-900 rounded",children:[(0,b.jsx)("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${"in_progress"===a.status?"bg-blue-400 animate-pulse":"completed"===a.status?"bg-green-400":"bg-gray-500"}`}),(0,b.jsx)("span",{className:"text-gray-300 truncate flex-1",children:a.title}),"high"===a.priority&&(0,b.jsx)("span",{className:"text-red-400 text-xs font-bold",children:"!"})]},a.id))})]}),aj.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("button",{onClick:()=>ax("bugs"),className:"w-full flex items-center justify-between p-3 hover:bg-gray-700/50 transition-colors",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-400"}),"Open Bugs",(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:["(",aj.length,")"]})]}),(0,b.jsx)(h.ChevronDown,{className:`w-4 h-4 text-gray-500 transition-transform ${al.has("bugs")?"":"-rotate-90"}`})]}),al.has("bugs")&&(0,b.jsx)("div",{className:"px-3 pb-3 space-y-1",children:aj.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm p-2 bg-gray-900 rounded",children:[(0,b.jsx)("span",{className:`px-1.5 py-0.5 rounded text-[10px] ${"critical"===a.severity?"bg-red-600 text-white":"high"===a.severity?"bg-orange-600 text-white":"bg-yellow-600 text-black"}`,children:a.severity}),(0,b.jsx)("span",{className:"text-gray-300 truncate flex-1",children:a.title})]},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("button",{onClick:()=>ax("docs"),className:"w-full flex items-center justify-between p-3 hover:bg-gray-700/50 transition-colors",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-400"}),"Documentation",(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:["(",ad.length,")"]})]}),(0,b.jsx)(h.ChevronDown,{className:`w-4 h-4 text-gray-500 transition-transform ${al.has("docs")?"":"-rotate-90"}`})]}),al.has("docs")&&ad.length>0&&(0,b.jsx)("div",{className:"px-3 pb-3 space-y-1",children:ad.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm p-2 bg-gray-900 rounded",children:[(0,b.jsx)("span",{className:"px-1.5 py-0.5 bg-green-600/20 text-green-400 rounded text-[10px]",children:a.doc_type||"doc"}),(0,b.jsx)("span",{className:"text-gray-300 truncate flex-1",children:a.name})]},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("button",{onClick:()=>ax("knowledge"),className:"w-full flex items-center justify-between p-3 hover:bg-gray-700/50 transition-colors",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-purple-400"}),"Knowledge Base",(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:["(",ah.length,")"]})]}),(0,b.jsx)(h.ChevronDown,{className:`w-4 h-4 text-gray-500 transition-transform ${al.has("knowledge")?"":"-rotate-90"}`})]}),al.has("knowledge")&&ah.length>0&&(0,b.jsx)("div",{className:"px-3 pb-3 space-y-1",children:ah.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm p-2 bg-gray-900 rounded",children:[(0,b.jsx)("span",{className:"px-1.5 py-0.5 bg-purple-600/20 text-purple-400 rounded text-[10px]",children:a.category||"note"}),(0,b.jsx)("span",{className:"text-gray-300 truncate flex-1",children:a.title})]},a.id))})]})]}),(0,b.jsx)("div",{className:"p-4 border-t border-gray-700 bg-gray-800 sticky bottom-0",children:(0,b.jsx)("button",{onClick:()=>ay(ab),className:"w-full py-2.5 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:"Open Project â†’"})})]}):(0,b.jsxs)("div",{className:"bg-gray-800/50 border border-gray-700/50 border-dashed rounded-lg p-8 text-center",children:[(0,b.jsx)("div",{className:"text-gray-600 text-sm mb-2",children:"Select a project"}),(0,b.jsx)("div",{className:"text-gray-500 text-xs",children:"Click any project to see KPIs and details"})]})})]}),R&&(0,b.jsx)(s.default,{project:T,onClose:aB,onSave:aC})]})}a.s(["default",()=>G],57735)}];

//# sourceMappingURL=src_app_project-management_page_tsx_a29560b0._.js.map