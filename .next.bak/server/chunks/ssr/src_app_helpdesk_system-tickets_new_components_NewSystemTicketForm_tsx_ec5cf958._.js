module.exports=[56516,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);function e({projects:a,labels:e,assignableUsers:f}){let g=(0,d.useRouter)(),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)({title:"",description:"",type:"bug",priority:"normal",project:"",assignee:"",labels:[]}),l=async a=>{if(a.preventDefault(),!j.title.trim())return void alert("Title is required");if(!j.project)return void alert("Project is required");i(!0);try{let a=await fetch("/api/helpdesk/system-tickets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)}),b=await a.json();b.success?g.push(`/helpdesk/system-tickets/${b.ticket_id}`):alert(b.error||"Failed to create ticket")}catch(a){alert(a.message)}finally{i(!1)}};return(0,b.jsxs)("form",{onSubmit:l,className:"max-w-3xl",children:[(0,b.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-xl p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Title ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:j.title,onChange:a=>k(b=>({...b,title:a.target.value})),placeholder:"Brief description of the issue",className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:border-blue-500 focus:outline-none"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Type ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("select",{value:j.type,onChange:a=>k(b=>({...b,type:a.target.value})),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white focus:border-blue-500 focus:outline-none",children:[(0,b.jsx)("option",{value:"bug",children:"ðŸ› Bug"}),(0,b.jsx)("option",{value:"feature",children:"âœ¨ Feature Request"}),(0,b.jsx)("option",{value:"improvement",children:"ðŸ“ˆ Improvement"}),(0,b.jsx)("option",{value:"task",children:"ðŸ“‹ Task"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Priority ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("select",{value:j.priority,onChange:a=>k(b=>({...b,priority:a.target.value})),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white focus:border-blue-500 focus:outline-none",children:[(0,b.jsx)("option",{value:"low",children:"Low"}),(0,b.jsx)("option",{value:"normal",children:"Normal"}),(0,b.jsx)("option",{value:"high",children:"High"}),(0,b.jsx)("option",{value:"critical",children:"Critical"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Project ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("select",{value:j.project,onChange:a=>k(b=>({...b,project:a.target.value})),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white focus:border-blue-500 focus:outline-none",children:[(0,b.jsx)("option",{value:"",children:"Select project..."}),a.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Assign To"}),(0,b.jsxs)("select",{value:j.assignee,onChange:a=>k(b=>({...b,assignee:a.target.value})),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white focus:border-blue-500 focus:outline-none",children:[(0,b.jsx)("option",{value:"",children:"Unassigned"}),f.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:j.description,onChange:a=>k(b=>({...b,description:a.target.value})),placeholder:"Detailed description of the issue, steps to reproduce, expected behavior, etc.",rows:8,className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:border-blue-500 focus:outline-none resize-none"})]}),e.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Labels"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:e.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>{var b;return b=a.id,void k(a=>({...a,labels:a.labels.includes(b)?a.labels.filter(a=>a!==b):[...a.labels,b]}))},className:`px-3 py-1 text-sm rounded-lg border transition-colors ${j.labels.includes(a.id)?"bg-blue-500/20 text-blue-400 border-blue-500/30":"bg-gray-700 text-gray-400 border-gray-600 hover:bg-gray-600"}`,children:a.name},a.id))})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,b.jsx)("button",{type:"button",onClick:()=>g.back(),className:"px-6 py-2 bg-gray-700 text-white rounded-lg text-sm font-semibold hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:h,className:"px-6 py-2 bg-blue-500 text-white rounded-lg text-sm font-semibold hover:bg-blue-600 transition-colors disabled:opacity-50",children:h?"Creating...":"Create Ticket"})]})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=src_app_helpdesk_system-tickets_new_components_NewSystemTicketForm_tsx_ec5cf958._.js.map