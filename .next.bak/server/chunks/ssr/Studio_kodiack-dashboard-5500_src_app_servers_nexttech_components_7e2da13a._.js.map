{"version":3,"sources":["../../../../../../Studio/kodiack-dashboard-5500/src/app/servers/nexttech/components/ServerStatus.tsx","../../../../../../Studio/kodiack-dashboard-5500/src/app/servers/nexttech/components/SopsList.tsx","../../../../../../Studio/kodiack-dashboard-5500/src/app/servers/nexttech/components/WorkflowsList.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\n\r\ninterface ServerStatusProps {\r\n  health: any;\r\n  status: any;\r\n}\r\n\r\nexport default function ServerStatus({ health, status }: ServerStatusProps) {\r\n  const [loading, setLoading] = useState<string | null>(null);\r\n\r\n  const handleAction = async (action: string) => {\r\n    setLoading(action);\r\n    try {\r\n      const res = await fetch(`/api/nexttech/${action}`, { method: 'POST' });\r\n      const result = await res.json();\r\n      if (result.success) {\r\n        window.location.reload();\r\n      } else {\r\n        alert(result.error || 'Action failed');\r\n      }\r\n    } catch (e) {\r\n      alert((e as Error).message);\r\n    } finally {\r\n      setLoading(null);\r\n    }\r\n  };\r\n\r\n  const serverStatus = health?.status || 'offline';\r\n  const statusColors: Record<string, string> = {\r\n    healthy: 'bg-green-500',\r\n    online: 'bg-green-500',\r\n    degraded: 'bg-yellow-500',\r\n    offline: 'bg-red-500',\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gray-800 border border-gray-700 rounded-xl p-5 mb-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <div className={`w-4 h-4 rounded-full ${statusColors[serverStatus]}`} />\r\n          <div>\r\n            <div className=\"font-semibold text-white\">Server Status</div>\r\n            <div className=\"text-sm text-gray-400\">\r\n              {serverStatus.charAt(0).toUpperCase() + serverStatus.slice(1)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <button\r\n            onClick={() => handleAction('start')}\r\n            disabled={loading !== null}\r\n            className=\"px-4 py-2 bg-green-500/15 text-green-400 border border-green-500/30 rounded-lg text-sm font-semibold hover:bg-green-500 hover:text-white transition-colors disabled:opacity-50\"\r\n          >\r\n            {loading === 'start' ? '...' : 'Start'}\r\n          </button>\r\n          <button\r\n            onClick={() => handleAction('restart')}\r\n            disabled={loading !== null}\r\n            className=\"px-4 py-2 bg-yellow-500/15 text-yellow-400 border border-yellow-500/30 rounded-lg text-sm font-semibold hover:bg-yellow-500 hover:text-white transition-colors disabled:opacity-50\"\r\n          >\r\n            {loading === 'restart' ? '...' : 'Restart'}\r\n          </button>\r\n          <button\r\n            onClick={() => handleAction('stop')}\r\n            disabled={loading !== null}\r\n            className=\"px-4 py-2 bg-red-500/15 text-red-400 border border-red-500/30 rounded-lg text-sm font-semibold hover:bg-red-500 hover:text-white transition-colors disabled:opacity-50\"\r\n          >\r\n            {loading === 'stop' ? '...' : 'Stop'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\ninterface Sop {\r\n  id: string;\r\n  title: string;\r\n  category: string;\r\n  version: string;\r\n  status: string;\r\n  last_updated?: string;\r\n}\r\n\r\ninterface SopsListProps {\r\n  sops: Sop[];\r\n}\r\n\r\nexport default function SopsList({ sops }: SopsListProps) {\r\n  return (\r\n    <div>\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h3 className=\"text-lg font-semibold text-white\">Standard Operating Procedures</h3>\r\n        <button className=\"px-4 py-2 bg-blue-500 text-white rounded-lg text-sm font-semibold hover:bg-blue-600 transition-colors\">\r\n          + New SOP\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"bg-gray-800 border border-gray-700 rounded-xl overflow-hidden\">\r\n        <div className=\"divide-y divide-gray-700\">\r\n          {sops.map((sop) => (\r\n            <div\r\n              key={sop.id}\r\n              className=\"p-4 hover:bg-blue-500/5 transition-colors cursor-pointer\"\r\n            >\r\n              <div className=\"flex items-start justify-between\">\r\n                <div>\r\n                  <div className=\"font-medium text-white\">{sop.title}</div>\r\n                  <div className=\"flex items-center gap-2 mt-1\">\r\n                    <span className=\"text-xs bg-gray-700 text-gray-300 px-2 py-0.5 rounded\">\r\n                      {sop.category}\r\n                    </span>\r\n                    <span className=\"text-xs text-gray-500\">v{sop.version}</span>\r\n                  </div>\r\n                </div>\r\n                <span className={`text-xs font-semibold px-2 py-1 rounded ${\r\n                  sop.status === 'active'\r\n                    ? 'bg-green-500/20 text-green-400'\r\n                    : sop.status === 'draft'\r\n                    ? 'bg-yellow-500/20 text-yellow-400'\r\n                    : 'bg-gray-700 text-gray-400'\r\n                }`}>\r\n                  {sop.status}\r\n                </span>\r\n              </div>\r\n              <div className=\"text-xs text-gray-500 mt-2\">\r\n                Last updated: {sop.last_updated || 'Never'}\r\n              </div>\r\n            </div>\r\n          ))}\r\n\r\n          {sops.length === 0 && (\r\n            <div className=\"text-center py-12 text-gray-500\">\r\n              No SOPs created yet\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState } from 'react';\r\n\r\ninterface Workflow {\r\n  id: string;\r\n  name: string;\r\n  description?: string;\r\n  steps: number;\r\n  status: string;\r\n  last_run?: string;\r\n  runs_count?: number;\r\n}\r\n\r\ninterface WorkflowsListProps {\r\n  workflows: Workflow[];\r\n}\r\n\r\nexport default function WorkflowsList({ workflows }: WorkflowsListProps) {\r\n  const [executing, setExecuting] = useState<string | null>(null);\r\n\r\n  const handleExecute = async (workflowId: string) => {\r\n    setExecuting(workflowId);\r\n    try {\r\n      const res = await fetch(`/api/nexttech/workflows/${workflowId}/execute`, {\r\n        method: 'POST',\r\n      });\r\n      const result = await res.json();\r\n      if (result.success) {\r\n        alert('Workflow started successfully');\r\n        window.location.reload();\r\n      } else {\r\n        alert(result.error || 'Failed to execute workflow');\r\n      }\r\n    } catch (e) {\r\n      alert((e as Error).message);\r\n    } finally {\r\n      setExecuting(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h3 className=\"text-lg font-semibold text-white\">Workflows</h3>\r\n        <button className=\"px-4 py-2 bg-blue-500 text-white rounded-lg text-sm font-semibold hover:bg-blue-600 transition-colors\">\r\n          + New Workflow\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"bg-gray-800 border border-gray-700 rounded-xl overflow-hidden\">\r\n        <div className=\"divide-y divide-gray-700\">\r\n          {workflows.map((workflow) => (\r\n            <div\r\n              key={workflow.id}\r\n              className=\"p-4 hover:bg-blue-500/5 transition-colors\"\r\n            >\r\n              <div className=\"flex items-start justify-between\">\r\n                <div className=\"flex-1\">\r\n                  <div className=\"font-medium text-white\">{workflow.name}</div>\r\n                  {workflow.description && (\r\n                    <div className=\"text-xs text-gray-500 mt-1\">{workflow.description}</div>\r\n                  )}\r\n                  <div className=\"flex items-center gap-3 mt-2\">\r\n                    <span className=\"text-xs text-gray-400\">{workflow.steps} steps</span>\r\n                    <span className=\"text-xs text-gray-400\">{workflow.runs_count || 0} runs</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <span className={`text-xs font-semibold px-2 py-1 rounded ${\r\n                    workflow.status === 'active'\r\n                      ? 'bg-green-500/20 text-green-400'\r\n                      : workflow.status === 'running'\r\n                      ? 'bg-blue-500/20 text-blue-400'\r\n                      : 'bg-gray-700 text-gray-400'\r\n                  }`}>\r\n                    {workflow.status}\r\n                  </span>\r\n                  <button\r\n                    onClick={() => handleExecute(workflow.id)}\r\n                    disabled={executing === workflow.id || workflow.status === 'running'}\r\n                    className=\"px-3 py-1 text-xs font-semibold rounded bg-green-500/15 text-green-400 border border-green-500/30 hover:bg-green-500 hover:text-white transition-colors disabled:opacity-50\"\r\n                  >\r\n                    {executing === workflow.id ? '...' : 'Run'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n\r\n          {workflows.length === 0 && (\r\n            <div className=\"text-center py-12 text-gray-500\">\r\n              No workflows created yet\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}