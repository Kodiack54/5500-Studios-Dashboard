module.exports=[77580,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246);function e({tickets:a,categories:e}){let[f,g]=(0,c.useState)("all"),[h,i]=(0,c.useState)("all"),[j,k]=(0,c.useState)("all"),[l,m]=(0,c.useState)("all"),[n,o]=(0,c.useState)(""),p=a=>{if(a.source_system)return a.source_system;let b=a.user_id.match(/^(portal|nextbidder|nexttech|nexttask|sources)_user/);return b?b[1]:null},q=a.filter(a=>{if("all"!==f&&a.status!==f||"all"!==h&&a.priority!==h||"all"!==j&&a.category!==j||"all"!==l&&p(a)!==l)return!1;if(n){let b=n.toLowerCase();if(!a.title.toLowerCase().includes(b)&&!a.user_email.toLowerCase().includes(b)&&!(a.user_name||"").toLowerCase().includes(b))return!1}return!0}),r={low:"bg-gray-500/20 text-gray-400",normal:"bg-blue-500/20 text-blue-400",high:"bg-yellow-500/20 text-yellow-400",urgent:"bg-red-500/20 text-red-400"},s={open:"bg-blue-500/20 text-blue-400",awaiting_response:"bg-yellow-500/20 text-yellow-400",in_progress:"bg-purple-500/20 text-purple-400",resolved:"bg-green-500/20 text-green-400",closed:"bg-gray-500/20 text-gray-400"},t={portal:"bg-green-500/20 text-green-400",nextbidder:"bg-purple-500/20 text-purple-400",nexttech:"bg-pink-500/20 text-pink-400",nexttask:"bg-orange-500/20 text-orange-400",sources:"bg-yellow-500/20 text-yellow-400"},u=a.filter(a=>"awaiting_response"===a.status).length;return(0,b.jsxs)("div",{children:[u>0&&(0,b.jsxs)("div",{className:"bg-yellow-500/15 border border-yellow-500/30 text-yellow-400 px-4 py-3 rounded-lg mb-6 flex items-center gap-3",children:[(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-yellow-400 animate-pulse"}),(0,b.jsxs)("span",{children:[u," ticket",u>1?"s":""," awaiting your response"]}),(0,b.jsx)("button",{onClick:()=>g("awaiting_response"),className:"ml-auto text-xs px-3 py-1 rounded bg-yellow-500/20 hover:bg-yellow-500 hover:text-black transition-colors",children:"View"})]}),(0,b.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-xl p-4 mb-6",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,b.jsx)("input",{type:"text",placeholder:"Search tickets or users...",value:n,onChange:a=>o(a.target.value),className:"flex-1 min-w-[200px] bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-sm text-white placeholder-gray-500 focus:border-purple-500 focus:outline-none"}),(0,b.jsxs)("select",{value:f,onChange:a=>g(a.target.value),className:"bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white focus:border-purple-500 focus:outline-none",children:[(0,b.jsx)("option",{value:"all",children:"All Status"}),(0,b.jsx)("option",{value:"open",children:"Open"}),(0,b.jsx)("option",{value:"awaiting_response",children:"Awaiting Response"}),(0,b.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,b.jsx)("option",{value:"resolved",children:"Resolved"}),(0,b.jsx)("option",{value:"closed",children:"Closed"})]}),(0,b.jsxs)("select",{value:h,onChange:a=>i(a.target.value),className:"bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white focus:border-purple-500 focus:outline-none",children:[(0,b.jsx)("option",{value:"all",children:"All Priority"}),(0,b.jsx)("option",{value:"urgent",children:"Urgent"}),(0,b.jsx)("option",{value:"high",children:"High"}),(0,b.jsx)("option",{value:"normal",children:"Normal"}),(0,b.jsx)("option",{value:"low",children:"Low"})]}),(0,b.jsxs)("select",{value:j,onChange:a=>k(a.target.value),className:"bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white focus:border-purple-500 focus:outline-none",children:[(0,b.jsx)("option",{value:"all",children:"All Categories"}),e.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]}),(0,b.jsxs)("select",{value:l,onChange:a=>m(a.target.value),className:"bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white focus:border-purple-500 focus:outline-none",children:[(0,b.jsx)("option",{value:"all",children:"All Sources"}),(0,b.jsx)("option",{value:"portal",children:"Portal"}),(0,b.jsx)("option",{value:"nextbidder",children:"NextBidder"}),(0,b.jsx)("option",{value:"nexttech",children:"NextTech"}),(0,b.jsx)("option",{value:"nexttask",children:"NextTask"}),(0,b.jsx)("option",{value:"sources",children:"Sources"})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,b.jsx)("button",{onClick:()=>g("awaiting_response"),className:"px-3 py-1 text-xs rounded-lg bg-yellow-500/15 text-yellow-400 border border-yellow-500/30 hover:bg-yellow-500 hover:text-black transition-colors",children:"Needs Response"}),(0,b.jsx)("button",{onClick:()=>{g("open"),i("urgent")},className:"px-3 py-1 text-xs rounded-lg bg-red-500/15 text-red-400 border border-red-500/30 hover:bg-red-500 hover:text-white transition-colors",children:"Urgent"}),(0,b.jsx)("button",{onClick:()=>{g("all"),i("all"),k("all"),m("all"),o("")},className:"px-3 py-1 text-xs rounded-lg bg-gray-700 text-gray-300 hover:bg-gray-600 transition-colors",children:"Clear Filters"})]})]}),(0,b.jsxs)("div",{className:"text-sm text-gray-400 mb-4",children:["Showing ",q.length," of ",a.length," tickets"]}),(0,b.jsxs)("div",{className:"space-y-3",children:[q.map(a=>{let c,e,f,g;return(0,b.jsx)(d.default,{href:`/helpdesk/user-tickets/${a.id}`,className:"block bg-gray-800 border border-gray-700 rounded-xl p-4 hover:bg-purple-500/5 hover:border-purple-500/30 transition-colors",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-purple-500/20 flex items-center justify-center text-purple-400 font-bold",children:a.user_name?.charAt(0)||a.user_email?.charAt(0)||"?"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("span",{className:"font-medium text-white",children:a.title}),"awaiting_response"===a.status&&(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-yellow-400 animate-pulse"})]}),(0,b.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:a.user_name||a.user_email}),(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,b.jsx)("span",{className:`text-xs px-2 py-0.5 rounded ${s[a.status]}`,children:a.status.replace(/_/g," ")}),(0,b.jsx)("span",{className:`text-xs px-2 py-0.5 rounded ${r[a.priority]}`,children:a.priority}),p(a)&&(0,b.jsx)("span",{className:`text-xs px-2 py-0.5 rounded ${t[p(a)]}`,children:p(a)}),(0,b.jsx)("span",{className:"text-xs bg-gray-700 text-gray-300 px-2 py-0.5 rounded",children:a.category}),a.assigned_to&&(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:["Assigned: ",a.assigned_to]}),(0,b.jsx)("span",{className:"text-xs text-gray-600 ml-auto",children:(c=new Date(a.created_at),(g=Math.floor((f=Math.floor((e=Math.floor((new Date().getTime()-c.getTime())/6e4))/60))/24))>0?`${g}d ago`:f>0?`${f}h ago`:e>0?`${e}m ago`:"just now")})]})]})]})},a.id)}),0===q.length&&(0,b.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No tickets match your filters"})]})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=src_app_helpdesk_user-tickets_components_UserTicketsList_tsx_6ca8ac01._.js.map