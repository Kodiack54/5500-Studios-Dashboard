{"version":3,"sources":["../../../../../../Studio/kodiack-dashboard-5500/src/app/project-management/page.tsx","../../../../../../Studio/kodiack-dashboard-5500/src/app/project-management/components/ProjectHeader.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, Suspense } from 'react';\r\nimport { useSearchParams, useRouter } from 'next/navigation';\r\nimport { Plus, ArrowLeft, ChevronRight, ChevronDown, Settings, GripVertical, Building2 } from 'lucide-react';\r\nimport { useClient } from '@/app/contexts/ClientContext';\r\nimport { Project, TabType, TABS } from './types';\r\nimport ProjectHeader from './components/ProjectHeader';\r\nimport ProjectTabs from './components/ProjectTabs';\r\nimport ProjectForm from './components/ProjectForm';\r\n\r\n// Drag and Drop\r\nimport {\r\n  DndContext,\r\n  DragOverlay,\r\n  closestCenter,\r\n  KeyboardSensor,\r\n  PointerSensor,\r\n  useSensor,\r\n  useSensors,\r\n  DragStartEvent,\r\n  DragEndEvent,\r\n  DragOverEvent,\r\n} from '@dnd-kit/core';\r\nimport {\r\n  arrayMove,\r\n  SortableContext,\r\n  sortableKeyboardCoordinates,\r\n  useSortable,\r\n  verticalListSortingStrategy,\r\n} from '@dnd-kit/sortable';\r\nimport { CSS } from '@dnd-kit/utilities';\r\n\r\n// Tab Components\r\nimport TodosTab from './tabs/TodosTab';\r\nimport DocsTab from './tabs/DocsTab';\r\nimport DatabaseTab from './tabs/DatabaseTab';\r\nimport StructureTab from './tabs/StructureTab';\r\nimport ConventionsTab from './tabs/ConventionsTab';\r\nimport NotepadTab from './tabs/NotepadTab';\r\nimport BugsTab from './tabs/BugsTab';\r\nimport KnowledgeTab from './tabs/KnowledgeTab';\r\n\r\n// Environment color config\r\nconst ENV_COLORS = {\r\n  dev: { bg: 'bg-blue-600/20', text: 'text-blue-400', border: 'border-blue-500', label: 'Dev' },\r\n  test: { bg: 'bg-yellow-600/20', text: 'text-yellow-400', border: 'border-yellow-500', label: 'Test' },\r\n  prod: { bg: 'bg-green-600/20', text: 'text-green-400', border: 'border-green-500', label: 'Prod' },\r\n};\r\n\r\n// Detect environment from parent port configuration or project name\r\nfunction detectEnvironment(project: Project, parent?: Project): 'dev' | 'test' | 'prod' | null {\r\n  // If this is a child with a parent, check if child's port matches parent's port slots\r\n  if (parent) {\r\n    const childPort = project.port_dev || project.port_test || project.port_prod;\r\n    if (childPort) {\r\n      if (parent.port_dev && childPort === parent.port_dev) return 'dev';\r\n      if (parent.port_test && childPort === parent.port_test) return 'test';\r\n      if (parent.port_prod && childPort === parent.port_prod) return 'prod';\r\n    }\r\n  }\r\n\r\n  // Fallback: detect from project name/slug\r\n  const name = (project.name + ' ' + project.slug).toLowerCase();\r\n  if (name.includes('prod') || name.includes('production') || name.includes('live')) return 'prod';\r\n  if (name.includes('test') || name.includes('staging') || name.includes('qa')) return 'test';\r\n  if (name.includes('dev') || name.includes('development') || name.includes('local')) return 'dev';\r\n  return null;\r\n}\r\n\r\n// Wrapper component to handle Suspense for useSearchParams\r\nexport default function ProjectManagementPage() {\r\n  return (\r\n    <Suspense fallback={<div className=\"min-h-screen bg-gray-900 flex items-center justify-center\"><div className=\"animate-spin text-4xl\">‚öôÔ∏è</div></div>}>\r\n      <ProjectManagementContent />\r\n    </Suspense>\r\n  );\r\n}\r\n\r\nfunction ProjectManagementContent() {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const projectSlug = searchParams.get('project');\r\n  const allClients = searchParams.get('allClients');\r\n  const { selectedClient, setSelectedClient } = useClient();\r\n\r\n  // Clear client filter when coming from Session Logs with allClients=true\r\n  useEffect(() => {\r\n    if (allClients === 'true' && selectedClient !== null) {\r\n      setSelectedClient(null);\r\n    }\r\n  }, [allClients, selectedClient, setSelectedClient]);\r\n\r\n  const [allProjects, setAllProjects] = useState<Project[]>([]);\r\n  const [selectedProject, setSelectedProject] = useState<Project | null>(null);\r\n  const [activeTab, setActiveTab] = useState<TabType>('todos');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [showProjectForm, setShowProjectForm] = useState(false);\r\n  const [editingProject, setEditingProject] = useState<Project | null>(null);\r\n  const [expandedParents, setExpandedParents] = useState<Set<string>>(new Set());\r\n  const [activeId, setActiveId] = useState<string | null>(null);\r\n  const [overId, setOverId] = useState<string | null>(null);\r\n  const [projectStats, setProjectStats] = useState<Record<string, ProjectStats>>({});\r\n  const [previewProject, setPreviewProject] = useState<Project | null>(null);\r\n  const [previewDocs, setPreviewDocs] = useState<Array<{ id: string; name: string; doc_type: string }>>([]);\r\n  const [previewTodos, setPreviewTodos] = useState<Array<{ id: string; title: string; status: string; priority: string }>>([]);\r\n  const [previewKnowledge, setPreviewKnowledge] = useState<Array<{ id: string; title: string; category: string }>>([]);\r\n  const [previewBugs, setPreviewBugs] = useState<Array<{ id: string; title: string; severity: string; status: string }>>([]);\r\n  const [expandedSections, setExpandedSections] = useState<Set<string>>(new Set(['todos', 'docs']));\r\n\r\n  // Filter projects by selected client\r\n  const projects = selectedClient\r\n    ? allProjects.filter(p => p.client_id === selectedClient.id)\r\n    : allProjects;\r\n\r\n  // Stats type - matches summary API\r\n  interface ProjectStats {\r\n    todos: number;\r\n    knowledge: number;\r\n    docs: number;\r\n    conventions: number;\r\n    bugs: number;\r\n  }\r\n\r\n  // Get stats for a project (with parent aggregation)\r\n  const getProjectStats = (projectId: string, isParent?: boolean): ProjectStats => {\r\n    if (isParent) {\r\n      // Aggregate children stats\r\n      const childIds = childProjects.filter(p => p.parent_id === projectId).map(p => p.id);\r\n      const aggregated: ProjectStats = { todos: 0, knowledge: 0, docs: 0, conventions: 0, bugs: 0 };\r\n\r\n      // Include parent's own stats\r\n      const parentStats = projectStats[projectId];\r\n      if (parentStats) {\r\n        aggregated.todos += parentStats.todos || 0;\r\n        aggregated.knowledge += parentStats.knowledge || 0;\r\n        aggregated.docs += parentStats.docs || 0;\r\n        aggregated.conventions += parentStats.conventions || 0;\r\n        aggregated.bugs += parentStats.bugs || 0;\r\n      }\r\n\r\n      // Add children stats\r\n      for (const childId of childIds) {\r\n        const childStat = projectStats[childId];\r\n        if (childStat) {\r\n          aggregated.todos += childStat.todos || 0;\r\n          aggregated.knowledge += childStat.knowledge || 0;\r\n          aggregated.docs += childStat.docs || 0;\r\n          aggregated.conventions += childStat.conventions || 0;\r\n          aggregated.bugs += childStat.bugs || 0;\r\n        }\r\n      }\r\n      return aggregated;\r\n    }\r\n    return projectStats[projectId] || { todos: 0, knowledge: 0, docs: 0, conventions: 0, bugs: 0 };\r\n  };\r\n\r\n  // Stats display component - horizontal row with equal columns\r\n  const StatsColumn = ({ stats }: { stats: ProjectStats }) => {\r\n    const hasAny = stats.todos || stats.knowledge || stats.docs || stats.conventions || stats.bugs;\r\n    if (!hasAny) return null;\r\n\r\n    return (\r\n      <div className=\"flex items-center gap-1\">\r\n        <div className=\"w-12 text-center px-1.5 py-0.5 bg-blue-600/20 rounded\">\r\n          <span className=\"text-xs font-medium text-blue-400\">{stats.todos}</span>\r\n        </div>\r\n        <div className=\"w-12 text-center px-1.5 py-0.5 bg-purple-600/20 rounded\">\r\n          <span className=\"text-xs font-medium text-purple-400\">{stats.knowledge}</span>\r\n        </div>\r\n        <div className=\"w-12 text-center px-1.5 py-0.5 bg-green-600/20 rounded\">\r\n          <span className=\"text-xs font-medium text-green-400\">{stats.docs}</span>\r\n        </div>\r\n        <div className=\"w-12 text-center px-1.5 py-0.5 bg-yellow-600/20 rounded\">\r\n          <span className=\"text-xs font-medium text-yellow-400\">{stats.conventions}</span>\r\n        </div>\r\n        <div className=\"w-12 text-center px-1.5 py-0.5 bg-red-600/20 rounded\">\r\n          <span className=\"text-xs font-medium text-red-400\">{stats.bugs}</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // DnD sensors\r\n  const sensors = useSensors(\r\n    useSensor(PointerSensor, { activationConstraint: { distance: 8 } }),\r\n    useSensor(KeyboardSensor, { coordinateGetter: sortableKeyboardCoordinates })\r\n  );\r\n\r\n  // Group projects by parent\r\n  const parentProjects = projects.filter(p => p.is_parent);\r\n  const childProjects = projects.filter(p => !p.is_parent && p.parent_id);\r\n  const orphanProjects = projects.filter(p => !p.is_parent && !p.parent_id);\r\n\r\n  // Get children for a parent\r\n  const getChildren = (parentId: string) => childProjects.filter(p => p.parent_id === parentId);\r\n\r\n  // Toggle parent expansion\r\n  const toggleParent = (parentId: string) => {\r\n    setExpandedParents(prev => {\r\n      const next = new Set(prev);\r\n      if (next.has(parentId)) {\r\n        next.delete(parentId);\r\n      } else {\r\n        next.add(parentId);\r\n      }\r\n      return next;\r\n    });\r\n  };\r\n\r\n  // Fetch projects\r\n  useEffect(() => {\r\n    fetchProjects();\r\n  }, []);\r\n\r\n  // Handle project selection from URL\r\n  useEffect(() => {\r\n    if (projectSlug && projects.length > 0) {\r\n      const project = projects.find(p => p.slug === projectSlug);\r\n      if (project) {\r\n        setSelectedProject(project);\r\n      }\r\n    } else if (!projectSlug) {\r\n      setSelectedProject(null);\r\n    }\r\n  }, [projectSlug, projects]);\r\n\r\n  const fetchProjects = async () => {\r\n    try {\r\n      const response = await fetch('/project-management/api/projects');\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setAllProjects(data.projects);\r\n        // Fetch summaries for all projects\r\n        fetchSummaries();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching projects:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchSummaries = async () => {\r\n    try {\r\n      const response = await fetch('/project-management/api/projects/summary');\r\n      const data = await response.json();\r\n      if (data.success && data.summaries) {\r\n        setProjectStats(data.summaries);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching summaries:', error);\r\n    }\r\n  };\r\n\r\n  const fetchPreviewData = async (project: Project) => {\r\n    setPreviewProject(project);\r\n    const projectPath = project.server_path || '';\r\n\r\n    // Fetch all data in parallel\r\n    try {\r\n      const [docsRes, todosRes, knowledgeRes, bugsRes] = await Promise.all([\r\n        fetch(`/project-management/api/docs?project_path=${encodeURIComponent(projectPath)}`),\r\n        fetch(`/project-management/api/todos?project_path=${encodeURIComponent(projectPath)}`),\r\n        fetch(`/project-management/api/knowledge?project_path=${encodeURIComponent(projectPath)}`),\r\n        fetch(`/project-management/api/bugs?project_path=${encodeURIComponent(projectPath)}`)\r\n      ]);\r\n\r\n      const [docsData, todosData, knowledgeData, bugsData] = await Promise.all([\r\n        docsRes.json(), todosRes.json(), knowledgeRes.json(), bugsRes.json()\r\n      ]);\r\n\r\n      if (docsData.success && docsData.docs) {\r\n        setPreviewDocs(docsData.docs.slice(0, 10));\r\n      }\r\n      if (todosData.success && todosData.todos) {\r\n        const sorted = todosData.todos.sort((a: { status: string }, b: { status: string }) => {\r\n          const order: Record<string, number> = { 'in_progress': 0, 'pending': 1, 'completed': 2 };\r\n          return (order[a.status] || 3) - (order[b.status] || 3);\r\n        });\r\n        setPreviewTodos(sorted.slice(0, 10));\r\n      }\r\n      if (knowledgeData.success && knowledgeData.knowledge) {\r\n        setPreviewKnowledge(knowledgeData.knowledge.slice(0, 8));\r\n      }\r\n      if (bugsData.success && bugsData.bugs) {\r\n        const activeBugs = bugsData.bugs.filter((b: { status: string }) => b.status !== 'resolved');\r\n        setPreviewBugs(activeBugs.slice(0, 5));\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching preview data:', error);\r\n    }\r\n  };\r\n\r\n  const toggleSection = (section: string) => {\r\n    setExpandedSections(prev => {\r\n      const next = new Set(prev);\r\n      if (next.has(section)) next.delete(section);\r\n      else next.add(section);\r\n      return next;\r\n    });\r\n  };\r\n\r\n  const handleSelectProject = (project: Project) => {\r\n    router.push(`/project-management?project=${project.slug}`);\r\n  };\r\n\r\n  const handleBackToList = () => {\r\n    router.push('/project-management');\r\n  };\r\n\r\n  const handleEditProject = (project: Project) => {\r\n    setEditingProject(project);\r\n    setShowProjectForm(true);\r\n  };\r\n\r\n  const handleAddProject = () => {\r\n    setEditingProject(null);\r\n    setShowProjectForm(true);\r\n  };\r\n\r\n  const handleFormClose = () => {\r\n    setShowProjectForm(false);\r\n    setEditingProject(null);\r\n  };\r\n\r\n  const handleFormSave = () => {\r\n    fetchProjects();\r\n    handleFormClose();\r\n  };\r\n\r\n  // Drag handlers\r\n  const handleDragStart = (event: DragStartEvent) => {\r\n    setActiveId(event.active.id as string);\r\n  };\r\n\r\n  const handleDragOver = (event: DragOverEvent) => {\r\n    setOverId(event.over?.id as string || null);\r\n  };\r\n\r\n  const handleDragEnd = async (event: DragEndEvent) => {\r\n    const { active, over } = event;\r\n    setActiveId(null);\r\n    setOverId(null);\r\n\r\n    if (!over || active.id === over.id) return;\r\n\r\n    const activeProject = projects.find(p => p.id === active.id);\r\n    const overProject = projects.find(p => p.id === over.id);\r\n\r\n    if (!activeProject || !overProject) return;\r\n\r\n    // Case 1: Reordering parents\r\n    if (activeProject.is_parent && overProject.is_parent) {\r\n      const oldIndex = parentProjects.findIndex(p => p.id === active.id);\r\n      const newIndex = parentProjects.findIndex(p => p.id === over.id);\r\n\r\n      if (oldIndex !== newIndex) {\r\n        const reordered = arrayMove(parentProjects, oldIndex, newIndex);\r\n        // Update sort_order for all affected parents\r\n        const updates = reordered.map((p, idx) =>\r\n          fetch('/project-management/api/projects', {\r\n            method: 'PATCH',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ id: p.id, sort_order: idx }),\r\n          })\r\n        );\r\n        await Promise.all(updates);\r\n        fetchProjects();\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Case 2: Reordering children within same parent\r\n    if (!activeProject.is_parent && !overProject.is_parent &&\r\n        activeProject.parent_id === overProject.parent_id) {\r\n      const siblings = childProjects.filter(p => p.parent_id === activeProject.parent_id);\r\n      const oldIndex = siblings.findIndex(p => p.id === active.id);\r\n      const newIndex = siblings.findIndex(p => p.id === over.id);\r\n\r\n      if (oldIndex !== newIndex) {\r\n        const reordered = arrayMove(siblings, oldIndex, newIndex);\r\n        const updates = reordered.map((p, idx) =>\r\n          fetch('/project-management/api/projects', {\r\n            method: 'PATCH',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ id: p.id, sort_order: idx }),\r\n          })\r\n        );\r\n        await Promise.all(updates);\r\n        fetchProjects();\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Case 3: Moving child to different parent (drop on parent)\r\n    if (!activeProject.is_parent && overProject.is_parent) {\r\n      await fetch('/project-management/api/projects', {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ id: activeProject.id, parent_id: overProject.id }),\r\n      });\r\n      // Expand the target parent to show the moved child\r\n      setExpandedParents(prev => new Set([...prev, overProject.id]));\r\n      fetchProjects();\r\n      return;\r\n    }\r\n\r\n    // Case 4: Moving child to different parent (drop on sibling in that parent)\r\n    if (!activeProject.is_parent && !overProject.is_parent &&\r\n        activeProject.parent_id !== overProject.parent_id && overProject.parent_id) {\r\n      await fetch('/project-management/api/projects', {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ id: activeProject.id, parent_id: overProject.parent_id }),\r\n      });\r\n      setExpandedParents(prev => new Set([...prev, overProject.parent_id!]));\r\n      fetchProjects();\r\n      return;\r\n    }\r\n\r\n    // Case 5: Reordering orphan projects\r\n    if (!activeProject.is_parent && !activeProject.parent_id &&\r\n        !overProject.is_parent && !overProject.parent_id) {\r\n      const oldIndex = orphanProjects.findIndex(p => p.id === active.id);\r\n      const newIndex = orphanProjects.findIndex(p => p.id === over.id);\r\n\r\n      if (oldIndex !== newIndex) {\r\n        const reordered = arrayMove(orphanProjects, oldIndex, newIndex);\r\n        const updates = reordered.map((p, idx) =>\r\n          fetch('/project-management/api/projects', {\r\n            method: 'PATCH',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ id: p.id, sort_order: idx + 1000 }), // Offset to avoid conflicts\r\n          })\r\n        );\r\n        await Promise.all(updates);\r\n        fetchProjects();\r\n      }\r\n    }\r\n  };\r\n\r\n  // Get the active dragging project for overlay\r\n  const activeProject = activeId ? projects.find(p => p.id === activeId) : null;\r\n\r\n  const renderTabContent = () => {\r\n    if (!selectedProject) return null;\r\n\r\n    const projectPath = selectedProject.server_path || '';\r\n    const isParent = selectedProject.is_parent || false;\r\n    // Get child project IDs if this is a parent\r\n    const childProjectIds = isParent\r\n      ? projects.filter(p => p.parent_id === selectedProject.id).map(p => p.id)\r\n      : [];\r\n\r\n    switch (activeTab) {\r\n      case 'todos':\r\n        return <TodosTab projectPath={projectPath} projectId={selectedProject.id} projectName={selectedProject.name} isParent={isParent} childProjectIds={childProjectIds} />;\r\n      case 'knowledge':\r\n        return <KnowledgeTab projectPath={projectPath} projectId={selectedProject.id} projectName={selectedProject.name} isParent={isParent} childProjectIds={childProjectIds} />;\r\n      case 'docs':\r\n        return <DocsTab projectPath={projectPath} projectId={selectedProject.id} projectName={selectedProject.name} isParent={isParent} childProjectIds={childProjectIds} />;\r\n      case 'database':\r\n        return <DatabaseTab projectPath={projectPath} projectId={selectedProject.id} projectName={selectedProject.name} isParent={isParent} childProjectIds={childProjectIds} />;\r\n      case 'structure':\r\n        return <StructureTab projectPath={projectPath} projectId={selectedProject.id} projectName={selectedProject.name} isParent={isParent} childProjectIds={childProjectIds} />;\r\n      case 'conventions':\r\n        return <ConventionsTab projectPath={projectPath} projectId={selectedProject.id} projectName={selectedProject.name} isParent={isParent} childProjectIds={childProjectIds} />;\r\n      case 'notepad':\r\n        return <NotepadTab projectPath={projectPath} projectId={selectedProject.id} projectName={selectedProject.name} isParent={isParent} childProjectIds={childProjectIds} />;\r\n      case 'bugs':\r\n        return <BugsTab projectPath={projectPath} projectId={selectedProject.id} projectName={selectedProject.name} isParent={isParent} childProjectIds={childProjectIds} />;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-900 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin text-4xl mb-4\">‚öôÔ∏è</div>\r\n          <p className=\"text-gray-400\">Loading projects...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Detail View - when a project is selected\r\n  if (selectedProject) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-900 flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"bg-gray-800 border-b border-gray-700 px-6 py-4\">\r\n          <button\r\n            onClick={handleBackToList}\r\n            className=\"flex items-center gap-2 text-gray-400 hover:text-white mb-4 transition-colors\"\r\n          >\r\n            <ArrowLeft className=\"w-4 h-4\" />\r\n            <span>All Projects</span>\r\n          </button>\r\n          <ProjectHeader\r\n            project={selectedProject}\r\n            onEdit={() => handleEditProject(selectedProject)}\r\n          />\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <ProjectTabs\r\n          activeTab={activeTab}\r\n          onTabChange={setActiveTab}\r\n        />\r\n\r\n        {/* Tab Content */}\r\n        <div className=\"flex-1 overflow-auto p-6\">\r\n          {renderTabContent()}\r\n        </div>\r\n\r\n        {/* Project Form Modal */}\r\n        {showProjectForm && (\r\n          <ProjectForm\r\n            project={editingProject}\r\n            onClose={handleFormClose}\r\n            onSave={handleFormSave}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Sortable Parent Row Component\r\n  const SortableParentRow = ({ project }: { project: Project }) => {\r\n    const {\r\n      attributes,\r\n      listeners,\r\n      setNodeRef,\r\n      transform,\r\n      transition,\r\n      isDragging,\r\n    } = useSortable({ id: project.id });\r\n\r\n    const style = {\r\n      transform: CSS.Transform.toString(transform),\r\n      transition,\r\n      opacity: isDragging ? 0.5 : 1,\r\n    };\r\n\r\n    const children = getChildren(project.id);\r\n    const isExpanded = expandedParents.has(project.id);\r\n    const hasChildren = children.length > 0;\r\n\r\n    // Aggregate child info - use parent port slots to determine environment\r\n    const devChildren = children.filter(c => detectEnvironment(c, project) === 'dev');\r\n    const testChildren = children.filter(c => detectEnvironment(c, project) === 'test');\r\n    const prodChildren = children.filter(c => detectEnvironment(c, project) === 'prod');\r\n\r\n    // Get all ports from children\r\n    const childDevPorts = children.filter(c => c.port_dev).map(c => c.port_dev);\r\n    const childTestPorts = children.filter(c => c.port_test).map(c => c.port_test);\r\n    const childProdPorts = children.filter(c => c.port_prod).map(c => c.port_prod);\r\n\r\n    return (\r\n      <div ref={setNodeRef} style={style} className=\"mb-2\">\r\n        {/* Parent Row */}\r\n        <div\r\n          className={`bg-gray-800 border rounded-lg p-4 transition-colors group ${\r\n            overId === project.id && activeId && !projects.find(p => p.id === activeId)?.is_parent\r\n              ? 'border-blue-500 bg-blue-500/10'\r\n              : 'border-gray-700 hover:border-blue-500'\r\n          }`}\r\n        >\r\n          <div className=\"flex items-center gap-3\">\r\n            {/* Drag Handle */}\r\n            <button\r\n              {...attributes}\r\n              {...listeners}\r\n              className=\"p-1 text-gray-600 hover:text-white cursor-grab active:cursor-grabbing\"\r\n            >\r\n              <GripVertical className=\"w-4 h-4\" />\r\n            </button>\r\n\r\n            {/* Expand Arrow */}\r\n            <button\r\n              onClick={() => hasChildren && toggleParent(project.id)}\r\n              className={`p-1 rounded transition-colors ${hasChildren ? 'hover:bg-gray-700 text-gray-400 hover:text-white' : 'text-gray-700 cursor-default'}`}\r\n            >\r\n              {isExpanded ? (\r\n                <ChevronDown className=\"w-5 h-5\" />\r\n              ) : (\r\n                <ChevronRight className=\"w-5 h-5\" />\r\n              )}\r\n            </button>\r\n\r\n            {/* Logo/Avatar */}\r\n            {project.logo_url ? (\r\n              <img src={project.logo_url} alt={project.name} className=\"w-10 h-10 rounded-lg object-cover\" />\r\n            ) : (\r\n              <div className=\"w-10 h-10 rounded-lg bg-purple-600/20 flex items-center justify-center text-purple-400 text-lg font-bold\">\r\n                {project.name.charAt(0).toUpperCase()}\r\n              </div>\r\n            )}\r\n\r\n            {/* Name & Info */}\r\n            <div\r\n              className=\"flex-1 cursor-pointer\"\r\n              onClick={() => fetchPreviewData(project)}\r\n              onDoubleClick={() => handleSelectProject(project)}\r\n            >\r\n              <div className=\"flex items-center gap-2\">\r\n                <h3 className=\"text-white font-semibold\">{project.name}</h3>\r\n                <span className=\"px-2 py-0.5 bg-purple-600/20 text-purple-400 rounded text-xs\">Parent</span>\r\n              </div>\r\n              {/* Child environment summary */}\r\n              {hasChildren && (\r\n                <div className=\"flex items-center gap-2 mt-1\">\r\n                  {devChildren.length > 0 && (\r\n                    <span className=\"px-1.5 py-0.5 bg-blue-600/20 text-blue-400 rounded text-[10px]\">\r\n                      {devChildren.length} Dev\r\n                    </span>\r\n                  )}\r\n                  {testChildren.length > 0 && (\r\n                    <span className=\"px-1.5 py-0.5 bg-yellow-600/20 text-yellow-400 rounded text-[10px]\">\r\n                      {testChildren.length} Test\r\n                    </span>\r\n                  )}\r\n                  {prodChildren.length > 0 && (\r\n                    <span className=\"px-1.5 py-0.5 bg-green-600/20 text-green-400 rounded text-[10px]\">\r\n                      {prodChildren.length} Prod\r\n                    </span>\r\n                  )}\r\n                  {children.length > 0 && devChildren.length === 0 && testChildren.length === 0 && prodChildren.length === 0 && (\r\n                    <span className=\"text-gray-500 text-[10px]\">{children.length} projects</span>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Stats Column */}\r\n            <StatsColumn stats={getProjectStats(project.id, true)} />\r\n\r\n            {/* Dev/Test/Prod ports - one of each */}\r\n            <div className=\"flex items-center gap-2\">\r\n              {(childDevPorts[0] || project.port_dev) && (\r\n                <span className=\"px-2 py-0.5 bg-blue-600/20 text-blue-400 rounded text-xs\">\r\n                  :{childDevPorts[0] || project.port_dev}\r\n                </span>\r\n              )}\r\n              {(childTestPorts[0] || project.port_test) && (\r\n                <span className=\"px-2 py-0.5 bg-yellow-600/20 text-yellow-400 rounded text-xs\">\r\n                  :{childTestPorts[0] || project.port_test}\r\n                </span>\r\n              )}\r\n              {(childProdPorts[0] || project.port_prod) && (\r\n                <span className=\"px-2 py-0.5 bg-green-600/20 text-green-400 rounded text-xs\">\r\n                  :{childProdPorts[0] || project.port_prod}\r\n                </span>\r\n              )}\r\n            </div>\r\n\r\n            {/* Edit Button */}\r\n            <button\r\n              onClick={(e) => { e.stopPropagation(); handleEditProject(project); }}\r\n              className=\"p-2 text-gray-500 hover:text-white hover:bg-gray-700 rounded opacity-0 group-hover:opacity-100 transition-all\"\r\n            >\r\n              <Settings className=\"w-4 h-4\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Children (when expanded) */}\r\n        {isExpanded && children.length > 0 && (\r\n          <div className=\"ml-8 mt-1 space-y-1 border-l-2 border-gray-700 pl-4\">\r\n            <SortableContext items={children.map(c => c.id)} strategy={verticalListSortingStrategy}>\r\n              {children.map(child => (\r\n                <SortableChildRow key={child.id} child={child} parent={project} />\r\n              ))}\r\n            </SortableContext>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Sortable Child Row Component\r\n  const SortableChildRow = ({ child, parent }: { child: Project; parent: Project }) => {\r\n    const {\r\n      attributes,\r\n      listeners,\r\n      setNodeRef,\r\n      transform,\r\n      transition,\r\n      isDragging,\r\n    } = useSortable({ id: child.id });\r\n\r\n    const style = {\r\n      transform: CSS.Transform.toString(transform),\r\n      transition,\r\n      opacity: isDragging ? 0.5 : 1,\r\n    };\r\n\r\n    // Use parent's port configuration to determine child environment\r\n    const env = detectEnvironment(child, parent);\r\n    const envColor = env ? ENV_COLORS[env] : null;\r\n\r\n    return (\r\n      <div\r\n        ref={setNodeRef}\r\n        style={style}\r\n        className={`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors group\r\n          ${envColor ? `${envColor.bg} border ${envColor.border}` : 'bg-gray-800 border border-gray-700'}\r\n          hover:brightness-110`}\r\n      >\r\n        {/* Drag Handle */}\r\n        <button\r\n          {...attributes}\r\n          {...listeners}\r\n          className=\"p-1 text-gray-500 hover:text-white cursor-grab active:cursor-grabbing\"\r\n          onClick={(e) => e.stopPropagation()}\r\n        >\r\n          <GripVertical className=\"w-3 h-3\" />\r\n        </button>\r\n\r\n        {/* Environment Badge */}\r\n        {envColor && (\r\n          <span className={`px-2 py-1 rounded text-xs font-medium ${envColor.text} ${envColor.bg}`}>\r\n            {envColor.label}\r\n          </span>\r\n        )}\r\n\r\n        {/* Name */}\r\n        <span\r\n          className={`font-medium flex-1 cursor-pointer ${envColor ? envColor.text : 'text-white'}`}\r\n          onClick={() => fetchPreviewData(child)}\r\n          onDoubleClick={() => handleSelectProject(child)}\r\n        >\r\n          {child.name}\r\n        </span>\r\n\r\n        {/* Stats Column */}\r\n        <StatsColumn stats={getProjectStats(child.id)} />\r\n\r\n        {/* Port */}\r\n        {(child.port_dev || child.port_test || child.port_prod) && (\r\n          <span className=\"text-gray-500 text-xs\">\r\n            :{child.port_dev || child.port_test || child.port_prod}\r\n          </span>\r\n        )}\r\n\r\n        {/* Edit */}\r\n        <button\r\n          onClick={(e) => { e.stopPropagation(); handleEditProject(child); }}\r\n          className=\"p-1 text-gray-500 hover:text-white hover:bg-gray-600 rounded opacity-0 group-hover:opacity-100 transition-all\"\r\n        >\r\n          <Settings className=\"w-3 h-3\" />\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Sortable Orphan Row Component\r\n  const SortableOrphanRow = ({ project }: { project: Project }) => {\r\n    const {\r\n      attributes,\r\n      listeners,\r\n      setNodeRef,\r\n      transform,\r\n      transition,\r\n      isDragging,\r\n    } = useSortable({ id: project.id });\r\n\r\n    const style = {\r\n      transform: CSS.Transform.toString(transform),\r\n      transition,\r\n      opacity: isDragging ? 0.5 : 1,\r\n    };\r\n\r\n    const env = detectEnvironment(project);\r\n    const envColor = env ? ENV_COLORS[env] : null;\r\n\r\n    return (\r\n      <div\r\n        ref={setNodeRef}\r\n        style={style}\r\n        className=\"bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer group mb-2\"\r\n      >\r\n        <div className=\"flex items-center gap-3\">\r\n          {/* Drag Handle */}\r\n          <button\r\n            {...attributes}\r\n            {...listeners}\r\n            className=\"p-1 text-gray-600 hover:text-white cursor-grab active:cursor-grabbing\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <GripVertical className=\"w-4 h-4\" />\r\n          </button>\r\n\r\n          {/* Logo */}\r\n          {project.logo_url ? (\r\n            <img src={project.logo_url} alt={project.name} className=\"w-10 h-10 rounded-lg object-cover\" />\r\n          ) : (\r\n            <div className={`w-10 h-10 rounded-lg flex items-center justify-center text-lg font-bold\r\n              ${envColor ? `${envColor.bg} ${envColor.text}` : 'bg-blue-600/20 text-blue-400'}`}>\r\n              {project.name.charAt(0).toUpperCase()}\r\n            </div>\r\n          )}\r\n\r\n          {/* Name */}\r\n          <div className=\"flex-1 cursor-pointer\" onClick={() => fetchPreviewData(project)} onDoubleClick={() => handleSelectProject(project)}>\r\n            <div className=\"flex items-center gap-2\">\r\n              <h3 className=\"text-white font-semibold\">{project.name}</h3>\r\n              {envColor && (\r\n                <span className={`px-2 py-0.5 rounded text-xs ${envColor.bg} ${envColor.text}`}>\r\n                  {envColor.label}\r\n                </span>\r\n              )}\r\n            </div>\r\n            <span className=\"text-gray-500 text-xs\">{project.slug}</span>\r\n          </div>\r\n\r\n          {/* Stats Column */}\r\n          <StatsColumn stats={getProjectStats(project.id)} />\r\n\r\n          {/* Ports */}\r\n          <div className=\"flex items-center gap-2\">\r\n            {project.port_dev && (\r\n              <span className=\"px-2 py-0.5 bg-blue-600/20 text-blue-400 rounded text-xs\">Dev:{project.port_dev}</span>\r\n            )}\r\n            {project.port_test && (\r\n              <span className=\"px-2 py-0.5 bg-yellow-600/20 text-yellow-400 rounded text-xs\">Test:{project.port_test}</span>\r\n            )}\r\n            {project.port_prod && (\r\n              <span className=\"px-2 py-0.5 bg-green-600/20 text-green-400 rounded text-xs\">Prod:{project.port_prod}</span>\r\n            )}\r\n          </div>\r\n\r\n          {/* Edit */}\r\n          <button\r\n            onClick={(e) => { e.stopPropagation(); handleEditProject(project); }}\r\n            className=\"p-2 text-gray-500 hover:text-white hover:bg-gray-700 rounded opacity-0 group-hover:opacity-100 transition-all\"\r\n          >\r\n            <Settings className=\"w-4 h-4\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // List View - all projects\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-900\">\r\n      {/* Header */}\r\n      <div className=\"bg-gray-800 border-b border-gray-700 px-6 py-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <div className=\"flex items-center gap-3\">\r\n              <h1 className=\"text-2xl font-bold text-white\">Project Management</h1>\r\n              {selectedClient && (\r\n                <span className=\"px-3 py-1 bg-blue-600/20 text-blue-400 rounded-lg text-sm flex items-center gap-2\">\r\n                  <Building2 className=\"w-4 h-4\" />\r\n                  {selectedClient.name}\r\n                </span>\r\n              )}\r\n            </div>\r\n            <p className=\"text-gray-400 text-sm mt-1\">\r\n              {parentProjects.length} parent{parentProjects.length !== 1 ? 's' : ''} ¬∑ {childProjects.length + orphanProjects.length} project{(childProjects.length + orphanProjects.length) !== 1 ? 's' : ''}\r\n            </p>\r\n          </div>\r\n          <button\r\n            onClick={handleAddProject}\r\n            className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors\"\r\n          >\r\n            <Plus className=\"w-4 h-4\" />\r\n            Add Project\r\n          </button>\r\n        </div>\r\n\r\n        {/* Stats Row - totals across all projects (filtered by client) */}\r\n        <div className=\"mt-4 pt-4 border-t border-gray-700\">\r\n          <div className=\"grid grid-cols-5 gap-3\">\r\n            {(() => {\r\n              // Aggregate stats across all visible projects\r\n              const totalStats = { todos: 0, knowledge: 0, docs: 0, conventions: 0, bugs: 0 };\r\n              projects.forEach(p => {\r\n                const s = projectStats[p.id];\r\n                if (s) {\r\n                  totalStats.todos += s.todos || 0;\r\n                  totalStats.knowledge += s.knowledge || 0;\r\n                  totalStats.docs += s.docs || 0;\r\n                  totalStats.conventions += s.conventions || 0;\r\n                  totalStats.bugs += s.bugs || 0;\r\n                }\r\n              });\r\n              return (\r\n                <>\r\n                  <div className=\"flex items-center justify-between p-3 bg-gray-900 rounded-lg\">\r\n                    <span className=\"text-sm text-gray-400\">Todos</span>\r\n                    <span className=\"text-xl font-bold text-blue-400\">{totalStats.todos}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between p-3 bg-gray-900 rounded-lg\">\r\n                    <span className=\"text-sm text-gray-400\">Knowledge</span>\r\n                    <span className=\"text-xl font-bold text-purple-400\">{totalStats.knowledge}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between p-3 bg-gray-900 rounded-lg\">\r\n                    <span className=\"text-sm text-gray-400\">Docs</span>\r\n                    <span className=\"text-xl font-bold text-green-400\">{totalStats.docs}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between p-3 bg-gray-900 rounded-lg\">\r\n                    <span className=\"text-sm text-gray-400\">Conventions</span>\r\n                    <span className=\"text-xl font-bold text-yellow-400\">{totalStats.conventions}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between p-3 bg-gray-900 rounded-lg\">\r\n                    <span className=\"text-sm text-gray-400\">Bugs</span>\r\n                    <span className=\"text-xl font-bold text-red-400\">{totalStats.bugs}</span>\r\n                  </div>\r\n                </>\r\n              );\r\n            })()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Project List + Preview Panel */}\r\n      <div className=\"flex gap-6 p-6\">\r\n        {/* Left: Project List (2/3) */}\r\n        <div className=\"flex-1 max-w-3xl\">\r\n        {projects.length === 0 ? (\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"text-6xl mb-4\">üìÅ</div>\r\n            <h3 className=\"text-xl font-semibold text-white mb-2\">No Projects Yet</h3>\r\n            <p className=\"text-gray-400 mb-4\">Create your first project to get started</p>\r\n            <button\r\n              onClick={handleAddProject}\r\n              className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg\"\r\n            >\r\n              Add Project\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <DndContext\r\n            sensors={sensors}\r\n            collisionDetection={closestCenter}\r\n            onDragStart={handleDragStart}\r\n            onDragOver={handleDragOver}\r\n            onDragEnd={handleDragEnd}\r\n          >\r\n            <div>\r\n              {/* Parent Projects with Children */}\r\n              <SortableContext items={parentProjects.map(p => p.id)} strategy={verticalListSortingStrategy}>\r\n                {parentProjects.map(parent => (\r\n                  <SortableParentRow key={parent.id} project={parent} />\r\n                ))}\r\n              </SortableContext>\r\n\r\n              {/* Orphan Projects (no parent) */}\r\n              {orphanProjects.length > 0 && parentProjects.length > 0 && (\r\n                <div className=\"mt-6 mb-3\">\r\n                  <h3 className=\"text-gray-500 text-sm font-medium px-2\">Standalone Projects</h3>\r\n                </div>\r\n              )}\r\n              <SortableContext items={orphanProjects.map(p => p.id)} strategy={verticalListSortingStrategy}>\r\n                {orphanProjects.map(project => (\r\n                  <SortableOrphanRow key={project.id} project={project} />\r\n                ))}\r\n              </SortableContext>\r\n            </div>\r\n\r\n            {/* Drag Overlay */}\r\n            <DragOverlay>\r\n              {activeProject && (\r\n                <div className=\"bg-gray-800 border border-blue-500 rounded-lg p-4 shadow-xl opacity-90\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <GripVertical className=\"w-4 h-4 text-blue-400\" />\r\n                    <span className=\"text-white font-medium\">{activeProject.name}</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </DragOverlay>\r\n          </DndContext>\r\n        )}\r\n        </div>\r\n\r\n        {/* Right: Preview Panel (1/3) */}\r\n        <div className=\"w-96 flex-shrink-0\">\r\n          {previewProject ? (\r\n            <div className=\"bg-gray-800 border border-gray-700 rounded-lg sticky top-6 max-h-[calc(100vh-120px)] overflow-y-auto\">\r\n              {/* Project Header */}\r\n              <div className=\"flex items-center gap-3 p-4 border-b border-gray-700 bg-gray-800 sticky top-0\">\r\n                {previewProject.logo_url ? (\r\n                  <img src={previewProject.logo_url} alt={previewProject.name} className=\"w-12 h-12 rounded-lg object-cover\" />\r\n                ) : (\r\n                  <div className=\"w-12 h-12 rounded-lg bg-purple-600/20 flex items-center justify-center text-purple-400 text-xl font-bold\">\r\n                    {previewProject.name.charAt(0).toUpperCase()}\r\n                  </div>\r\n                )}\r\n                <div className=\"flex-1\">\r\n                  <h3 className=\"text-white font-semibold\">{previewProject.name}</h3>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    {previewProject.is_parent && (\r\n                      <span className=\"text-xs text-purple-400\">Parent</span>\r\n                    )}\r\n                    {previewProject.description && (\r\n                      <span className=\"text-xs text-gray-500 truncate max-w-[180px]\">{previewProject.description}</span>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Project KPI Stats */}\r\n              <div className=\"p-4 border-b border-gray-700\">\r\n                <div className=\"grid grid-cols-5 gap-2\">\r\n                  {(() => {\r\n                    const stats = getProjectStats(previewProject.id, previewProject.is_parent);\r\n                    return (\r\n                      <>\r\n                        <div className=\"text-center p-2 bg-gray-900 rounded\">\r\n                          <div className=\"text-lg font-bold text-blue-400\">{stats.todos}</div>\r\n                          <div className=\"text-[10px] text-gray-500\">Todos</div>\r\n                        </div>\r\n                        <div className=\"text-center p-2 bg-gray-900 rounded\">\r\n                          <div className=\"text-lg font-bold text-purple-400\">{stats.knowledge}</div>\r\n                          <div className=\"text-[10px] text-gray-500\">Know</div>\r\n                        </div>\r\n                        <div className=\"text-center p-2 bg-gray-900 rounded\">\r\n                          <div className=\"text-lg font-bold text-green-400\">{stats.docs}</div>\r\n                          <div className=\"text-[10px] text-gray-500\">Docs</div>\r\n                        </div>\r\n                        <div className=\"text-center p-2 bg-gray-900 rounded\">\r\n                          <div className=\"text-lg font-bold text-yellow-400\">{stats.conventions}</div>\r\n                          <div className=\"text-[10px] text-gray-500\">Conv</div>\r\n                        </div>\r\n                        <div className=\"text-center p-2 bg-gray-900 rounded\">\r\n                          <div className=\"text-lg font-bold text-red-400\">{stats.bugs}</div>\r\n                          <div className=\"text-[10px] text-gray-500\">Bugs</div>\r\n                        </div>\r\n                      </>\r\n                    );\r\n                  })()}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Collapsible Sections */}\r\n              <div className=\"divide-y divide-gray-700\">\r\n                {/* Todos Section */}\r\n                <div>\r\n                  <button\r\n                    onClick={() => toggleSection('todos')}\r\n                    className=\"w-full flex items-center justify-between p-3 hover:bg-gray-700/50 transition-colors\"\r\n                  >\r\n                    <span className=\"text-sm font-medium text-gray-300 flex items-center gap-2\">\r\n                      <span className=\"w-2 h-2 rounded-full bg-blue-400\"></span>\r\n                      Active Todos\r\n                      <span className=\"text-xs text-gray-500\">({previewTodos.length})</span>\r\n                    </span>\r\n                    <ChevronDown className={`w-4 h-4 text-gray-500 transition-transform ${expandedSections.has('todos') ? '' : '-rotate-90'}`} />\r\n                  </button>\r\n                  {expandedSections.has('todos') && previewTodos.length > 0 && (\r\n                    <div className=\"px-3 pb-3 space-y-1\">\r\n                      {previewTodos.map(todo => (\r\n                        <div key={todo.id} className=\"flex items-center gap-2 text-sm p-2 bg-gray-900 rounded\">\r\n                          <span className={`w-2 h-2 rounded-full flex-shrink-0 ${\r\n                            todo.status === 'in_progress' ? 'bg-blue-400 animate-pulse' :\r\n                            todo.status === 'completed' ? 'bg-green-400' : 'bg-gray-500'\r\n                          }`} />\r\n                          <span className=\"text-gray-300 truncate flex-1\">{todo.title}</span>\r\n                          {todo.priority === 'high' && <span className=\"text-red-400 text-xs font-bold\">!</span>}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Bugs Section */}\r\n                {previewBugs.length > 0 && (\r\n                  <div>\r\n                    <button\r\n                      onClick={() => toggleSection('bugs')}\r\n                      className=\"w-full flex items-center justify-between p-3 hover:bg-gray-700/50 transition-colors\"\r\n                    >\r\n                      <span className=\"text-sm font-medium text-gray-300 flex items-center gap-2\">\r\n                        <span className=\"w-2 h-2 rounded-full bg-red-400\"></span>\r\n                        Open Bugs\r\n                        <span className=\"text-xs text-gray-500\">({previewBugs.length})</span>\r\n                      </span>\r\n                      <ChevronDown className={`w-4 h-4 text-gray-500 transition-transform ${expandedSections.has('bugs') ? '' : '-rotate-90'}`} />\r\n                    </button>\r\n                    {expandedSections.has('bugs') && (\r\n                      <div className=\"px-3 pb-3 space-y-1\">\r\n                        {previewBugs.map(bug => (\r\n                          <div key={bug.id} className=\"flex items-center gap-2 text-sm p-2 bg-gray-900 rounded\">\r\n                            <span className={`px-1.5 py-0.5 rounded text-[10px] ${\r\n                              bug.severity === 'critical' ? 'bg-red-600 text-white' :\r\n                              bug.severity === 'high' ? 'bg-orange-600 text-white' :\r\n                              'bg-yellow-600 text-black'\r\n                            }`}>{bug.severity}</span>\r\n                            <span className=\"text-gray-300 truncate flex-1\">{bug.title}</span>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                {/* Docs Section */}\r\n                <div>\r\n                  <button\r\n                    onClick={() => toggleSection('docs')}\r\n                    className=\"w-full flex items-center justify-between p-3 hover:bg-gray-700/50 transition-colors\"\r\n                  >\r\n                    <span className=\"text-sm font-medium text-gray-300 flex items-center gap-2\">\r\n                      <span className=\"w-2 h-2 rounded-full bg-green-400\"></span>\r\n                      Documentation\r\n                      <span className=\"text-xs text-gray-500\">({previewDocs.length})</span>\r\n                    </span>\r\n                    <ChevronDown className={`w-4 h-4 text-gray-500 transition-transform ${expandedSections.has('docs') ? '' : '-rotate-90'}`} />\r\n                  </button>\r\n                  {expandedSections.has('docs') && previewDocs.length > 0 && (\r\n                    <div className=\"px-3 pb-3 space-y-1\">\r\n                      {previewDocs.map(doc => (\r\n                        <div key={doc.id} className=\"flex items-center gap-2 text-sm p-2 bg-gray-900 rounded\">\r\n                          <span className=\"px-1.5 py-0.5 bg-green-600/20 text-green-400 rounded text-[10px]\">{doc.doc_type || 'doc'}</span>\r\n                          <span className=\"text-gray-300 truncate flex-1\">{doc.name}</span>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Knowledge Section */}\r\n                <div>\r\n                  <button\r\n                    onClick={() => toggleSection('knowledge')}\r\n                    className=\"w-full flex items-center justify-between p-3 hover:bg-gray-700/50 transition-colors\"\r\n                  >\r\n                    <span className=\"text-sm font-medium text-gray-300 flex items-center gap-2\">\r\n                      <span className=\"w-2 h-2 rounded-full bg-purple-400\"></span>\r\n                      Knowledge Base\r\n                      <span className=\"text-xs text-gray-500\">({previewKnowledge.length})</span>\r\n                    </span>\r\n                    <ChevronDown className={`w-4 h-4 text-gray-500 transition-transform ${expandedSections.has('knowledge') ? '' : '-rotate-90'}`} />\r\n                  </button>\r\n                  {expandedSections.has('knowledge') && previewKnowledge.length > 0 && (\r\n                    <div className=\"px-3 pb-3 space-y-1\">\r\n                      {previewKnowledge.map(k => (\r\n                        <div key={k.id} className=\"flex items-center gap-2 text-sm p-2 bg-gray-900 rounded\">\r\n                          <span className=\"px-1.5 py-0.5 bg-purple-600/20 text-purple-400 rounded text-[10px]\">{k.category || 'note'}</span>\r\n                          <span className=\"text-gray-300 truncate flex-1\">{k.title}</span>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* View Project Button */}\r\n              <div className=\"p-4 border-t border-gray-700 bg-gray-800 sticky bottom-0\">\r\n                <button\r\n                  onClick={() => handleSelectProject(previewProject)}\r\n                  className=\"w-full py-2.5 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors\"\r\n                >\r\n                  Open Project ‚Üí\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"bg-gray-800/50 border border-gray-700/50 border-dashed rounded-lg p-8 text-center\">\r\n              <div className=\"text-gray-600 text-sm mb-2\">Select a project</div>\r\n              <div className=\"text-gray-500 text-xs\">Click any project to see KPIs and details</div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Project Form Modal */}\r\n      {showProjectForm && (\r\n        <ProjectForm\r\n          project={editingProject}\r\n          onClose={handleFormClose}\r\n          onSave={handleFormSave}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { Settings, Server, GitBranch, FolderOpen, ExternalLink } from 'lucide-react';\r\nimport { Project } from '../types';\r\n\r\ninterface ProjectHeaderProps {\r\n  project: Project;\r\n  onEdit: () => void;\r\n}\r\n\r\nexport default function ProjectHeader({ project, onEdit }: ProjectHeaderProps) {\r\n  return (\r\n    <div className=\"flex items-start justify-between\">\r\n      <div className=\"flex items-start gap-4\">\r\n        {/* Logo */}\r\n        {project.logo_url ? (\r\n          <img\r\n            src={project.logo_url}\r\n            alt={project.name}\r\n            className=\"w-16 h-16 rounded-lg object-cover\"\r\n          />\r\n        ) : (\r\n          <div className=\"w-16 h-16 rounded-lg bg-blue-600/20 flex items-center justify-center text-blue-400 text-2xl font-bold\">\r\n            {project.name.charAt(0).toUpperCase()}\r\n          </div>\r\n        )}\r\n\r\n        {/* Info */}\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-white\">{project.name}</h1>\r\n          {project.description && (\r\n            <p className=\"text-gray-400 mt-1\">{project.description}</p>\r\n          )}\r\n\r\n          {/* Meta Info */}\r\n          <div className=\"flex flex-wrap items-center gap-4 mt-3\">\r\n            {/* Droplet */}\r\n            {project.droplet_name && (\r\n              <div className=\"flex items-center gap-2 text-gray-400 text-sm\">\r\n                <Server className=\"w-4 h-4 text-gray-500\" />\r\n                <span>{project.droplet_name}</span>\r\n                {project.droplet_ip && (\r\n                  <span className=\"text-gray-600\">({project.droplet_ip})</span>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Server Path */}\r\n            {project.server_path && (\r\n              <div className=\"flex items-center gap-2 text-gray-400 text-sm\">\r\n                <FolderOpen className=\"w-4 h-4 text-gray-500\" />\r\n                <span className=\"font-mono text-xs\">{project.server_path}</span>\r\n              </div>\r\n            )}\r\n\r\n            {/* Git */}\r\n            {project.git_repo && (\r\n              <a\r\n                href={project.git_repo}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"flex items-center gap-2 text-gray-400 hover:text-blue-400 text-sm transition-colors\"\r\n              >\r\n                <GitBranch className=\"w-4 h-4\" />\r\n                <span>Repository</span>\r\n                <ExternalLink className=\"w-3 h-3\" />\r\n              </a>\r\n            )}\r\n          </div>\r\n\r\n          {/* Ports Row */}\r\n          <div className=\"flex items-center gap-3 mt-3\">\r\n            {project.port_dev && (\r\n              <a\r\n                href={`http://${project.droplet_ip || 'localhost'}:${project.port_dev}`}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"px-3 py-1 bg-blue-600/20 text-blue-400 rounded text-sm hover:bg-blue-600/30 transition-colors flex items-center gap-1\"\r\n              >\r\n                Dev: {project.port_dev}\r\n                <ExternalLink className=\"w-3 h-3\" />\r\n              </a>\r\n            )}\r\n            {project.port_test && (\r\n              <a\r\n                href={`http://${project.droplet_ip || 'localhost'}:${project.port_test}`}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"px-3 py-1 bg-yellow-600/20 text-yellow-400 rounded text-sm hover:bg-yellow-600/30 transition-colors flex items-center gap-1\"\r\n              >\r\n                Test: {project.port_test}\r\n                <ExternalLink className=\"w-3 h-3\" />\r\n              </a>\r\n            )}\r\n            {project.port_prod && (\r\n              <a\r\n                href={`http://${project.droplet_ip || 'localhost'}:${project.port_prod}`}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"px-3 py-1 bg-green-600/20 text-green-400 rounded text-sm hover:bg-green-600/30 transition-colors flex items-center gap-1\"\r\n              >\r\n                Prod: {project.port_prod}\r\n                <ExternalLink className=\"w-3 h-3\" />\r\n              </a>\r\n            )}\r\n            {project.build_number && (\r\n              <span className=\"px-3 py-1 bg-gray-700 text-gray-400 rounded text-sm\">\r\n                Build #{project.build_number}\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Edit Button */}\r\n      <button\r\n        onClick={onEdit}\r\n        className=\"flex items-center gap-2 px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors\"\r\n      >\r\n        <Settings className=\"w-4 h-4\" />\r\n        Edit\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}