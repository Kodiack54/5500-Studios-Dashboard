module.exports=[25,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(91599);function e({roles:a}){let[d,e]=(0,c.useState)(null),f={1:"bg-gray-500/20 text-gray-400",2:"bg-blue-500/20 text-blue-400",3:"bg-purple-500/20 text-purple-400",4:"bg-yellow-500/20 text-yellow-400",5:"bg-orange-500/20 text-orange-400",6:"bg-red-500/20 text-red-400"},g=[...a].sort((a,b)=>b.level-a.level);return(0,b.jsxs)("div",{className:"space-y-4",children:[g.map(a=>(0,b.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-xl overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-900/50",onClick:()=>e(d===a.id?null:a.id),children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:`px-3 py-1 rounded text-xs font-bold ${f[a.level]||f[1]}`,children:["Level ",a.level]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-white",children:a.name}),a.description&&(0,b.jsx)("div",{className:"text-xs text-gray-500",children:a.description})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"text-xs text-gray-500",children:[a.members_count||0," members · ",a.permissions.length," permissions"]}),(0,b.jsx)("span",{className:"text-gray-400",children:d===a.id?"▼":"▶"})]})]}),d===a.id&&(0,b.jsxs)("div",{className:"border-t border-gray-700 p-4 bg-gray-900/50",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-400 mb-2",children:"Permissions"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.permissions.map(a=>(0,b.jsx)("span",{className:"text-xs bg-gray-700 text-gray-300 px-2 py-1 rounded",children:a.replace(/^can/,"").replace(/([A-Z])/g," $1").trim()},a)),0===a.permissions.length&&(0,b.jsx)("span",{className:"text-xs text-gray-500",children:"No permissions assigned"})]})]}),(0,b.jsx)("div",{className:"text-xs text-gray-500 italic",children:"System-defined role. Permissions cannot be modified."})]})]},a.id)),0===a.length&&(0,b.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No roles defined. Create a role to get started."})]})}function f(){let a=(0,c.useContext)(d.PageTitleContext),f=(0,c.useContext)(d.PageActionsContext),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!0);return((0,c.useEffect)(()=>(a({title:"Roles & Permissions",description:"System-defined roles and their permissions"}),f(null),()=>{a({title:"",description:""}),f(null)}),[a,f]),(0,c.useEffect)(()=>{!async function(){try{let a=await fetch("/api/team/roles");if(!a.ok)throw Error("Failed to load roles");let b=await a.json();h(b)}catch(a){j(a.message)}finally{l(!1)}}()},[]),k)?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)("div",{className:"text-gray-400",children:"Loading..."})}):(0,b.jsxs)("div",{children:[i&&(0,b.jsxs)("div",{className:"bg-red-500/15 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg mb-6",children:[(0,b.jsx)("strong",{children:"Error:"})," ",i]}),(0,b.jsx)(e,{roles:g})]})}a.s(["default",()=>f],25)}];

//# sourceMappingURL=src_app_team_roles_page_tsx_d8444991._.js.map