{"version":3,"sources":["../../../../src/app/calendar/components/WeekView.tsx","../../../../src/app/calendar/components/MonthView.tsx","../../../../src/app/calendar/components/CreateEventModal.tsx","../../../../src/app/calendar/components/EditEventModal.tsx","../../../../src/app/calendar/components/TimeOffRequestModal.tsx","../../../../src/app/calendar/components/TimeAdjustmentModal.tsx","../../../../src/app/calendar/page.tsx","../../../../node_modules/lucide-react/src/icons/pen-line.ts"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\n\r\ninterface CalendarEvent {\r\n  id: string;\r\n  title: string;\r\n  description?: string;\r\n  start_datetime: string;\r\n  end_datetime?: string;\r\n  event_type: string;\r\n  color?: string;\r\n  location_address?: string;\r\n  status: string;\r\n}\r\n\r\ninterface WeekViewProps {\r\n  weekDates: Date[];\r\n  events: CalendarEvent[];\r\n  primaryColor: string;\r\n  isToday: (date: Date) => boolean;\r\n  formatHour: (hour: number) => string;\r\n  onSlotClick: (date: Date, hour: number) => void;\r\n  onEventClick: (event: CalendarEvent) => void;\r\n  onEventDrop?: (eventId: string, newDate: Date, newHour: number) => void;\r\n  onCreateEvent?: (date: Date, hour: number) => void;\r\n  onAddEvent?: (event: CalendarEvent) => void;\r\n  onRefresh: () => void;\r\n  calendarRef: React.RefObject<HTMLDivElement | null>;\r\n}\r\n\r\nexport default function WeekView({\r\n  weekDates,\r\n  events,\r\n  primaryColor,\r\n  isToday,\r\n  formatHour,\r\n  onSlotClick,\r\n  onEventClick,\r\n  onEventDrop,\r\n  onCreateEvent,\r\n  onAddEvent,\r\n  onRefresh,\r\n  calendarRef\r\n}: WeekViewProps) {\r\n  const allHours = Array.from({ length: 24 }, (_, i) => i);\r\n  const [dragStart, setDragStart] = useState<{ date: Date; hour: number } | null>(null);\r\n  const [dragEnd, setDragEnd] = useState<{ date: Date; hour: number } | null>(null);\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [lastClickTime, setLastClickTime] = useState(0);\r\n\r\n  // Custom drag state for moving events\r\n  const [draggingEvent, setDraggingEvent] = useState<CalendarEvent | null>(null);\r\n  const [dragPosition, setDragPosition] = useState<{ x: number; y: number }>({ x: 0, y: 0 });\r\n  const [dragOffset, setDragOffset] = useState<{ x: number; y: number }>({ x: 0, y: 0 });\r\n\r\n  // Quick Add state\r\n  const [showQuickAdd, setShowQuickAdd] = useState(false);\r\n  const [showChoiceModal, setShowChoiceModal] = useState(false);\r\n  const [quickAddData, setQuickAddData] = useState<{ date: Date | null; hour: number | null; endHour: number | null; title: string }>({\r\n    date: null,\r\n    hour: null,\r\n    endHour: null,\r\n    title: ''\r\n  });\r\n\r\n  const HOUR_HEIGHT = 80;\r\n\r\n  function getEventsForSlot(date: Date, hour: number) {\r\n    return events.filter(event => {\r\n      const eventStart = new Date(event.start_datetime);\r\n      const eventDate = eventStart.toDateString();\r\n      const slotDate = date.toDateString();\r\n      const eventHour = eventStart.getHours();\r\n\r\n      return eventDate === slotDate && eventHour === hour;\r\n    });\r\n  }\r\n\r\n  // Handle custom drag start for events\r\n  const handleEventMouseDown = (e: React.MouseEvent, event: CalendarEvent) => {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n\r\n    const rect = e.currentTarget.getBoundingClientRect();\r\n    setDraggingEvent(event);\r\n    setDragOffset({\r\n      x: e.clientX - rect.left,\r\n      y: e.clientY - rect.top\r\n    });\r\n    setDragPosition({\r\n      x: e.clientX - (e.clientX - rect.left),\r\n      y: e.clientY - (e.clientY - rect.top)\r\n    });\r\n  };\r\n\r\n  // Handle quick add task\r\n  async function handleQuickAddTask() {\r\n    if (!quickAddData.title.trim() || !quickAddData.date || quickAddData.hour === null) return;\r\n\r\n    try {\r\n      const startDateTime = new Date(quickAddData.date);\r\n      startDateTime.setHours(quickAddData.hour, 0, 0, 0);\r\n\r\n      // Use endHour if set (multi-hour drag), otherwise default to 1 hour\r\n      const durationHours = quickAddData.endHour !== null ? (quickAddData.endHour - quickAddData.hour + 1) : 1;\r\n      const endDateTime = new Date(startDateTime.getTime() + durationHours * 60 * 60 * 1000);\r\n\r\n      const newEvent: CalendarEvent = {\r\n        id: `task-${Date.now()}`,\r\n        title: quickAddData.title.trim(),\r\n        start_datetime: startDateTime.toISOString(),\r\n        end_datetime: endDateTime.toISOString(),\r\n        event_type: 'task',\r\n        color: primaryColor,\r\n        status: 'scheduled'\r\n      };\r\n\r\n      if (onAddEvent) {\r\n        onAddEvent(newEvent);\r\n      }\r\n\r\n      setShowQuickAdd(false);\r\n      setQuickAddData({ date: null, hour: null, endHour: null, title: '' });\r\n    } catch (error) {\r\n      console.error('Error creating task:', error);\r\n      alert('Error creating task. Please try again.');\r\n    }\r\n  }\r\n\r\n  // Handle mouse move/up for event dragging\r\n  React.useEffect(() => {\r\n    const handleMouseMove = (e: MouseEvent) => {\r\n      if (draggingEvent) {\r\n        setDragPosition({\r\n          x: e.clientX - dragOffset.x,\r\n          y: e.clientY - dragOffset.y\r\n        });\r\n      }\r\n    };\r\n\r\n    const handleMouseUp = (e: MouseEvent) => {\r\n      if (draggingEvent && onEventDrop) {\r\n        const elements = document.elementsFromPoint(e.clientX, e.clientY);\r\n        const slotElement = elements.find(el => el.hasAttribute('data-slot'));\r\n\r\n        if (slotElement) {\r\n          const dateStr = slotElement.getAttribute('data-date');\r\n          const hour = parseInt(slotElement.getAttribute('data-hour') || '0');\r\n\r\n          if (dateStr) {\r\n            const dropDate = new Date(dateStr);\r\n            onEventDrop(draggingEvent.id, dropDate, hour);\r\n          }\r\n        }\r\n      }\r\n\r\n      setDraggingEvent(null);\r\n    };\r\n\r\n    if (draggingEvent) {\r\n      document.addEventListener('mousemove', handleMouseMove);\r\n      document.addEventListener('mouseup', handleMouseUp);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('mousemove', handleMouseMove);\r\n      document.removeEventListener('mouseup', handleMouseUp);\r\n    };\r\n  }, [draggingEvent, dragOffset, onEventDrop]);\r\n\r\n  // Get current time position for the indicator line\r\n  const now = new Date();\r\n  const currentHour = now.getHours();\r\n  const currentMinutes = now.getMinutes();\r\n  const currentTimeTop = (currentHour * HOUR_HEIGHT) + ((currentMinutes / 60) * HOUR_HEIGHT);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\r\n        {/* Week Header */}\r\n        <div className=\"flex sticky top-0 bg-gray-900 z-20 shadow-sm overflow-y-scroll\">\r\n          <div className=\"w-20 flex-shrink-0 bg-gray-900\"></div>\r\n\r\n          {weekDates.map((date, idx) => (\r\n            <div\r\n              key={idx}\r\n              className=\"flex-1 bg-gray-800 border border-gray-700 mx-0.5 rounded-t-lg overflow-hidden\"\r\n            >\r\n              <div className={`text-center py-3 ${isToday(date) ? 'bg-blue-500/20' : 'bg-gray-800'}`}>\r\n                <div className={`text-xs font-medium uppercase ${isToday(date) ? 'text-blue-400' : 'text-gray-400'}`}>\r\n                  {date.toLocaleDateString('en-US', { weekday: 'short' })}\r\n                </div>\r\n                <div className={`text-2xl font-bold mt-1 ${isToday(date) ? 'text-blue-400' : 'text-white'}`}>\r\n                  {date.getDate()}\r\n                </div>\r\n              </div>\r\n              <div\r\n                className=\"h-2\"\r\n                style={{ backgroundColor: primaryColor }}\r\n              ></div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Time Slots */}\r\n        <div ref={calendarRef} className=\"flex-1 overflow-auto bg-gray-900 relative\">\r\n          {/* Noon indicator line - separates morning/afternoon */}\r\n          <div\r\n            className=\"absolute left-0 right-0 h-1 z-10 pointer-events-none\"\r\n            style={{\r\n              backgroundColor: primaryColor,\r\n              top: `${12 * HOUR_HEIGHT}px`,\r\n              opacity: 0.5\r\n            }}\r\n          />\r\n\r\n          {/* Current time indicator line */}\r\n          <div\r\n            className=\"absolute left-0 right-0 h-0.5 z-30 pointer-events-none\"\r\n            style={{\r\n              backgroundColor: '#EF4444',\r\n              top: `${currentTimeTop}px`,\r\n              boxShadow: '0 0 4px rgba(239, 68, 68, 0.5)'\r\n            }}\r\n          >\r\n            <div\r\n              className=\"absolute left-16 -top-1.5 w-3 h-3 rounded-full\"\r\n              style={{ backgroundColor: '#EF4444' }}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex\">\r\n            {/* Hours Column */}\r\n            <div className=\"w-20 flex-shrink-0 bg-gray-900\">\r\n              {allHours.map((hour) => (\r\n                <div\r\n                  key={hour}\r\n                  className=\"h-20 text-right pr-2 pt-1 text-xs text-gray-500 border-b border-gray-800\"\r\n                >\r\n                  {formatHour(hour)}\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Day Columns */}\r\n            {weekDates.map((date, dateIdx) => (\r\n              <div\r\n                key={dateIdx}\r\n                className=\"flex-1 bg-gray-800 border border-gray-700 mx-0.5 mb-2 rounded-b-lg overflow-hidden\"\r\n              >\r\n                {allHours.map((hour) => {\r\n                  const slotEvents = getEventsForSlot(date, hour);\r\n\r\n                  return (\r\n                    <div\r\n                      key={hour}\r\n                      data-slot=\"true\"\r\n                      data-date={date.toISOString()}\r\n                      data-hour={hour}\r\n                      className={`h-20 relative ${isToday(date) ? 'bg-blue-500/5' : ''\r\n                        } hover:bg-gray-700/50 transition-colors cursor-pointer border-b border-gray-700 ${isDragging && dragStart && dragEnd &&\r\n                          date.toDateString() === dragStart.date.toDateString() &&\r\n                          hour >= Math.min(dragStart.hour, dragEnd.hour) &&\r\n                          hour <= Math.max(dragStart.hour, dragEnd.hour)\r\n                          ? 'bg-blue-500/20 ring-2 ring-blue-500'\r\n                          : ''\r\n                        }`}\r\n                      onMouseDown={(e) => {\r\n                        e.preventDefault();\r\n                        setDragStart({ date, hour });\r\n                        setDragEnd({ date, hour });\r\n                        setIsDragging(true);\r\n                      }}\r\n                      onMouseEnter={() => {\r\n                        if (isDragging && dragStart && date.toDateString() === dragStart.date.toDateString()) {\r\n                          setDragEnd({ date, hour });\r\n                        }\r\n                      }}\r\n                      onMouseUp={() => {\r\n                        if (isDragging && dragStart && dragEnd) {\r\n                          const now = Date.now();\r\n                          if (now - lastClickTime < 300) {\r\n                            setIsDragging(false);\r\n                            setDragStart(null);\r\n                            setDragEnd(null);\r\n                            return;\r\n                          }\r\n\r\n                          setLastClickTime(now);\r\n                          const startHour = Math.min(dragStart.hour, dragEnd.hour);\r\n                          const endHour = Math.max(dragStart.hour, dragEnd.hour);\r\n\r\n                          // Open choice modal (works for both single click and multi-hour drag)\r\n                          if (dragStart.date.toDateString() === date.toDateString()) {\r\n                            setQuickAddData({\r\n                              date: dragStart.date,\r\n                              hour: startHour,\r\n                              endHour: startHour !== endHour ? endHour : null,\r\n                              title: ''\r\n                            });\r\n                            setShowChoiceModal(true);\r\n                          }\r\n                        }\r\n                        setIsDragging(false);\r\n                        setDragStart(null);\r\n                        setDragEnd(null);\r\n                      }}\r\n                    >\r\n                      {slotEvents.map((event) => {\r\n                        const eventStart = new Date(event.start_datetime);\r\n                        const eventEnd = event.end_datetime ? new Date(event.end_datetime) : null;\r\n\r\n                        let height = HOUR_HEIGHT;\r\n                        if (eventEnd) {\r\n                          const durationMs = eventEnd.getTime() - eventStart.getTime();\r\n                          const durationHours = durationMs / (1000 * 60 * 60);\r\n                          height = Math.max(40, durationHours * HOUR_HEIGHT);\r\n                        }\r\n\r\n                        const minutes = eventStart.getMinutes();\r\n                        const topOffset = (minutes / 60) * HOUR_HEIGHT;\r\n\r\n                        const isDimmed = draggingEvent && draggingEvent.id === event.id;\r\n\r\n                        return (\r\n                          <div\r\n                            key={event.id}\r\n                            className={`absolute left-1 right-1 rounded p-1 text-xs font-medium text-white overflow-hidden transition-all z-10 ${isDimmed ? 'opacity-30 scale-95' : ''\r\n                              }`}\r\n                            style={{\r\n                              backgroundColor: event.color || primaryColor,\r\n                              height: `${height}px`,\r\n                              top: `${topOffset}px`,\r\n                            }}\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              if (!draggingEvent) {\r\n                                onEventClick(event);\r\n                              }\r\n                            }}\r\n                          >\r\n                            {/* Only the top portion (first hour) is draggable */}\r\n                            <div\r\n                              onMouseDown={(e) => handleEventMouseDown(e, event)}\r\n                              className=\"cursor-move hover:bg-white/10 rounded transition-colors\"\r\n                              style={{\r\n                                height: `${Math.min(height, HOUR_HEIGHT)}px`,\r\n                                position: 'relative'\r\n                              }}\r\n                            >\r\n                              <div className=\"font-semibold truncate p-0.5\">\r\n                                {event.title}\r\n                              </div>\r\n\r\n                              {event.location_address && height > 55 && (\r\n                                <div className=\"text-xs opacity-90 truncate px-0.5\">\r\n                                  üìç {event.location_address}\r\n                                </div>\r\n                              )}\r\n\r\n                              {eventEnd && height > 50 && (\r\n                                <div className=\"text-xs opacity-75 mt-0.5 px-0.5\">\r\n                                  {eventStart.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' })} -\r\n                                  {eventEnd.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' })}\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n\r\n                            {/* Rest of the card is NOT draggable - show hint */}\r\n                            {height > HOUR_HEIGHT && (\r\n                              <div className=\"px-1 py-0.5 pointer-events-none\">\r\n                                <div className=\"text-xs opacity-50 text-center border-t border-white/20 pt-1\">\r\n                                  (Drag from top to move)\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* CUSTOM DRAG PREVIEW */}\r\n        {draggingEvent && (\r\n          <div\r\n            className=\"fixed pointer-events-none z-50 rounded p-1 text-xs font-medium text-white shadow-2xl\"\r\n            style={{\r\n              backgroundColor: draggingEvent.color || primaryColor,\r\n              left: `${dragPosition.x}px`,\r\n              top: `${dragPosition.y}px`,\r\n              width: '150px',\r\n              height: (() => {\r\n                const eventStart = new Date(draggingEvent.start_datetime);\r\n                const eventEnd = draggingEvent.end_datetime ? new Date(draggingEvent.end_datetime) : null;\r\n                let height = HOUR_HEIGHT;\r\n                if (eventEnd) {\r\n                  const durationMs = eventEnd.getTime() - eventStart.getTime();\r\n                  const durationHours = durationMs / (1000 * 60 * 60);\r\n                  height = Math.max(40, durationHours * HOUR_HEIGHT);\r\n                }\r\n                return `${height}px`;\r\n              })(),\r\n              transform: 'none',\r\n              opacity: 1\r\n            }}\r\n          >\r\n            <div className=\"font-semibold truncate\">{draggingEvent.title}</div>\r\n            {draggingEvent.location_address && (\r\n              <div className=\"text-xs opacity-90 truncate\">üìç {draggingEvent.location_address}</div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Choice Modal - Quick Add or Create Event */}\r\n      {showChoiceModal && quickAddData.date && quickAddData.hour !== null && (\r\n        <div\r\n          className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\"\r\n          onClick={() => setShowChoiceModal(false)}\r\n        >\r\n          <div\r\n            className=\"bg-gray-800 rounded-lg shadow-xl p-6 w-96 border border-gray-700\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <h3 className=\"text-lg font-bold text-white mb-2\">What would you like to create?</h3>\r\n            <p className=\"text-sm text-gray-400 mb-6\">\r\n              {quickAddData.date.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' })}\r\n              {quickAddData.endHour !== null\r\n                ? ` from ${formatHour(quickAddData.hour)} to ${formatHour(quickAddData.endHour + 1)}`\r\n                : ` at ${formatHour(quickAddData.hour)}`\r\n              }\r\n            </p>\r\n\r\n            <div className=\"space-y-3\">\r\n              <button\r\n                onClick={() => {\r\n                  setShowChoiceModal(false);\r\n                  setShowQuickAdd(true);\r\n                }}\r\n                className=\"w-full flex items-center justify-between p-4 border-2 border-gray-600 rounded-lg hover:border-blue-500 hover:bg-blue-500/10 transition-all group\"\r\n              >\r\n                <div className=\"text-left\">\r\n                  <div className=\"font-semibold text-white group-hover:text-blue-400\">Quick Add Task</div>\r\n                  <div className=\"text-xs text-gray-500\">Fast way to block time</div>\r\n                </div>\r\n                <div className=\"text-2xl\">‚ö°</div>\r\n              </button>\r\n\r\n              <button\r\n                onClick={() => {\r\n                  setShowChoiceModal(false);\r\n                  if (onCreateEvent && quickAddData.date && quickAddData.hour !== null) {\r\n                    onCreateEvent(quickAddData.date, quickAddData.hour);\r\n                  }\r\n                }}\r\n                className=\"w-full flex items-center justify-between p-4 border-2 border-gray-600 rounded-lg hover:border-purple-500 hover:bg-purple-500/10 transition-all group\"\r\n              >\r\n                <div className=\"text-left\">\r\n                  <div className=\"font-semibold text-white group-hover:text-purple-400\">Create Event</div>\r\n                  <div className=\"text-xs text-gray-500\">Full details, assigned devs</div>\r\n                </div>\r\n                <div className=\"text-2xl\">üìÖ</div>\r\n              </button>\r\n            </div>\r\n\r\n            <button\r\n              onClick={() => setShowChoiceModal(false)}\r\n              className=\"w-full mt-4 px-4 py-2 text-sm text-gray-400 hover:text-white\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Quick Add Modal */}\r\n      {showQuickAdd && quickAddData.date && quickAddData.hour !== null && (\r\n        <div\r\n          className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\"\r\n          onClick={() => setShowQuickAdd(false)}\r\n        >\r\n          <div\r\n            className=\"bg-gray-800 rounded-lg shadow-xl p-6 w-96 border border-gray-700\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <h3 className=\"text-lg font-bold text-white mb-4\">Quick Add Task</h3>\r\n            <p className=\"text-sm text-gray-400 mb-4\">\r\n              {quickAddData.date.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' })}\r\n              {quickAddData.endHour !== null\r\n                ? ` from ${formatHour(quickAddData.hour)} to ${formatHour(quickAddData.endHour + 1)}`\r\n                : ` at ${formatHour(quickAddData.hour)}`\r\n              }\r\n            </p>\r\n            <input\r\n              type=\"text\"\r\n              value={quickAddData.title}\r\n              onChange={(e) => setQuickAddData({ ...quickAddData, title: e.target.value })}\r\n              onKeyDown={(e) => {\r\n                if (e.key === 'Enter') {\r\n                  handleQuickAddTask();\r\n                } else if (e.key === 'Escape') {\r\n                  setShowQuickAdd(false);\r\n                }\r\n              }}\r\n              placeholder=\"What needs to be done?\"\r\n              className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4\"\r\n              autoFocus\r\n            />\r\n            <div className=\"flex space-x-3\">\r\n              <button\r\n                onClick={() => setShowQuickAdd(false)}\r\n                className=\"flex-1 px-4 py-2 border border-gray-600 text-gray-300 rounded-lg hover:bg-gray-700\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleQuickAddTask}\r\n                className=\"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90\"\r\n                style={{ backgroundColor: primaryColor }}\r\n              >\r\n                Add Task\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","'use client';\r\n\r\ninterface CalendarEvent {\r\n  id: string;\r\n  title: string;\r\n  start_datetime: string;\r\n  color?: string;\r\n}\r\n\r\ninterface MonthViewProps {\r\n  currentDate: Date;\r\n  events: CalendarEvent[];\r\n  primaryColor: string;\r\n  isToday: (date: Date) => boolean;\r\n  onWeekClick: (date: Date) => void;\r\n}\r\n\r\nexport default function MonthView({\r\n  currentDate,\r\n  events,\r\n  primaryColor,\r\n  isToday,\r\n  onWeekClick\r\n}: MonthViewProps) {\r\n\r\n  function getMonthWeeks() {\r\n    const year = currentDate.getFullYear();\r\n    const month = currentDate.getMonth();\r\n\r\n    const firstDay = new Date(year, month, 1);\r\n    const startDate = new Date(firstDay);\r\n    const dayOfWeek = startDate.getDay();\r\n    const diffToMonday = dayOfWeek === 0 ? -6 : 1 - dayOfWeek;\r\n    startDate.setDate(startDate.getDate() + diffToMonday);\r\n\r\n    const weeks = [];\r\n    for (let week = 0; week < 5; week++) {\r\n      const weekDays = [];\r\n      for (let day = 0; day < 7; day++) {\r\n        const date = new Date(startDate);\r\n        date.setDate(date.getDate() + (week * 7) + day);\r\n        weekDays.push(date);\r\n      }\r\n      weeks.push(weekDays);\r\n    }\r\n\r\n    return weeks;\r\n  }\r\n\r\n  function getEventsForDay(date: Date) {\r\n    return events.filter(event => {\r\n      const eventDate = new Date(event.start_datetime).toDateString();\r\n      return eventDate === date.toDateString();\r\n    });\r\n  }\r\n\r\n  const weeks = getMonthWeeks();\r\n  const currentMonth = currentDate.getMonth();\r\n\r\n  return (\r\n    <div className=\"flex flex-col bg-gray-900 h-full overflow-hidden\">\r\n      {/* Day Headers */}\r\n      <div className=\"flex bg-gray-900 shadow-sm flex-shrink-0\">\r\n        <div className=\"w-20 flex-shrink-0 bg-gray-900\"></div>\r\n\r\n        {['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'].map(day => (\r\n          <div\r\n            key={day}\r\n            className=\"flex-1 bg-gray-800 border border-gray-700 mx-0.5 rounded-t-lg overflow-hidden\"\r\n          >\r\n            <div className=\"text-center py-3\">\r\n              <div className=\"text-xs font-semibold text-gray-400 uppercase\">\r\n                {day}\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"h-2\"\r\n              style={{ backgroundColor: primaryColor }}\r\n            ></div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* 5 Week Rows - Each gets exactly 20% height */}\r\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\r\n        {weeks.map((weekDays, weekIdx) => {\r\n          const weekStart = weekDays[0];\r\n\r\n          return (\r\n            <div\r\n              key={weekIdx}\r\n              className=\"flex border-b border-gray-700 last:border-b-0\"\r\n              style={{ height: '20%' }}\r\n            >\r\n              <button\r\n                onClick={() => onWeekClick && onWeekClick(weekStart)}\r\n                className=\"w-20 flex-shrink-0 text-white flex items-center justify-center transition-opacity hover:opacity-80 border-r border-gray-700\"\r\n                style={{\r\n                  writingMode: 'vertical-rl',\r\n                  textOrientation: 'mixed',\r\n                  backgroundColor: primaryColor\r\n                }}\r\n                title=\"Click to view this week\"\r\n              >\r\n                <span className=\"font-semibold text-sm tracking-wide\">\r\n                  Week of\r\n                </span>\r\n              </button>\r\n\r\n              {weekDays.map((date, dayIdx) => {\r\n                const dayEvents = getEventsForDay(date);\r\n                const isCurrentMonth = date.getMonth() === currentMonth;\r\n                const isTodayDate = isToday(date);\r\n\r\n                return (\r\n                  <div\r\n                    key={dayIdx}\r\n                    onClick={() => onWeekClick && onWeekClick(date)}\r\n                    className={`flex-1 bg-gray-800 border-r border-gray-700 last:border-r-0 p-2 overflow-hidden flex flex-col cursor-pointer hover:bg-gray-700 transition-colors ${\r\n                      !isCurrentMonth ? 'opacity-30' : ''\r\n                    } ${isTodayDate ? 'ring-2 ring-blue-500 ring-inset' : ''}`}\r\n                    title=\"Click to view this week\"\r\n                  >\r\n                    <div className={`text-xl font-bold mb-1 ${\r\n                      isTodayDate\r\n                        ? 'text-blue-400'\r\n                        : isCurrentMonth\r\n                        ? 'text-white'\r\n                        : 'text-gray-500'\r\n                    }`}>\r\n                      {date.getDate()}\r\n                    </div>\r\n\r\n                    <div className=\"space-y-1 flex-1 overflow-auto\">\r\n                      {dayEvents.slice(0, 6).map((event) => (\r\n                        <div\r\n                          key={event.id}\r\n                          className=\"text-xs px-2 py-1 rounded truncate text-white font-medium cursor-pointer hover:opacity-80 transition-opacity\"\r\n                          style={{ backgroundColor: event.color || primaryColor }}\r\n                          title={event.title}\r\n                        >\r\n                          {event.title}\r\n                        </div>\r\n                      ))}\r\n                      {dayEvents.length > 6 && (\r\n                        <div className=\"text-xs text-gray-400 font-medium px-2\">\r\n                          +{dayEvents.length - 6} more\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { X, Loader2 } from 'lucide-react';\r\n\r\ninterface CreateEventModalProps {\r\n  onClose: () => void;\r\n  onSuccess: () => void;\r\n  initialDate?: Date;\r\n  initialHour?: number;\r\n}\r\n\r\nconst EVENT_TYPES = [\r\n  { value: 'deploy', label: 'Deployment' },\r\n  { value: 'sprint', label: 'Sprint Planning' },\r\n  { value: 'standup', label: 'Standup' },\r\n  { value: 'review', label: 'Code Review' },\r\n  { value: 'meeting', label: 'Meeting' },\r\n  { value: 'task', label: 'Task' },\r\n  { value: 'maintenance', label: 'Maintenance' },\r\n  { value: 'release', label: 'Release' },\r\n];\r\n\r\nconst COLORS = [\r\n  { value: '#3B82F6', label: 'Blue' },\r\n  { value: '#10B981', label: 'Green' },\r\n  { value: '#F59E0B', label: 'Amber' },\r\n  { value: '#EF4444', label: 'Red' },\r\n  { value: '#8B5CF6', label: 'Purple' },\r\n  { value: '#EC4899', label: 'Pink' },\r\n];\r\n\r\nexport default function CreateEventModal({\r\n  onClose,\r\n  onSuccess,\r\n  initialDate,\r\n  initialHour,\r\n}: CreateEventModalProps) {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const getInitialTimes = () => {\r\n    let startDate = '';\r\n    let startTime = '';\r\n    let endTime = '';\r\n\r\n    if (initialDate) {\r\n      const year = initialDate.getFullYear();\r\n      const month = String(initialDate.getMonth() + 1).padStart(2, '0');\r\n      const day = String(initialDate.getDate()).padStart(2, '0');\r\n      startDate = `${year}-${month}-${day}`;\r\n    }\r\n\r\n    if (initialHour !== undefined) {\r\n      const hours = String(initialHour).padStart(2, '0');\r\n      startTime = `${hours}:00`;\r\n      const endHour = (initialHour + 1) % 24;\r\n      endTime = `${String(endHour).padStart(2, '0')}:00`;\r\n    }\r\n\r\n    return { startDate, startTime, endTime };\r\n  };\r\n\r\n  const { startDate, startTime, endTime } = getInitialTimes();\r\n\r\n  const [formData, setFormData] = useState({\r\n    event_type: 'task',\r\n    title: '',\r\n    description: '',\r\n    start_date: startDate,\r\n    start_time: startTime,\r\n    end_date: '',\r\n    end_time: endTime,\r\n    all_day: false,\r\n    color: '#3B82F6',\r\n    assigned_devs: [] as string[],\r\n  });\r\n\r\n  async function handleSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      // For now, just log - will integrate with dev_calendar_events table\r\n      const startDateTime = formData.all_day\r\n        ? `${formData.start_date}T00:00:00`\r\n        : `${formData.start_date}T${formData.start_time}:00`;\r\n\r\n      const endDateTime = formData.end_date\r\n        ? formData.all_day\r\n          ? `${formData.end_date}T23:59:59`\r\n          : `${formData.end_date}T${formData.end_time || '23:59'}:00`\r\n        : formData.end_time\r\n          ? `${formData.start_date}T${formData.end_time}:00`\r\n          : null;\r\n\r\n      console.log('Creating event:', {\r\n        event_type: formData.event_type,\r\n        title: formData.title,\r\n        description: formData.description,\r\n        start_datetime: startDateTime,\r\n        end_datetime: endDateTime,\r\n        all_day: formData.all_day,\r\n        color: formData.color,\r\n      });\r\n\r\n      // TODO: Save to dev_calendar_events table\r\n      alert('Event created successfully!');\r\n      onSuccess();\r\n    } catch (error) {\r\n      console.error('Error creating event:', error);\r\n      alert('Error creating event. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-auto border border-gray-700\">\r\n        <div className=\"sticky top-0 bg-gray-800 border-b border-gray-700 px-6 py-4 flex items-center justify-between\">\r\n          <h2 className=\"text-xl font-bold text-white\">Create Event</h2>\r\n          <button onClick={onClose} className=\"p-2 hover:bg-gray-700 rounded-lg transition-colors\">\r\n            <X className=\"w-5 h-5 text-gray-400\" />\r\n          </button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\r\n          {/* Event Type */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Event Type</label>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {EVENT_TYPES.map((type) => (\r\n                <button\r\n                  key={type.value}\r\n                  type=\"button\"\r\n                  onClick={() => setFormData({ ...formData, event_type: type.value })}\r\n                  className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\r\n                    formData.event_type === type.value\r\n                      ? 'bg-blue-600 text-white'\r\n                      : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\r\n                  }`}\r\n                >\r\n                  {type.label}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Title */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Title *</label>\r\n            <input\r\n              type=\"text\"\r\n              value={formData.title}\r\n              onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n              placeholder=\"e.g., Deploy Tradelines v2.5\"\r\n              className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          {/* Description */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Description</label>\r\n            <textarea\r\n              value={formData.description}\r\n              onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n              rows={3}\r\n              placeholder=\"Details, notes, links...\"\r\n              className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n\r\n          {/* All Day Toggle */}\r\n          <div>\r\n            <label className=\"flex items-center space-x-2 cursor-pointer\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={formData.all_day}\r\n                onChange={(e) => setFormData({ ...formData, all_day: e.target.checked })}\r\n                className=\"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500\"\r\n              />\r\n              <span className=\"text-sm text-gray-300\">All day event</span>\r\n            </label>\r\n          </div>\r\n\r\n          {/* Dates */}\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">Start Date *</label>\r\n              <input\r\n                type=\"date\"\r\n                value={formData.start_date}\r\n                onChange={(e) => setFormData({ ...formData, start_date: e.target.value })}\r\n                className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {!formData.all_day && (\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Start Time *</label>\r\n                <select\r\n                  value={formData.start_time}\r\n                  onChange={(e) => {\r\n                    const newStartTime = e.target.value;\r\n                    const [hours] = newStartTime.split(':').map(Number);\r\n                    const endHour = (hours + 1) % 24;\r\n                    const newEndTime = `${String(endHour).padStart(2, '0')}:00`;\r\n                    setFormData({ ...formData, start_time: newStartTime, end_time: newEndTime });\r\n                  }}\r\n                  className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                  required={!formData.all_day}\r\n                >\r\n                  <option value=\"\">Select time...</option>\r\n                  {Array.from({ length: 96 }, (_, i) => {\r\n                    const hour = Math.floor(i / 4);\r\n                    const minute = (i % 4) * 15;\r\n                    const timeStr = `${String(hour).padStart(2, '0')}:${String(minute).padStart(2, '0')}`;\r\n                    const displayHour = hour === 0 ? 12 : hour > 12 ? hour - 12 : hour;\r\n                    const ampm = hour < 12 ? 'AM' : 'PM';\r\n                    return (\r\n                      <option key={timeStr} value={timeStr}>\r\n                        {displayHour}:{String(minute).padStart(2, '0')} {ampm}\r\n                      </option>\r\n                    );\r\n                  })}\r\n                </select>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* End Date/Time */}\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">End Date (Optional)</label>\r\n              <input\r\n                type=\"date\"\r\n                value={formData.end_date}\r\n                onChange={(e) => setFormData({ ...formData, end_date: e.target.value })}\r\n                min={formData.start_date}\r\n                className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n\r\n            {!formData.all_day && (\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">End Time *</label>\r\n                <select\r\n                  value={formData.end_time}\r\n                  onChange={(e) => setFormData({ ...formData, end_time: e.target.value })}\r\n                  className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                  required={!formData.all_day}\r\n                >\r\n                  <option value=\"\">Select time...</option>\r\n                  {Array.from({ length: 96 }, (_, i) => {\r\n                    const hour = Math.floor(i / 4);\r\n                    const minute = (i % 4) * 15;\r\n                    const timeStr = `${String(hour).padStart(2, '0')}:${String(minute).padStart(2, '0')}`;\r\n                    const displayHour = hour === 0 ? 12 : hour > 12 ? hour - 12 : hour;\r\n                    const ampm = hour < 12 ? 'AM' : 'PM';\r\n                    return (\r\n                      <option key={timeStr} value={timeStr}>\r\n                        {displayHour}:{String(minute).padStart(2, '0')} {ampm}\r\n                      </option>\r\n                    );\r\n                  })}\r\n                </select>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Color */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Color</label>\r\n            <div className=\"flex space-x-2\">\r\n              {COLORS.map((color) => (\r\n                <button\r\n                  key={color.value}\r\n                  type=\"button\"\r\n                  onClick={() => setFormData({ ...formData, color: color.value })}\r\n                  className={`w-10 h-10 rounded-lg transition-all ${\r\n                    formData.color === color.value ? 'ring-2 ring-offset-2 ring-offset-gray-800 ring-white' : ''\r\n                  }`}\r\n                  style={{ backgroundColor: color.value }}\r\n                  title={color.label}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex items-center justify-end space-x-3 pt-4 border-t border-gray-700\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading || !formData.title || !formData.start_date}\r\n              className=\"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n            >\r\n              {loading && <Loader2 className=\"w-4 h-4 animate-spin\" />}\r\n              <span>{loading ? 'Creating...' : 'Create Event'}</span>\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { X, Loader2, Search } from 'lucide-react';\r\n\r\ninterface EditEventModalProps {\r\n  event: {\r\n    id: string;\r\n    title: string;\r\n    description?: string;\r\n    start_datetime: string;\r\n    end_datetime?: string;\r\n    event_type: string;\r\n    color?: string;\r\n    location_address?: string;\r\n    status: string;\r\n    project?: string;\r\n    assigned_to_ids?: string[];\r\n  };\r\n  onClose: () => void;\r\n  onSuccess: (updatedEvent: any) => void;\r\n  onDelete?: (eventId: string) => void;\r\n}\r\n\r\nconst EVENT_TYPES = [\r\n  { value: 'task', label: 'Task', color: '#3B82F6' },\r\n  { value: 'meeting', label: 'Meeting', color: '#8B5CF6' },\r\n  { value: 'deploy', label: 'Deploy', color: '#10B981' },\r\n  { value: 'sprint', label: 'Sprint', color: '#F59E0B' },\r\n  { value: 'standup', label: 'Standup', color: '#06B6D4' },\r\n  { value: 'review', label: 'Review', color: '#EC4899' },\r\n  { value: 'maintenance', label: 'Maintenance', color: '#EF4444' },\r\n  { value: 'release', label: 'Release', color: '#84CC16' },\r\n];\r\n\r\nconst PROJECTS = [\r\n  { value: 'tradelines', label: 'Tradelines (7101)' },\r\n  { value: 'portals', label: 'User Portals (7102)' },\r\n  { value: 'nextbidder', label: 'NextBidder (7103)' },\r\n  { value: 'sources', label: 'Sources (7104)' },\r\n  { value: 'nexttech', label: 'NextTech (7105)' },\r\n  { value: 'nexttask', label: 'NextTask (7106)' },\r\n  { value: 'dashboard', label: 'Dashboard' },\r\n];\r\n\r\nconst COLORS = ['#3B82F6', '#10B981', '#F59E0B', '#EF4444', '#8B5CF6', '#EC4899', '#06B6D4', '#84CC16'];\r\n\r\n// Mock team members - TODO: load from dev_team_members\r\nconst TEAM_MEMBERS = [\r\n  { id: '1', name: 'Michael', email: 'michael@nextbid.com' },\r\n  { id: '2', name: 'Dev Team', email: 'dev@nextbid.com' },\r\n  { id: '3', name: 'Support', email: 'support@nextbid.com' },\r\n];\r\n\r\nexport default function EditEventModal({\r\n  event,\r\n  onClose,\r\n  onSuccess,\r\n  onDelete\r\n}: EditEventModalProps) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [deleting, setDeleting] = useState(false);\r\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n\r\n  const getInitialFormData = () => {\r\n    const startDate = new Date(event.start_datetime);\r\n    const endDate = event.end_datetime ? new Date(event.end_datetime) : null;\r\n\r\n    return {\r\n      event_type: event.event_type || 'task',\r\n      title: event.title || '',\r\n      description: event.description || '',\r\n      start_date: startDate.toISOString().split('T')[0],\r\n      start_time: `${String(startDate.getHours()).padStart(2, '0')}:${String(startDate.getMinutes()).padStart(2, '0')}`,\r\n      end_date: endDate ? endDate.toISOString().split('T')[0] : startDate.toISOString().split('T')[0],\r\n      end_time: endDate ? `${String(endDate.getHours()).padStart(2, '0')}:${String(endDate.getMinutes()).padStart(2, '0')}` : '',\r\n      location_address: event.location_address || '',\r\n      color: event.color || '#3B82F6',\r\n      project: event.project || '',\r\n      assigned_to_ids: event.assigned_to_ids || [],\r\n      status: event.status || 'scheduled'\r\n    };\r\n  };\r\n\r\n  const [formData, setFormData] = useState(getInitialFormData());\r\n  const [teamSearch, setTeamSearch] = useState('');\r\n\r\n  const filteredTeamMembers = TEAM_MEMBERS.filter(member =>\r\n    member.name.toLowerCase().includes(teamSearch.toLowerCase()) ||\r\n    member.email.toLowerCase().includes(teamSearch.toLowerCase())\r\n  );\r\n\r\n  function toggleAssignee(memberId: string) {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      assigned_to_ids: prev.assigned_to_ids.includes(memberId)\r\n        ? prev.assigned_to_ids.filter(id => id !== memberId)\r\n        : [...prev.assigned_to_ids, memberId]\r\n    }));\r\n  }\r\n\r\n  async function handleSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      const startDateTime = new Date(`${formData.start_date}T${formData.start_time}:00`);\r\n      const endDateTime = formData.end_time\r\n        ? new Date(`${formData.end_date || formData.start_date}T${formData.end_time}:00`)\r\n        : new Date(startDateTime.getTime() + 60 * 60 * 1000);\r\n\r\n      const updatedEvent = {\r\n        ...event,\r\n        event_type: formData.event_type,\r\n        title: formData.title,\r\n        description: formData.description,\r\n        start_datetime: startDateTime.toISOString(),\r\n        end_datetime: endDateTime.toISOString(),\r\n        location_address: formData.location_address || null,\r\n        color: formData.color,\r\n        project: formData.project || null,\r\n        assigned_to_ids: formData.assigned_to_ids,\r\n        status: formData.status\r\n      };\r\n\r\n      // TODO: Save to dev_calendar_events table\r\n      console.log('Updating event:', updatedEvent);\r\n\r\n      onSuccess(updatedEvent);\r\n    } catch (error) {\r\n      console.error('Error updating event:', error);\r\n      alert('Error updating event. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleDelete() {\r\n    if (!onDelete) return;\r\n    setDeleting(true);\r\n\r\n    try {\r\n      // TODO: Delete from dev_calendar_events table\r\n      console.log('Deleting event:', event.id);\r\n      onDelete(event.id);\r\n    } catch (error) {\r\n      console.error('Error deleting event:', error);\r\n      alert('Error deleting event. Please try again.');\r\n    } finally {\r\n      setDeleting(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-auto border border-gray-700\">\r\n        {/* Header */}\r\n        <div className=\"sticky top-0 bg-gray-800 border-b border-gray-700 px-6 py-4 flex items-center justify-between\">\r\n          <h2 className=\"text-xl font-bold text-white\">Edit Event</h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-2 hover:bg-gray-700 rounded-lg transition-colors\"\r\n          >\r\n            <X className=\"w-5 h-5 text-gray-400\" />\r\n          </button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\r\n          {/* Event Type */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Event Type</label>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {EVENT_TYPES.map((type) => (\r\n                <button\r\n                  key={type.value}\r\n                  type=\"button\"\r\n                  onClick={() => setFormData({ ...formData, event_type: type.value, color: type.color })}\r\n                  className={`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors ${\r\n                    formData.event_type === type.value\r\n                      ? 'text-white'\r\n                      : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\r\n                  }`}\r\n                  style={formData.event_type === type.value ? { backgroundColor: type.color } : {}}\r\n                >\r\n                  {type.label}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Title */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Title *</label>\r\n            <input\r\n              type=\"text\"\r\n              value={formData.title}\r\n              onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n              placeholder=\"Event title\"\r\n              className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          {/* Description */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Description</label>\r\n            <textarea\r\n              value={formData.description}\r\n              onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n              rows={3}\r\n              placeholder=\"Event details, notes, etc.\"\r\n              className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n\r\n          {/* Project */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Project</label>\r\n            <select\r\n              value={formData.project}\r\n              onChange={(e) => setFormData({ ...formData, project: e.target.value })}\r\n              className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            >\r\n              <option value=\"\">No project</option>\r\n              {PROJECTS.map((project) => (\r\n                <option key={project.value} value={project.value}>{project.label}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          {/* Date & Time */}\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">Start Date *</label>\r\n              <input\r\n                type=\"date\"\r\n                value={formData.start_date}\r\n                onChange={(e) => setFormData({ ...formData, start_date: e.target.value })}\r\n                className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                required\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">Start Time *</label>\r\n              <input\r\n                type=\"time\"\r\n                value={formData.start_time}\r\n                onChange={(e) => setFormData({ ...formData, start_time: e.target.value })}\r\n                className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">End Date</label>\r\n              <input\r\n                type=\"date\"\r\n                value={formData.end_date}\r\n                onChange={(e) => setFormData({ ...formData, end_date: e.target.value })}\r\n                min={formData.start_date}\r\n                className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">End Time</label>\r\n              <input\r\n                type=\"time\"\r\n                value={formData.end_time}\r\n                onChange={(e) => setFormData({ ...formData, end_time: e.target.value })}\r\n                className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Location */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Location</label>\r\n            <input\r\n              type=\"text\"\r\n              value={formData.location_address}\r\n              onChange={(e) => setFormData({ ...formData, location_address: e.target.value })}\r\n              placeholder=\"Meeting room, address, or video link\"\r\n              className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n\r\n          {/* Assign Team Members */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Assign Team Members</label>\r\n            <div className=\"relative mb-2\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-4 h-4\" />\r\n              <input\r\n                type=\"text\"\r\n                value={teamSearch}\r\n                onChange={(e) => setTeamSearch(e.target.value)}\r\n                placeholder=\"Search team members...\"\r\n                className=\"w-full pl-10 pr-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"max-h-32 overflow-y-auto border border-gray-700 rounded-lg\">\r\n              {filteredTeamMembers.map((member) => (\r\n                <button\r\n                  key={member.id}\r\n                  type=\"button\"\r\n                  onClick={() => toggleAssignee(member.id)}\r\n                  className={`w-full px-4 py-2 text-left flex items-center justify-between hover:bg-gray-700 border-b border-gray-700 last:border-b-0 ${\r\n                    formData.assigned_to_ids.includes(member.id) ? 'bg-blue-500/20' : ''\r\n                  }`}\r\n                >\r\n                  <div>\r\n                    <div className=\"font-medium text-white\">{member.name}</div>\r\n                    <div className=\"text-sm text-gray-500\">{member.email}</div>\r\n                  </div>\r\n                  {formData.assigned_to_ids.includes(member.id) && (\r\n                    <span className=\"text-blue-400\">‚úì</span>\r\n                  )}\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n            {formData.assigned_to_ids.length > 0 && (\r\n              <div className=\"mt-2 flex flex-wrap gap-2\">\r\n                {formData.assigned_to_ids.map(id => {\r\n                  const member = TEAM_MEMBERS.find(m => m.id === id);\r\n                  return member ? (\r\n                    <span\r\n                      key={id}\r\n                      className=\"inline-flex items-center px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-sm\"\r\n                    >\r\n                      {member.name}\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => toggleAssignee(id)}\r\n                        className=\"ml-1 hover:text-blue-300\"\r\n                      >\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  ) : null;\r\n                })}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Status */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Status</label>\r\n            <select\r\n              value={formData.status}\r\n              onChange={(e) => setFormData({ ...formData, status: e.target.value })}\r\n              className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            >\r\n              <option value=\"scheduled\">Scheduled</option>\r\n              <option value=\"in_progress\">In Progress</option>\r\n              <option value=\"completed\">Completed</option>\r\n              <option value=\"cancelled\">Cancelled</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* Color */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Color</label>\r\n            <div className=\"flex space-x-2\">\r\n              {COLORS.map((color) => (\r\n                <button\r\n                  key={color}\r\n                  type=\"button\"\r\n                  onClick={() => setFormData({ ...formData, color })}\r\n                  className={`w-8 h-8 rounded-lg transition-all ${\r\n                    formData.color === color ? 'ring-2 ring-offset-2 ring-offset-gray-800 ring-white' : ''\r\n                  }`}\r\n                  style={{ backgroundColor: color }}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex items-center justify-between pt-4 border-t border-gray-700\">\r\n            <div>\r\n              {onDelete && !showDeleteConfirm && (\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowDeleteConfirm(true)}\r\n                  className=\"px-4 py-2 text-sm font-medium text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-colors\"\r\n                >\r\n                  Delete Event\r\n                </button>\r\n              )}\r\n              {showDeleteConfirm && (\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <span className=\"text-sm text-gray-400\">Delete?</span>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={handleDelete}\r\n                    disabled={deleting}\r\n                    className=\"px-3 py-1 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:opacity-50\"\r\n                  >\r\n                    {deleting ? 'Deleting...' : 'Yes'}\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowDeleteConfirm(false)}\r\n                    className=\"px-3 py-1 text-sm font-medium text-gray-400 hover:text-white\"\r\n                  >\r\n                    No\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex items-center space-x-3\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={onClose}\r\n                className=\"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading || !formData.title || !formData.start_date}\r\n                className=\"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n              >\r\n                {loading && <Loader2 className=\"w-4 h-4 animate-spin\" />}\r\n                <span>{loading ? 'Saving...' : 'Save Changes'}</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { X, Loader2 } from 'lucide-react';\r\n\r\ninterface TimeOffRequestModalProps {\r\n  onClose: () => void;\r\n  onSuccess: () => void;\r\n}\r\n\r\nexport default function TimeOffRequestModal({ onClose, onSuccess }: TimeOffRequestModalProps) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    type: 'vacation',\r\n    start_date: '',\r\n    end_date: '',\r\n    start_time: '',\r\n    end_time: '',\r\n    brief_description: '',\r\n    long_description: '',\r\n    everyone_can_see: true\r\n  });\r\n\r\n  async function handleSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      // TODO: Save to dev_time_off_requests table\r\n      console.log('Time off request:', formData);\r\n      alert('Time off request submitted! Waiting for approval.');\r\n      onSuccess();\r\n    } catch (error) {\r\n      console.error('Error submitting time off request:', error);\r\n      alert('Error submitting request. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-auto border border-gray-700\">\r\n        {/* Header */}\r\n        <div className=\"sticky top-0 bg-gray-800 border-b border-gray-700 px-6 py-4 flex items-center justify-between\">\r\n          <h2 className=\"text-xl font-bold text-white\">Request Time Off</h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-2 hover:bg-gray-700 rounded-lg transition-colors\"\r\n          >\r\n            <X className=\"w-5 h-5 text-gray-400\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Form */}\r\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\r\n          {/* Type */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n              Type of Time Off *\r\n            </label>\r\n            <select\r\n              value={formData.type}\r\n              onChange={(e) => setFormData({ ...formData, type: e.target.value })}\r\n              className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              required\r\n            >\r\n              <option value=\"vacation\">Vacation</option>\r\n              <option value=\"sick\">Sick Leave</option>\r\n              <option value=\"personal\">Personal</option>\r\n              <option value=\"unpaid\">Unpaid Leave</option>\r\n              <option value=\"other\">Other</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* Dates */}\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                Start Date *\r\n              </label>\r\n              <input\r\n                type=\"date\"\r\n                value={formData.start_date}\r\n                onChange={(e) => setFormData({ ...formData, start_date: e.target.value })}\r\n                className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                End Date (Optional)\r\n              </label>\r\n              <input\r\n                type=\"date\"\r\n                value={formData.end_date}\r\n                onChange={(e) => setFormData({ ...formData, end_date: e.target.value })}\r\n                min={formData.start_date}\r\n                className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Times with 15-min increments */}\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                Start Time (Optional)\r\n              </label>\r\n              <select\r\n                value={formData.start_time}\r\n                onChange={(e) => setFormData({ ...formData, start_time: e.target.value })}\r\n                className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              >\r\n                <option value=\"\">All day</option>\r\n                {Array.from({ length: 96 }, (_, i) => {\r\n                  const hour = Math.floor(i / 4);\r\n                  const minute = (i % 4) * 15;\r\n                  const timeStr = `${String(hour).padStart(2, '0')}:${String(minute).padStart(2, '0')}`;\r\n                  const displayHour = hour === 0 ? 12 : hour > 12 ? hour - 12 : hour;\r\n                  const ampm = hour < 12 ? 'AM' : 'PM';\r\n                  return (\r\n                    <option key={timeStr} value={timeStr}>\r\n                      {displayHour}:{String(minute).padStart(2, '0')} {ampm}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                End Time (Optional)\r\n              </label>\r\n              <select\r\n                value={formData.end_time}\r\n                onChange={(e) => setFormData({ ...formData, end_time: e.target.value })}\r\n                className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              >\r\n                <option value=\"\">All day</option>\r\n                {Array.from({ length: 96 }, (_, i) => {\r\n                  const hour = Math.floor(i / 4);\r\n                  const minute = (i % 4) * 15;\r\n                  const timeStr = `${String(hour).padStart(2, '0')}:${String(minute).padStart(2, '0')}`;\r\n                  const displayHour = hour === 0 ? 12 : hour > 12 ? hour - 12 : hour;\r\n                  const ampm = hour < 12 ? 'AM' : 'PM';\r\n                  return (\r\n                    <option key={timeStr} value={timeStr}>\r\n                      {displayHour}:{String(minute).padStart(2, '0')} {ampm}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Brief Description */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n              Brief Description\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={formData.brief_description}\r\n              onChange={(e) => setFormData({ ...formData, brief_description: e.target.value })}\r\n              placeholder=\"e.g., Family vacation, Doctor appointment\"\r\n              className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n\r\n          {/* Long Description */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n              Additional Details (Optional)\r\n            </label>\r\n            <textarea\r\n              value={formData.long_description}\r\n              onChange={(e) => setFormData({ ...formData, long_description: e.target.value })}\r\n              rows={3}\r\n              className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n\r\n          {/* Privacy */}\r\n          <div>\r\n            <label className=\"flex items-center space-x-2 cursor-pointer\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={formData.everyone_can_see}\r\n                onChange={(e) => setFormData({ ...formData, everyone_can_see: e.target.checked })}\r\n                className=\"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500\"\r\n              />\r\n              <span className=\"text-sm text-gray-300\">Everyone can see this request</span>\r\n            </label>\r\n            <p className=\"text-xs text-gray-500 mt-1 ml-6\">\r\n              Blocks your calendar so others know you're unavailable\r\n            </p>\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex items-center justify-end space-x-3 pt-4 border-t border-gray-700\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading || !formData.start_date}\r\n              className=\"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n            >\r\n              {loading && <Loader2 className=\"w-4 h-4 animate-spin\" />}\r\n              <span>{loading ? 'Submitting...' : 'Submit Request'}</span>\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { X, Loader2 } from 'lucide-react';\r\n\r\ninterface TimeAdjustmentModalProps {\r\n  onClose: () => void;\r\n  onSuccess: () => void;\r\n}\r\n\r\nexport default function TimeAdjustmentModal({ onClose, onSuccess }: TimeAdjustmentModalProps) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    request_type: 'missed_punch',\r\n    adjustment_date: '',\r\n    original_clock_in: '',\r\n    original_clock_out: '',\r\n    requested_clock_in: '',\r\n    requested_clock_out: '',\r\n    requested_break_minutes: 0,\r\n    reason: '',\r\n    detailed_description: ''\r\n  });\r\n\r\n  async function handleSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      // TODO: Save to dev_timesheet_adjustments table\r\n      console.log('Timesheet adjustment:', formData);\r\n      alert('Timesheet adjustment request submitted! Your manager will review it.');\r\n      onSuccess();\r\n    } catch (error) {\r\n      console.error('Error submitting adjustment:', error);\r\n      alert('Error submitting request. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-auto border border-gray-700\">\r\n        {/* Header */}\r\n        <div className=\"sticky top-0 bg-gray-800 border-b border-gray-700 px-6 py-4 flex items-center justify-between\">\r\n          <h2 className=\"text-xl font-bold text-white\">Request Timesheet Adjustment</h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-2 hover:bg-gray-700 rounded-lg transition-colors\"\r\n          >\r\n            <X className=\"w-5 h-5 text-gray-400\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Form */}\r\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\r\n          {/* Request Type */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n              What needs to be corrected? *\r\n            </label>\r\n            <select\r\n              value={formData.request_type}\r\n              onChange={(e) => setFormData({ ...formData, request_type: e.target.value })}\r\n              className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              required\r\n            >\r\n              <option value=\"missed_punch\">Forgot to Clock In/Out</option>\r\n              <option value=\"clock_in_correction\">Clock In Time Wrong</option>\r\n              <option value=\"clock_out_correction\">Clock Out Time Wrong</option>\r\n              <option value=\"missed_break\">Forgot to Log Break</option>\r\n              <option value=\"other\">Other</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* Date */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n              Date of Work *\r\n            </label>\r\n            <input\r\n              type=\"date\"\r\n              value={formData.adjustment_date}\r\n              onChange={(e) => setFormData({ ...formData, adjustment_date: e.target.value })}\r\n              className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          {/* Original Times */}\r\n          <div>\r\n            <h3 className=\"text-sm font-semibold text-gray-400 mb-3\">Original Time (What it shows now)</h3>\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                  Clock In\r\n                </label>\r\n                <input\r\n                  type=\"time\"\r\n                  value={formData.original_clock_in}\r\n                  onChange={(e) => setFormData({ ...formData, original_clock_in: e.target.value })}\r\n                  className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                  Clock Out\r\n                </label>\r\n                <input\r\n                  type=\"time\"\r\n                  value={formData.original_clock_out}\r\n                  onChange={(e) => setFormData({ ...formData, original_clock_out: e.target.value })}\r\n                  className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Requested Times */}\r\n          <div>\r\n            <h3 className=\"text-sm font-semibold text-blue-400 mb-3\">Requested Time (What it should be) *</h3>\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                  Clock In *\r\n                </label>\r\n                <input\r\n                  type=\"time\"\r\n                  value={formData.requested_clock_in}\r\n                  onChange={(e) => setFormData({ ...formData, requested_clock_in: e.target.value })}\r\n                  className=\"w-full px-4 py-2 bg-gray-900 border-2 border-blue-500 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                  Clock Out *\r\n                </label>\r\n                <input\r\n                  type=\"time\"\r\n                  value={formData.requested_clock_out}\r\n                  onChange={(e) => setFormData({ ...formData, requested_clock_out: e.target.value })}\r\n                  className=\"w-full px-4 py-2 bg-gray-900 border-2 border-blue-500 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Break Time */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n              Break Time (minutes)\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              min=\"0\"\r\n              step=\"15\"\r\n              value={formData.requested_break_minutes}\r\n              onChange={(e) => setFormData({ ...formData, requested_break_minutes: parseInt(e.target.value) || 0 })}\r\n              placeholder=\"e.g., 30 for 30-minute lunch\"\r\n              className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n\r\n          {/* Reason */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n              Reason *\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={formData.reason}\r\n              onChange={(e) => setFormData({ ...formData, reason: e.target.value })}\r\n              placeholder=\"e.g., Forgot to clock out for lunch\"\r\n              className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          {/* Detailed Description */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n              Additional Details\r\n            </label>\r\n            <textarea\r\n              value={formData.detailed_description}\r\n              onChange={(e) => setFormData({ ...formData, detailed_description: e.target.value })}\r\n              rows={3}\r\n              placeholder=\"Please provide any additional context that will help your manager approve this request\"\r\n              className=\"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex items-center justify-end space-x-3 pt-4 border-t border-gray-700\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading || !formData.adjustment_date || !formData.requested_clock_in || !formData.requested_clock_out || !formData.reason}\r\n              className=\"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n            >\r\n              {loading && <Loader2 className=\"w-4 h-4 animate-spin\" />}\r\n              <span>{loading ? 'Submitting...' : 'Submit Request'}</span>\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState, useEffect, useRef, useContext, Suspense } from 'react';\r\nimport { useSearchParams } from 'next/navigation';\r\nimport { PageTitleContext, PageActionsContext } from '@/app/layout';\r\nimport { ChevronLeft, ChevronRight, Plus, Clock, Edit3 } from 'lucide-react';\r\nimport WeekView from './components/WeekView';\r\nimport MonthView from './components/MonthView';\r\nimport CreateEventModal from './components/CreateEventModal';\r\nimport EditEventModal from './components/EditEventModal';\r\nimport TimeOffRequestModal from './components/TimeOffRequestModal';\r\nimport TimeAdjustmentModal from './components/TimeAdjustmentModal';\r\n\r\ninterface CalendarEvent {\r\n  id: string;\r\n  title: string;\r\n  description?: string;\r\n  start_datetime: string;\r\n  end_datetime?: string;\r\n  event_type: string;\r\n  color?: string;\r\n  location_address?: string;\r\n  status: string;\r\n}\r\n\r\ninterface TeamMember {\r\n  id: string;\r\n  name: string;\r\n  role: string;\r\n  color: string;\r\n}\r\n\r\n// Wrapper component with Suspense for useSearchParams\r\nexport default function CalendarPage() {\r\n  return (\r\n    <Suspense fallback={\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    }>\r\n      <CalendarContent />\r\n    </Suspense>\r\n  );\r\n}\r\n\r\nfunction CalendarContent() {\r\n  const setPageTitle = useContext(PageTitleContext);\r\n  const setPageActions = useContext(PageActionsContext);\r\n  const searchParams = useSearchParams();\r\n  const calendarMode = searchParams?.get('mode') || 'my';\r\n\r\n  const [currentView, setCurrentView] = useState<'week' | 'month'>('week');\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n  const [events, setEvents] = useState<CalendarEvent[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [showCreateEvent, setShowCreateEvent] = useState(false);\r\n  const [showEditEvent, setShowEditEvent] = useState(false);\r\n  const [showTimeOffRequest, setShowTimeOffRequest] = useState(false);\r\n  const [showTimeAdjustment, setShowTimeAdjustment] = useState(false);\r\n  const [selectedDate, setSelectedDate] = useState<Date>(new Date());\r\n  const [selectedHour, setSelectedHour] = useState<number>(9);\r\n  const [showEventDetail, setShowEventDetail] = useState(false);\r\n  const [selectedEvent, setSelectedEvent] = useState<CalendarEvent | null>(null);\r\n\r\n  const [myPendingTimeOff, setMyPendingTimeOff] = useState<any[]>([]);\r\n  const [myPendingAdjustments, setMyPendingAdjustments] = useState<any[]>([]);\r\n  const [teamMembers, setTeamMembers] = useState<TeamMember[]>([]);\r\n\r\n  const calendarRef = useRef<HTMLDivElement>(null);\r\n  const primaryColor = '#3B82F6';\r\n\r\n  useEffect(() => {\r\n    loadEvents();\r\n    loadTeamMembers();\r\n    setLoading(false);\r\n  }, [calendarMode]); // Reload when mode changes\r\n\r\n  useEffect(() => {\r\n    // Set page title and actions in the header bar\r\n    setPageTitle({\r\n      title: getHeaderText(),\r\n      description: calendarMode === 'team' ? 'Team schedules & projects' : 'Your personal calendar'\r\n    });\r\n\r\n    setPageActions(\r\n      <div className=\"flex items-center gap-2\">\r\n        <button\r\n          onClick={() => handleNavigate(-1)}\r\n          className=\"p-2 rounded-xl transition-colors bg-white/10 hover:bg-white/20 text-white border border-black/50\"\r\n        >\r\n          <ChevronLeft className=\"w-5 h-5\" />\r\n        </button>\r\n\r\n        <button\r\n          onClick={handleToday}\r\n          className=\"px-4 py-2 text-sm font-medium rounded-xl transition-colors bg-white/10 hover:bg-white/20 text-white border border-black/50\"\r\n        >\r\n          Today\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => handleNavigate(1)}\r\n          className=\"p-2 rounded-xl transition-colors bg-white/10 hover:bg-white/20 text-white border border-black/50\"\r\n        >\r\n          <ChevronRight className=\"w-5 h-5\" />\r\n        </button>\r\n\r\n        <div className=\"flex items-center space-x-1 ml-2\">\r\n          <button\r\n            onClick={() => setCurrentView('week')}\r\n            className={`px-4 py-2 text-sm font-medium rounded-xl transition-colors border border-black/50 ${\r\n              currentView === 'week'\r\n                ? 'bg-white/30 text-white shadow-sm'\r\n                : 'bg-white/10 hover:bg-white/20 text-white'\r\n            }`}\r\n          >\r\n            Week\r\n          </button>\r\n          <button\r\n            onClick={() => setCurrentView('month')}\r\n            className={`px-4 py-2 text-sm font-medium rounded-xl transition-colors border border-black/50 ${\r\n              currentView === 'month'\r\n                ? 'bg-white/30 text-white shadow-sm'\r\n                : 'bg-white/10 hover:bg-white/20 text-white'\r\n            }`}\r\n          >\r\n            Month\r\n          </button>\r\n        </div>\r\n\r\n        <button\r\n          onClick={() => setShowTimeAdjustment(true)}\r\n          className=\"flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-xl transition-colors bg-white/10 hover:bg-white/20 text-white border border-black/50 relative\"\r\n        >\r\n          <Edit3 className=\"w-4 h-4\" />\r\n          <span>Timesheet Adjustment</span>\r\n          {myPendingAdjustments.length > 0 && (\r\n            <div className=\"absolute -top-2 -right-2 bg-yellow-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold\">\r\n              ‚è≥\r\n            </div>\r\n          )}\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => setShowTimeOffRequest(true)}\r\n          className=\"flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-xl transition-colors bg-white/10 hover:bg-white/20 text-white border border-black/50 relative\"\r\n        >\r\n          <Clock className=\"w-4 h-4\" />\r\n          <span>Time Off Request</span>\r\n          {myPendingTimeOff.length > 0 && (\r\n            <div className=\"absolute -top-2 -right-2 bg-yellow-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold\">\r\n              ‚è≥\r\n            </div>\r\n          )}\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => setShowCreateEvent(true)}\r\n          className=\"flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-xl transition-colors bg-white/30 hover:bg-white/40 text-white border border-black/50\"\r\n        >\r\n          <Plus className=\"w-4 h-4\" />\r\n          <span>Create Event</span>\r\n        </button>\r\n      </div>\r\n    );\r\n\r\n    return () => {\r\n      setPageTitle({ title: 'Dashboard', description: 'Your daily overview' });\r\n      setPageActions(null);\r\n    };\r\n  }, [currentDate, currentView, myPendingTimeOff.length, myPendingAdjustments.length]);\r\n\r\n  useEffect(() => {\r\n    if (currentView === 'week' && calendarRef.current) {\r\n      const timer = setTimeout(() => {\r\n        if (calendarRef.current) {\r\n          const hourHeight = 80;\r\n          const targetHour = 7;\r\n          calendarRef.current.scrollTop = targetHour * hourHeight;\r\n        }\r\n      }, 300);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [currentView, events]);\r\n\r\n  async function loadTeamMembers() {\r\n    // TODO: Load from dev_team_members table\r\n    setTeamMembers([\r\n      { id: '1', name: 'Michael', role: 'Lead Developer', color: '#3B82F6' },\r\n      { id: '2', name: 'Dev Team', role: 'Development', color: '#10B981' },\r\n      { id: '3', name: 'Support', role: 'Support', color: '#F59E0B' },\r\n    ]);\r\n  }\r\n\r\n  async function loadEvents() {\r\n    // TODO: Load from dev_calendar_events table\r\n    // For now, mock data using today's date\r\n    const today = new Date();\r\n\r\n    // My events - personal tasks\r\n    const myEvents: CalendarEvent[] = [\r\n      {\r\n        id: '1',\r\n        title: 'Sprint Planning',\r\n        start_datetime: new Date(today.getFullYear(), today.getMonth(), today.getDate(), 10, 0).toISOString(),\r\n        end_datetime: new Date(today.getFullYear(), today.getMonth(), today.getDate(), 11, 0).toISOString(),\r\n        event_type: 'meeting',\r\n        color: '#8B5CF6',\r\n        status: 'scheduled'\r\n      },\r\n      {\r\n        id: '2',\r\n        title: 'Deploy Tradelines v2.5',\r\n        start_datetime: new Date(today.getFullYear(), today.getMonth(), today.getDate(), 14, 0).toISOString(),\r\n        end_datetime: new Date(today.getFullYear(), today.getMonth(), today.getDate(), 15, 0).toISOString(),\r\n        event_type: 'deploy',\r\n        color: '#10B981',\r\n        status: 'scheduled'\r\n      },\r\n    ];\r\n\r\n    // Team events - all team members' schedules\r\n    const teamEvents: CalendarEvent[] = [\r\n      ...myEvents,\r\n      {\r\n        id: '3',\r\n        title: 'Michael: Code Review',\r\n        description: 'Review PR #234 for tradelines',\r\n        start_datetime: new Date(today.getFullYear(), today.getMonth(), today.getDate(), 9, 0).toISOString(),\r\n        end_datetime: new Date(today.getFullYear(), today.getMonth(), today.getDate(), 10, 0).toISOString(),\r\n        event_type: 'task',\r\n        color: '#3B82F6',\r\n        status: 'scheduled'\r\n      },\r\n      {\r\n        id: '4',\r\n        title: 'Dev Team: Portal Updates',\r\n        description: 'Working on user portal enhancements',\r\n        start_datetime: new Date(today.getFullYear(), today.getMonth(), today.getDate(), 11, 0).toISOString(),\r\n        end_datetime: new Date(today.getFullYear(), today.getMonth(), today.getDate(), 13, 0).toISOString(),\r\n        event_type: 'project',\r\n        color: '#10B981',\r\n        status: 'in_progress'\r\n      },\r\n      {\r\n        id: '5',\r\n        title: 'Support: Client Call',\r\n        description: 'Weekly check-in with ABC Corp',\r\n        start_datetime: new Date(today.getFullYear(), today.getMonth(), today.getDate(), 15, 0).toISOString(),\r\n        end_datetime: new Date(today.getFullYear(), today.getMonth(), today.getDate(), 16, 0).toISOString(),\r\n        event_type: 'meeting',\r\n        color: '#F59E0B',\r\n        status: 'scheduled'\r\n      },\r\n      {\r\n        id: '6',\r\n        title: 'Dev Team: NextBidder API',\r\n        description: 'Auction suppliers integration',\r\n        start_datetime: new Date(today.getFullYear(), today.getMonth(), today.getDate() + 1, 10, 0).toISOString(),\r\n        end_datetime: new Date(today.getFullYear(), today.getMonth(), today.getDate() + 1, 14, 0).toISOString(),\r\n        event_type: 'project',\r\n        color: '#10B981',\r\n        status: 'scheduled'\r\n      },\r\n    ];\r\n\r\n    setEvents(calendarMode === 'team' ? teamEvents : myEvents);\r\n  }\r\n\r\n  function handleNavigate(direction: number) {\r\n    const newDate = new Date(currentDate);\r\n    if (currentView === 'week') {\r\n      newDate.setDate(newDate.getDate() + (direction * 7));\r\n    } else {\r\n      newDate.setMonth(newDate.getMonth() + direction);\r\n    }\r\n    setCurrentDate(newDate);\r\n  }\r\n\r\n  function handleToday() {\r\n    setCurrentDate(new Date());\r\n  }\r\n\r\n  function getHeaderText() {\r\n    if (currentView === 'week') {\r\n      const weekStart = new Date(currentDate);\r\n      const dayOfWeek = weekStart.getDay();\r\n      const diffToMonday = dayOfWeek === 0 ? -6 : 1 - dayOfWeek;\r\n      weekStart.setDate(weekStart.getDate() + diffToMonday);\r\n\r\n      const weekEnd = new Date(weekStart);\r\n      weekEnd.setDate(weekEnd.getDate() + 6);\r\n\r\n      if (weekStart.getMonth() === weekEnd.getMonth()) {\r\n        return `${weekStart.toLocaleDateString('en-US', { month: 'long' })} ${weekStart.getDate()}-${weekEnd.getDate()}, ${weekStart.getFullYear()}`;\r\n      } else {\r\n        return `${weekStart.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })} - ${weekEnd.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}, ${weekEnd.getFullYear()}`;\r\n      }\r\n    } else {\r\n      return currentDate.toLocaleDateString('en-US', { month: 'long', year: 'numeric' });\r\n    }\r\n  }\r\n\r\n  function getWeekDates() {\r\n    const dates = [];\r\n    const start = new Date(currentDate);\r\n    const day = start.getDay();\r\n    const diff = day === 0 ? -6 : 1 - day;\r\n    start.setDate(start.getDate() + diff);\r\n\r\n    for (let i = 0; i < 7; i++) {\r\n      const date = new Date(start);\r\n      date.setDate(date.getDate() + i);\r\n      dates.push(date);\r\n    }\r\n\r\n    return dates;\r\n  }\r\n\r\n  function formatHour(hour: number) {\r\n    if (hour === 0) return '12 AM';\r\n    if (hour < 12) return `${hour} AM`;\r\n    if (hour === 12) return '12 PM';\r\n    return `${hour - 12} PM`;\r\n  }\r\n\r\n  function isToday(date: Date) {\r\n    const today = new Date();\r\n    return date.toDateString() === today.toDateString();\r\n  }\r\n\r\n  function handleSlotClick(date: Date, hour: number) {\r\n    setSelectedDate(date);\r\n    setSelectedHour(hour);\r\n    setShowCreateEvent(true);\r\n  }\r\n\r\n  function handleEventClick(event: CalendarEvent) {\r\n    setSelectedEvent(event);\r\n    setShowEventDetail(true);\r\n  }\r\n\r\n  async function handleEventDrop(eventId: string, newDate: Date, newHour: number) {\r\n    // Update event in state\r\n    setEvents(prevEvents => prevEvents.map(event => {\r\n      if (event.id === eventId) {\r\n        const oldStart = new Date(event.start_datetime);\r\n        const oldEnd = event.end_datetime ? new Date(event.end_datetime) : null;\r\n        const duration = oldEnd ? oldEnd.getTime() - oldStart.getTime() : 60 * 60 * 1000;\r\n\r\n        const newStart = new Date(newDate);\r\n        newStart.setHours(newHour, 0, 0, 0);\r\n\r\n        const newEnd = new Date(newStart.getTime() + duration);\r\n\r\n        return {\r\n          ...event,\r\n          start_datetime: newStart.toISOString(),\r\n          end_datetime: newEnd.toISOString()\r\n        };\r\n      }\r\n      return event;\r\n    }));\r\n\r\n    // TODO: Save to dev_calendar_events table\r\n    console.log('Moved event', eventId, 'to', newDate, newHour);\r\n  }\r\n\r\n  function handleWeekClick(date: Date) {\r\n    setCurrentDate(date);\r\n    setCurrentView('week');\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ height: 'calc(100vh - 180px)', display: 'flex', flexDirection: 'column' }}>\r\n      <div style={{ flex: 1, display: 'flex', overflow: 'hidden', minHeight: 0 }}>\r\n        <div style={{ flex: 1, display: 'flex', flexDirection: 'column', minHeight: 0 }}>\r\n          {currentView === 'week' && (\r\n            <WeekView\r\n              weekDates={getWeekDates()}\r\n              events={events}\r\n              primaryColor={primaryColor}\r\n              isToday={isToday}\r\n              formatHour={formatHour}\r\n              onSlotClick={handleSlotClick}\r\n              onEventClick={handleEventClick}\r\n              onEventDrop={handleEventDrop}\r\n              onCreateEvent={(date, hour) => {\r\n                setSelectedDate(date);\r\n                setSelectedHour(hour);\r\n                setShowCreateEvent(true);\r\n              }}\r\n              onAddEvent={(newEvent) => {\r\n                setEvents(prev => [...prev, newEvent]);\r\n              }}\r\n              onRefresh={loadEvents}\r\n              calendarRef={calendarRef}\r\n            />\r\n          )}\r\n\r\n          {currentView === 'month' && (\r\n            <MonthView\r\n              currentDate={currentDate}\r\n              events={events}\r\n              primaryColor={primaryColor}\r\n              isToday={isToday}\r\n              onWeekClick={handleWeekClick}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Event Detail Modal */}\r\n      {showEventDetail && selectedEvent && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\" onClick={() => setShowEventDetail(false)}>\r\n          <div className=\"bg-gray-800 rounded-lg shadow-xl p-6 w-96 border border-gray-700\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h3 className=\"text-lg font-bold text-white\">Event Details</h3>\r\n              <button\r\n                onClick={() => setShowEventDetail(false)}\r\n                className=\"w-8 h-8 rounded flex items-center justify-center hover:bg-gray-700 transition-colors\"\r\n              >\r\n                <span className=\"text-gray-400 text-xl\">√ó</span>\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"space-y-3 mb-6\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-400\">Title</p>\r\n                <p className=\"font-medium text-white\">{selectedEvent.title}</p>\r\n              </div>\r\n\r\n              {selectedEvent.description && (\r\n                <div>\r\n                  <p className=\"text-sm text-gray-400\">Description</p>\r\n                  <p className=\"text-sm text-gray-300\">{selectedEvent.description}</p>\r\n                </div>\r\n              )}\r\n\r\n              <div>\r\n                <p className=\"text-sm text-gray-400\">Time</p>\r\n                <p className=\"text-sm text-gray-300\">\r\n                  {new Date(selectedEvent.start_datetime).toLocaleString('en-US', {\r\n                    weekday: 'long',\r\n                    month: 'long',\r\n                    day: 'numeric',\r\n                    hour: 'numeric',\r\n                    minute: '2-digit'\r\n                  })}\r\n                </p>\r\n              </div>\r\n\r\n              {selectedEvent.location_address && (\r\n                <div>\r\n                  <p className=\"text-sm text-gray-400\">Location</p>\r\n                  <p className=\"text-sm text-gray-300\">{selectedEvent.location_address}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex space-x-3\">\r\n              <button\r\n                onClick={() => {\r\n                  setShowEventDetail(false);\r\n                  setShowEditEvent(true);\r\n                }}\r\n                className=\"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90\"\r\n                style={{ backgroundColor: primaryColor }}\r\n              >\r\n                Edit\r\n              </button>\r\n              <button\r\n                onClick={() => {\r\n                  setEvents(prev => prev.filter(e => e.id !== selectedEvent.id));\r\n                  setShowEventDetail(false);\r\n                }}\r\n                className=\"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700\"\r\n              >\r\n                Delete\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {showCreateEvent && (\r\n        <CreateEventModal\r\n          initialDate={selectedDate}\r\n          initialHour={selectedHour}\r\n          onClose={() => setShowCreateEvent(false)}\r\n          onSuccess={() => {\r\n            setShowCreateEvent(false);\r\n            loadEvents();\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {showTimeOffRequest && (\r\n        <TimeOffRequestModal\r\n          onClose={() => setShowTimeOffRequest(false)}\r\n          onSuccess={() => {\r\n            setShowTimeOffRequest(false);\r\n            loadEvents();\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {showTimeAdjustment && (\r\n        <TimeAdjustmentModal\r\n          onClose={() => setShowTimeAdjustment(false)}\r\n          onSuccess={() => {\r\n            setShowTimeAdjustment(false);\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {showEditEvent && selectedEvent && (\r\n        <EditEventModal\r\n          event={selectedEvent}\r\n          onClose={() => setShowEditEvent(false)}\r\n          onSuccess={(updatedEvent) => {\r\n            setEvents(prev => prev.map(e => e.id === updatedEvent.id ? updatedEvent : e));\r\n            setSelectedEvent(updatedEvent);\r\n            setShowEditEvent(false);\r\n          }}\r\n          onDelete={(eventId) => {\r\n            setEvents(prev => prev.filter(e => e.id !== eventId));\r\n            setShowEditEvent(false);\r\n            setSelectedEvent(null);\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M13 21h8', key: '1jsn5i' }],\n  [\n    'path',\n    {\n      d: 'M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z',\n      key: '1a8usu',\n    },\n  ],\n];\n\n/**\n * @component @name PenLine\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTMgMjFoOCIgLz4KICA8cGF0aCBkPSJNMjEuMTc0IDYuODEyYTEgMSAwIDAgMC0zLjk4Ni0zLjk4N0wzLjg0MiAxNi4xNzRhMiAyIDAgMCAwLS41LjgzbC0xLjMyMSA0LjM1MmEuNS41IDAgMCAwIC42MjMuNjIybDQuMzUzLTEuMzJhMiAyIDAgMCAwIC44My0uNDk3eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen-line\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PenLine = createLucideIcon('pen-line', __iconNode);\n\nexport default PenLine;\n"],"names":[],"mappings":"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","ignoreList":[7]}