module.exports=[40074,a=>{"use strict";var b=a.i(87924);let c=[{name:"all",displayName:"All Tradelines"},{name:"security",displayName:"Security"},{name:"administrative",displayName:"Administrative"},{name:"facilities",displayName:"Facilities"},{name:"logistics",displayName:"Logistics"},{name:"electrical",displayName:"Electrical"},{name:"lowvoltage",displayName:"Low Voltage"},{name:"landscaping",displayName:"Landscaping"},{name:"hvac",displayName:"HVAC"},{name:"plumbing",displayName:"Plumbing"},{name:"janitorial",displayName:"Janitorial"},{name:"support",displayName:"Support"},{name:"waste",displayName:"Waste"},{name:"construction",displayName:"Construction"},{name:"roofing",displayName:"Roofing"},{name:"painting",displayName:"Painting"},{name:"flooring",displayName:"Flooring"},{name:"demolition",displayName:"Demolition"},{name:"environmental",displayName:"Environmental"},{name:"concrete",displayName:"Concrete"},{name:"fencing",displayName:"Fencing"}];function d({value:a,onChange:d}){return(0,b.jsx)("select",{value:a,onChange:a=>d(a.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white focus:border-blue-500 focus:outline-none",children:c.map(a=>(0,b.jsx)("option",{value:a.name,children:a.displayName},a.name))})}a.s(["default",()=>d])},50597,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246);function e({source:a,onEdit:e,onTest:f,onSync:g,href:h}){let[i,j]=(0,c.useState)(!1),k=async()=>{f&&(j(!0),await f(a),j(!1))},l=a.expiresAt?Math.ceil((new Date(a.expiresAt).getTime()-Date.now())/864e5):null;return(0,b.jsxs)("div",{className:`border rounded-xl p-4 ${(a=>{switch(a){case"active":return"bg-green-500/10 border-green-500/30";case"expired":case"failed":return"bg-red-500/10 border-red-500/30";case"expiring":return"bg-yellow-500/10 border-yellow-500/30";default:return"bg-gray-800 border-gray-700"}})(a.status)}`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-3 h-3 rounded-full ${(a=>{switch(a){case"active":return"bg-green-500";case"expired":case"failed":return"bg-red-500";case"expiring":return"bg-yellow-500";default:return"bg-gray-500"}})(a.status)}`}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium text-white",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:a.platform})]})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)("span",{className:`px-2 py-0.5 text-xs rounded ${"active"===a.status?"bg-green-500/20 text-green-400":"expired"===a.status||"failed"===a.status?"bg-red-500/20 text-red-400":"expiring"===a.status?"bg-yellow-500/20 text-yellow-400":"bg-gray-700 text-gray-400"}`,children:(a=>{switch(a){case"active":return"Active";case"expired":return"Expired";case"expiring":return"Expiring Soon";case"failed":return"Login Failed";case"not_configured":return"Not Configured";default:return a}})(a.status)})})]}),(0,b.jsxs)("div",{className:"space-y-2 mb-4",children:["login"===a.type&&a.username&&(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Username"}),(0,b.jsx)("span",{className:"text-gray-300 font-mono text-xs",children:a.username})]}),"api_key"===a.type&&a.apiKey&&(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"API Key"}),(0,b.jsxs)("span",{className:"text-gray-300 font-mono text-xs",children:[a.apiKey.substring(0,8),"...",a.apiKey.slice(-4)]})]}),void 0!==a.balance&&(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Balance"}),(0,b.jsxs)("span",{className:`font-medium ${a.balance<10?"text-red-400":a.balance<50?"text-yellow-400":"text-green-400"}`,children:["$",a.balance.toFixed(2)]})]}),null!==l&&(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Expires"}),(0,b.jsx)("span",{className:`${l<7?"text-red-400":l<30?"text-yellow-400":"text-gray-300"}`,children:l<0?"Expired":`${l} days`})]}),void 0!==a.portalCount&&(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Portals"}),(0,b.jsx)("span",{className:"text-gray-300",children:a.portalCount})]}),a.lastError&&(0,b.jsx)("div",{className:"text-xs text-red-400 bg-red-500/10 rounded px-2 py-1 mt-2",children:a.lastError})]}),a.tradelines&&a.tradelines.length>0&&(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-1",children:[a.tradelines.slice(0,4).map((a,c)=>(0,b.jsx)("span",{className:"px-1.5 py-0.5 text-xs bg-gray-700/50 text-gray-400 rounded capitalize",children:a},c)),a.tradelines.length>4&&(0,b.jsxs)("span",{className:"px-1.5 py-0.5 text-xs text-gray-500",children:["+",a.tradelines.length-4," more"]})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[h?(0,b.jsx)(d.default,{href:h,className:"flex-1 px-3 py-1.5 text-xs font-medium bg-blue-500/20 text-blue-400 rounded-lg hover:bg-blue-500/30 transition-colors text-center",children:"Configure"}):e?(0,b.jsx)("button",{onClick:()=>e(a),className:"flex-1 px-3 py-1.5 text-xs font-medium bg-blue-500/20 text-blue-400 rounded-lg hover:bg-blue-500/30 transition-colors",children:"Edit"}):null,f&&(0,b.jsx)("button",{onClick:k,disabled:i||"not_configured"===a.status,className:"px-3 py-1.5 text-xs font-medium bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:i?"...":"Test"}),g&&(0,b.jsx)("button",{onClick:()=>g(a),className:"px-3 py-1.5 text-xs font-medium bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors",children:"Sync"})]})]})}var f=a.i(40074);let g=[{id:"sam_gov",name:"SAM.gov",platform:"Federal - Contracts",type:"api_key"},{id:"fpds",name:"FPDS",platform:"Federal - Data",type:"api_key"},{id:"usaspending",name:"USASpending",platform:"Federal - Data",type:"api_key"},{id:"gsa_ebuy",name:"GSA eBuy",platform:"Federal - GSA",type:"login"},{id:"gsa_advantage",name:"GSA Advantage",platform:"Federal - GSA",type:"login"},{id:"dod_emall",name:"DoD eMall",platform:"Federal - DoD",type:"login"},{id:"army_mil",name:"Army.mil",platform:"Federal - DoD",type:"login"},{id:"navy_mil",name:"Navy.mil",platform:"Federal - DoD",type:"login"},{id:"af_mil",name:"AF.mil",platform:"Federal - DoD",type:"login"},{id:"dla",name:"DLA",platform:"Federal - DoD",type:"login"},{id:"sandia",name:"Sandia Labs",platform:"Federal - Labs",type:"login"},{id:"lanl",name:"Los Alamos (LANL)",platform:"Federal - Labs",type:"login"},{id:"llnl",name:"Lawrence Livermore (LLNL)",platform:"Federal - Labs",type:"login"},{id:"ornl",name:"Oak Ridge (ORNL)",platform:"Federal - Labs",type:"login"},{id:"pnnl",name:"Pacific Northwest (PNNL)",platform:"Federal - Labs",type:"login"}],h=[{key:"contracts",label:"Contracts & Data",sources:["sam_gov","fpds","usaspending"]},{key:"gsa",label:"GSA",sources:["gsa_ebuy","gsa_advantage"]},{key:"dod",label:"DoD",sources:["dod_emall","army_mil","navy_mil","af_mil","dla"]},{key:"labs",label:"National Labs",sources:["sandia","lanl","llnl","ornl","pnnl"]}];function i(){let[a,d]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)("all");(0,c.useEffect)(()=>{q()},[]);let q=async()=>{j(!0);try{let a=await fetch("/api/patcher/sources/federal");if(a.ok){let b=await a.json();d(b.sources||[])}else d(g.map(a=>({...a,status:"not_configured",tradelines:[]})))}catch(a){console.error("Failed to fetch federal sources:",a),d(g.map(a=>({...a,status:"not_configured",tradelines:[]})))}finally{j(!1)}},r=async a=>{let b=await fetch(`/api/patcher/sources/federal/${a.id}/test`,{method:"POST"}),c=await b.json();return{success:c.success,message:c.message||(c.success?"Connection successful":"Connection failed")}},s=a.filter(a=>{let b=!k||h.find(a=>a.key===k)?.sources.includes(a.id),c=!m||a.name.toLowerCase().includes(m.toLowerCase())||a.platform.toLowerCase().includes(m.toLowerCase());return b&&c}),t=a.filter(a=>"not_configured"!==a.status).length,u=a.filter(a=>"failed"===a.status||"expired"===a.status).length;return(0,b.jsxs)("div",{className:"h-full overflow-y-auto p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,b.jsx)("input",{type:"text",value:m,onChange:a=>n(a.target.value),placeholder:"Search federal sources...",className:"flex-1 max-w-md bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-sm text-white placeholder-gray-500 focus:border-blue-500 focus:outline-none"}),(0,b.jsx)(f.default,{value:o,onChange:p}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,b.jsx)("span",{className:"text-2xl",children:"ðŸ›ï¸"}),(0,b.jsxs)("span",{children:[a.length," sources"]}),(0,b.jsx)("span",{className:"text-gray-600",children:"|"}),(0,b.jsxs)("span",{className:"text-green-400",children:[t," configured"]}),u>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"text-gray-600",children:"|"}),(0,b.jsxs)("span",{className:"text-red-400",children:[u," issues"]})]})]}),(0,b.jsx)("button",{onClick:q,disabled:i,className:"px-4 py-2 text-sm font-medium bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:i?"Loading...":"Refresh"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsxs)("button",{onClick:()=>l(null),className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors ${!k?"bg-blue-500 text-white":"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:["All (",a.length,")"]}),h.map(c=>{var d;let e,f=(d=c.key,(e=h.find(a=>a.key===d))?a.filter(a=>e.sources.includes(a.id)):[]),g=f.filter(a=>"failed"===a.status||"expired"===a.status).length;return(0,b.jsxs)("button",{onClick:()=>l(c.key),className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors flex items-center gap-2 ${k===c.key?"bg-blue-500 text-white":"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:[c.label," (",f.length,")",g>0&&(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-500"})]},c.key)})]}),i?(0,b.jsx)("div",{className:"text-center text-gray-500 py-12",children:"Loading federal sources..."}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(a=>(0,b.jsx)(e,{source:a,href:`/credentials/federal/${a.id}`,onTest:r},a.id))}),0===s.length&&!i&&(0,b.jsx)("div",{className:"text-center text-gray-500 py-12",children:"No sources found in this category"})]})}a.s(["default",()=>i],50597)}];

//# sourceMappingURL=src_app_credentials_aa81c331._.js.map