{"version":3,"sources":["../../../../src/app/team/permissions/components/PermissionsMatrix.tsx"],"sourcesContent":["'use client';\r\n\r\ninterface Permission {\r\n  id: string;\r\n  name: string;\r\n  description?: string;\r\n  group: string;\r\n}\r\n\r\ninterface PermissionGroup {\r\n  id: string;\r\n  name: string;\r\n  description?: string;\r\n}\r\n\r\ninterface PermissionsMatrixProps {\r\n  permissions: Permission[];\r\n  groups: PermissionGroup[];\r\n}\r\n\r\nexport default function PermissionsMatrix({ permissions, groups }: PermissionsMatrixProps) {\r\n  // Group permissions by group\r\n  const permissionsByGroup: Record<string, Permission[]> = {};\r\n\r\n  permissions.forEach((perm) => {\r\n    const groupKey = perm.group || 'general';\r\n    if (!permissionsByGroup[groupKey]) {\r\n      permissionsByGroup[groupKey] = [];\r\n    }\r\n    permissionsByGroup[groupKey].push(perm);\r\n  });\r\n\r\n  const groupColors: Record<string, string> = {\r\n    servers: 'border-blue-500/30 bg-blue-500/5',\r\n    team: 'border-purple-500/30 bg-purple-500/5',\r\n    helpdesk: 'border-green-500/30 bg-green-500/5',\r\n    dev: 'border-red-500/30 bg-red-500/5',\r\n    general: 'border-gray-500/30 bg-gray-500/5',\r\n  };\r\n\r\n  // If no permissions, show default structure\r\n  const defaultGroups = [\r\n    {\r\n      id: 'servers',\r\n      name: 'Server Management',\r\n      permissions: [\r\n        { id: 'servers.view', name: 'View Servers', description: 'View server status and logs' },\r\n        { id: 'servers.control', name: 'Control Servers', description: 'Start, stop, restart servers' },\r\n        { id: 'servers.credentials', name: 'Manage Credentials', description: 'View and edit server credentials' },\r\n        { id: 'servers.deploy', name: 'Deploy', description: 'Deploy code to servers' },\r\n      ],\r\n    },\r\n    {\r\n      id: 'team',\r\n      name: 'Team Management',\r\n      permissions: [\r\n        { id: 'team.view', name: 'View Team', description: 'View team members' },\r\n        { id: 'team.manage', name: 'Manage Team', description: 'Add, edit, remove team members' },\r\n        { id: 'team.roles', name: 'Manage Roles', description: 'Create and edit roles' },\r\n        { id: 'team.permissions', name: 'Assign Permissions', description: 'Grant and revoke permissions' },\r\n      ],\r\n    },\r\n    {\r\n      id: 'helpdesk',\r\n      name: 'Helpdesk',\r\n      permissions: [\r\n        { id: 'helpdesk.view', name: 'View Tickets', description: 'View helpdesk tickets' },\r\n        { id: 'helpdesk.respond', name: 'Respond to Tickets', description: 'Reply to tickets' },\r\n        { id: 'helpdesk.manage', name: 'Manage Tickets', description: 'Assign and close tickets' },\r\n        { id: 'helpdesk.settings', name: 'Helpdesk Settings', description: 'Configure helpdesk' },\r\n      ],\r\n    },\r\n    {\r\n      id: 'dev',\r\n      name: 'Developer Tools',\r\n      permissions: [\r\n        { id: 'dev.ssh', name: 'SSH Access', description: 'Connect via SSH' },\r\n        { id: 'dev.logs', name: 'View Logs', description: 'View system logs' },\r\n        { id: 'dev.database', name: 'Database Access', description: 'Access database tools' },\r\n        { id: 'dev.admin', name: 'Admin Panel', description: 'Access admin features' },\r\n      ],\r\n    },\r\n  ];\r\n\r\n  const displayGroups = permissions.length > 0 ? Object.keys(permissionsByGroup) : defaultGroups.map((g) => g.id);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {(permissions.length === 0 ? defaultGroups : displayGroups.map((groupId) => {\r\n        const group = groups.find((g) => g.id === groupId);\r\n        return {\r\n          id: groupId,\r\n          name: group?.name || groupId.charAt(0).toUpperCase() + groupId.slice(1),\r\n          permissions: permissionsByGroup[groupId] || [],\r\n        };\r\n      })).map((group: any) => (\r\n        <div\r\n          key={group.id}\r\n          className={`border rounded-xl overflow-hidden ${groupColors[group.id] || groupColors.general}`}\r\n        >\r\n          {/* Group Header */}\r\n          <div className=\"px-4 py-3 bg-gray-800/50 border-b border-gray-700\">\r\n            <h3 className=\"font-medium text-white\">{group.name}</h3>\r\n          </div>\r\n\r\n          {/* Permissions */}\r\n          <div className=\"divide-y divide-gray-700/50\">\r\n            {group.permissions.map((perm: any) => (\r\n              <div\r\n                key={perm.id}\r\n                className=\"px-4 py-3 flex items-center justify-between hover:bg-gray-800/30\"\r\n              >\r\n                <div>\r\n                  <div className=\"font-medium text-white text-sm\">{perm.name}</div>\r\n                  {perm.description && (\r\n                    <div className=\"text-xs text-gray-500\">{perm.description}</div>\r\n                  )}\r\n                </div>\r\n                <code className=\"text-xs bg-gray-800 text-gray-400 px-2 py-1 rounded\">\r\n                  {perm.id}\r\n                </code>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ))}\r\n\r\n      {permissions.length === 0 && (\r\n        <div className=\"text-center py-4 text-gray-500 text-sm\">\r\n          Showing default permission structure. Connect to API for actual permissions.\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"wDAoBe,SAAS,EAAkB,aAAE,CAAW,QAAE,CAAM,CAA0B,EAEvF,IAAM,EAAmD,CAAC,EAE1D,EAAY,OAAO,CAAC,AAAC,IACnB,IAAM,EAAW,EAAK,KAAK,EAAI,SAC3B,CAAC,CAAkB,CAAC,EAAS,EAAE,CACjC,CAAkB,CAAC,EAAS,CAAG,EAAA,AAAE,EAEnC,CAAkB,CAAC,EAAS,CAAC,IAAI,CAAC,EACpC,GAEA,IAAM,EAAsC,CAC1C,QAAS,mCACT,KAAM,uCACN,SAAU,qCACV,IAAK,iCACL,QAAS,kCACX,EAGM,EAAgB,CACpB,CACE,GAAI,UACJ,KAAM,oBACN,YAAa,CACX,CAAE,GAAI,eAAgB,KAAM,eAAgB,YAAa,6BAA8B,EACvF,CAAE,GAAI,kBAAmB,KAAM,kBAAmB,YAAa,8BAA+B,EAC9F,CAAE,GAAI,sBAAuB,KAAM,qBAAsB,YAAa,kCAAmC,EACzG,CAAE,GAAI,iBAAkB,KAAM,SAAU,YAAa,wBAAyB,EAC/E,AACH,EACA,CACE,GAAI,OACJ,KAAM,kBACN,YAAa,CACX,CAAE,GAAI,YAAa,KAAM,YAAa,YAAa,mBAAoB,EACvE,CAAE,GAAI,cAAe,KAAM,cAAe,YAAa,gCAAiC,EACxF,CAAE,GAAI,aAAc,KAAM,eAAgB,YAAa,uBAAwB,EAC/E,CAAE,GAAI,mBAAoB,KAAM,qBAAsB,YAAa,8BAA+B,EACnG,AACH,EACA,CACE,GAAI,WACJ,KAAM,WACN,YAAa,CACX,CAAE,GAAI,gBAAiB,KAAM,eAAgB,YAAa,uBAAwB,EAClF,CAAE,GAAI,mBAAoB,KAAM,qBAAsB,YAAa,kBAAmB,EACtF,CAAE,GAAI,kBAAmB,KAAM,iBAAkB,YAAa,0BAA2B,EACzF,CAAE,GAAI,oBAAqB,KAAM,oBAAqB,YAAa,oBAAqB,EACzF,AACH,EACA,CACE,GAAI,MACJ,KAAM,kBACN,YAAa,CACX,CAAE,GAAI,UAAW,KAAM,aAAc,YAAa,iBAAkB,EACpE,CAAE,GAAI,WAAY,KAAM,YAAa,YAAa,kBAAmB,EACrE,CAAE,GAAI,eAAgB,KAAM,kBAAmB,YAAa,uBAAwB,EACpF,CAAE,GAAI,YAAa,KAAM,cAAe,YAAa,uBAAwB,EAC9E,AACH,EACD,CAEK,EAAgB,EAAY,MAAM,CAAG,EAAI,OAAO,IAAI,CAAC,GAAsB,EAAc,GAAG,CAAC,AAAC,GAAM,EAAE,EAAE,EAE9G,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,CAAwB,IAAvB,EAAY,MAAM,CAAS,EAAgB,EAAc,GAAG,CAAE,AAAD,IAC7D,IAAM,EAAQ,EAAO,IAAI,CAAC,AAAC,GAAM,EAAE,EAAE,GAAK,GAC1C,MAAO,CACL,GAAI,EACJ,KAAM,GAAO,MAAQ,EAAQ,MAAM,CAAC,GAAG,WAAW,GAAK,EAAQ,KAAK,CAAC,GACrE,YAAa,CAAkB,CAAC,EAAQ,EAAI,EAAE,AAChD,CACF,EAAA,CAAE,CAAE,GAAG,CAAC,AAAC,GACP,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAW,CAAC,kCAAkC,EAAE,CAAW,CAAC,EAAM,EAAE,CAAC,EAAI,EAAY,OAAO,CAAA,CAAE,WAG9F,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kCAA0B,EAAM,IAAI,KAIpD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uCACZ,EAAM,WAAW,CAAC,GAAG,CAAE,AAAD,GACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,6EAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0CAAkC,EAAK,IAAI,GACzD,EAAK,WAAW,EACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAyB,EAAK,WAAW,MAG5D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+DACb,EAAK,EAAE,KAVL,EAAK,EAAE,OAZb,EAAM,EAAE,GA8BO,IAAvB,EAAY,MAAM,EACjB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDAAyC,mFAMhE"}