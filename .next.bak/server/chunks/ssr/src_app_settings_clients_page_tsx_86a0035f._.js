module.exports=[16426,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(91599),f=a.i(67900),g=a.i(46842);function h(){let a=(0,c.useContext)(e.PageTitleContext),h=(0,c.useContext)(e.PageActionsContext),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(!0);return((0,c.useEffect)(()=>(a({title:"Clients",description:"Manage clients and their projects"}),h((0,b.jsx)(d.default,{href:"/settings/clients/new",className:"px-4 py-2 bg-white/20 text-white rounded-lg text-sm font-semibold hover:bg-white/30 transition-colors border border-white/30",children:"+ Add Client"})),()=>{a({title:"",description:""}),h(null)}),[a,h]),(0,c.useEffect)(()=>{!async function(){try{let a=await fetch("/api/clients");if(!a.ok)throw Error("Failed to load clients");let b=await a.json();j(b)}catch(a){l(a.message)}finally{n(!1)}}()},[]),m)?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)("div",{className:"text-gray-400",children:"Loading clients..."})}):(0,b.jsxs)("div",{children:[k&&(0,b.jsxs)("div",{className:"bg-red-500/15 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg mb-6",children:[(0,b.jsx)("strong",{children:"Error:"})," ",k]}),0===i.length?(0,b.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-xl p-12 text-center",children:[(0,b.jsx)(f.Building2,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-400 mb-4",children:"No clients yet"}),(0,b.jsx)(d.default,{href:"/settings/clients/new",className:"inline-block px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add Your First Client"})]}):(0,b.jsx)("div",{className:"grid gap-4",children:i.map(a=>(0,b.jsxs)(d.default,{href:`/settings/clients/${a.id}`,className:"block bg-gray-800 border border-gray-700 rounded-xl p-6 hover:border-blue-500 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[a.logo_url?(0,b.jsx)("img",{src:a.logo_url,alt:a.name,className:"w-12 h-12 rounded-xl object-cover"}):(0,b.jsx)("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${"individual"===a.client_type?"bg-purple-600/20":"bg-blue-600/20"}`,children:"individual"===a.client_type?(0,b.jsx)(g.User,{className:"w-6 h-6 text-purple-400"}):(0,b.jsx)(f.Building2,{className:"w-6 h-6 text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white hover:text-blue-400 transition-colors",children:a.name}),a.description&&(0,b.jsx)("p",{className:"text-gray-500 text-sm mt-0.5",children:a.description})]})]}),(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${a.active?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:a.active?"Active":"Inactive"})]}),(0,b.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-700 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-gray-500 text-xs uppercase font-medium mr-1",children:"Team:"}),0===a.team.length?(0,b.jsx)("span",{className:"text-gray-600 text-sm",children:"No team assigned"}):(0,b.jsxs)("div",{className:"flex -space-x-2",children:[a.team.slice(0,5).map(a=>(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-xs font-bold border-2 border-gray-800",title:a.first_name?`${a.first_name} ${a.last_name||""}`:a.email,children:a.avatar_url?(0,b.jsx)("img",{src:a.avatar_url,alt:"",className:"w-full h-full rounded-lg object-cover"}):function(a){if(a.first_name&&a.last_name)return`${a.first_name[0]}${a.last_name[0]}`.toUpperCase();if(a.name){let b=a.name.split(" ");return b.length>=2?`${b[0][0]}${b[1][0]}`.toUpperCase():a.name.substring(0,2).toUpperCase()}return a.email.substring(0,2).toUpperCase()}(a)},a.id)),a.team.length>5&&(0,b.jsxs)("div",{className:"w-8 h-8 rounded-lg bg-gray-700 flex items-center justify-center text-gray-400 text-xs font-bold border-2 border-gray-800",children:["+",a.team.length-5]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-gray-500 text-xs uppercase font-medium mr-1",children:"Projects:"}),0===a.projects.length?(0,b.jsx)("span",{className:"text-gray-600 text-sm",children:"No projects"}):(0,b.jsxs)("div",{className:"flex gap-1",children:[a.projects.slice(0,6).map(a=>(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gray-700 flex items-center justify-center text-gray-300 text-xs font-bold",title:a.name,children:a.logo_url?(0,b.jsx)("img",{src:a.logo_url,alt:"",className:"w-full h-full rounded-lg object-cover"}):function(a){let b={nextbid:"NB",nextbidder:"NB",nextsource:"NS",nexttech:"NT",nexttask:"NT"},c=a.slug.toLowerCase();if(b[c])return b[c];let d=a.name.split(/[\s-]+/);return d.length>=2?d.slice(0,2).map(a=>a[0]).join("").toUpperCase():a.name.substring(0,2).toUpperCase()}(a)},a.id)),a.projects.length>6&&(0,b.jsxs)("div",{className:"w-8 h-8 rounded-lg bg-gray-600 flex items-center justify-center text-gray-400 text-xs font-bold",children:["+",a.projects.length-6]})]})]})]})]},a.id))})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=src_app_settings_clients_page_tsx_86a0035f._.js.map