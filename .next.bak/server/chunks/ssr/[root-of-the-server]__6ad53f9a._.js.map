{"version":3,"sources":["turbopack:///[next]/internal/font/google/geist_a71539c9.module.css [app-ssr] (css module)","turbopack:///[next]/internal/font/google/geist_mono_8d43a2aa.module.css [app-ssr] (css module)","turbopack:///[next]/internal/font/google/geist_a71539c9.js","turbopack:///[next]/internal/font/google/geist_mono_8d43a2aa.js","../../../../../../Studio/kodiack-dashboard-5500/src/components/TimeClockDropdown.tsx","../../../../../../Studio/kodiack-dashboard-5500/src/components/SettingsDropdown.tsx","../../../../../../Studio/kodiack-dashboard-5500/src/components/ChatDropdown.tsx","../../../../../../Studio/kodiack-dashboard-5500/src/components/AITeamChat.tsx","../../../../../../Studio/kodiack-dashboard-5500/src/components/Navigation.tsx","../../../../../../Studio/kodiack-dashboard-5500/src/components/ServerStatusIndicator.tsx","../../../../../../Studio/kodiack-dashboard-5500/node_modules/lucide-react/src/icons/circle-alert.ts","../../../../../../Studio/kodiack-dashboard-5500/node_modules/lucide-react/src/icons/message-circle.ts","../../../../../../Studio/kodiack-dashboard-5500/node_modules/lucide-react/src/icons/door-open.ts","../../../../../../Studio/kodiack-dashboard-5500/node_modules/lucide-react/src/icons/send.ts","../../../../../../Studio/kodiack-dashboard-5500/node_modules/lucide-react/src/icons/hash.ts","../../../../../../Studio/kodiack-dashboard-5500/node_modules/lucide-react/src/icons/grip-horizontal.ts","../../../../../../Studio/kodiack-dashboard-5500/node_modules/lucide-react/src/icons/minimize-2.ts","../../../../../../Studio/kodiack-dashboard-5500/node_modules/lucide-react/src/icons/maximize-2.ts","../../../../../../Studio/kodiack-dashboard-5500/node_modules/lucide-react/src/icons/bot.ts","../../../../../../Studio/kodiack-dashboard-5500/node_modules/lucide-react/src/icons/user.ts","../../../../../../Studio/kodiack-dashboard-5500/node_modules/lucide-react/src/icons/calendar-check.ts","../../../../../../Studio/kodiack-dashboard-5500/src/app/settings/RoleGate.tsx","../../../../../../Studio/kodiack-dashboard-5500/src/app/layout.tsx","../../../../../../Studio/kodiack-dashboard-5500/src/components/Sidebar.tsx","../../../../../../Studio/kodiack-dashboard-5500/src/components/ServerDetailPanel.tsx","../../../../../../Studio/kodiack-dashboard-5500/src/app/contexts/DeveloperContext.tsx"],"sourcesContent":["__turbopack_context__.v({\n  \"className\": \"geist_a71539c9-module__T19VSG__className\",\n  \"variable\": \"geist_a71539c9-module__T19VSG__variable\",\n});\n","__turbopack_context__.v({\n  \"className\": \"geist_mono_8d43a2aa-module__8Li5zG__className\",\n  \"variable\": \"geist_mono_8d43a2aa-module__8Li5zG__variable\",\n});\n","import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22Geist%22,%22arguments%22:[{%22variable%22:%22--font-geist-sans%22,%22subsets%22:[%22latin%22]}],%22variableName%22:%22geistSans%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Geist', 'Geist Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n","import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22Geist_Mono%22,%22arguments%22:[{%22variable%22:%22--font-geist-mono%22,%22subsets%22:[%22latin%22]}],%22variableName%22:%22geistMono%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Geist Mono', 'Geist Mono Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n","'use client'\r\n\r\nimport { useState, useEffect, useRef } from 'react'\r\nimport { Clock } from 'lucide-react'\r\nimport { supabase } from '../lib/supabase'\r\n\r\ninterface TimePunch {\r\n  id: string\r\n  user_id: string\r\n  clock_in: string\r\n  clock_out: string | null\r\n  total_hours: number | null\r\n  status: string\r\n}\r\n\r\ninterface BreakPeriod {\r\n  id: string\r\n  time_punch_id: string\r\n  break_start: string\r\n  break_end: string | null\r\n  break_type: 'break' | 'lunch'\r\n}\r\n\r\nexport default function TimeClockDropdown() {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [currentUser, setCurrentUser] = useState<any>(null)\r\n  const [clockState, setClockState] = useState<'clocked_out' | 'working' | 'on_break' | 'on_lunch'>('clocked_out')\r\n  const [currentPunch, setCurrentPunch] = useState<TimePunch | null>(null)\r\n  const [currentBreak, setCurrentBreak] = useState<BreakPeriod | null>(null)\r\n  const [duration, setDuration] = useState(0)\r\n  const [needsBreak, setNeedsBreak] = useState(false)\r\n  const [needsLunch, setNeedsLunch] = useState(false)\r\n  const [breakOverdue, setBreakOverdue] = useState(false)\r\n  const dropdownRef = useRef<HTMLDivElement>(null)\r\n\r\n  useEffect(() => {\r\n    loadUser()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      loadClockStatus()\r\n      const interval = setInterval(loadClockStatus, 30000) // Check every 30 seconds\r\n      return () => clearInterval(interval)\r\n    }\r\n  }, [currentUser])\r\n\r\n  useEffect(() => {\r\n    // Update duration every second when clocked in\r\n    if (currentPunch && clockState !== 'clocked_out') {\r\n      const interval = setInterval(() => {\r\n        updateDuration()\r\n      }, 1000)\r\n      return () => clearInterval(interval)\r\n    }\r\n  }, [currentPunch, clockState])\r\n\r\n  // Close dropdown when clicking outside\r\n  useEffect(() => {\r\n    function handleClickOutside(event: MouseEvent) {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n        setIsOpen(false)\r\n      }\r\n    }\r\n    document.addEventListener('mousedown', handleClickOutside)\r\n    return () => document.removeEventListener('mousedown', handleClickOutside)\r\n  }, [])\r\n\r\n  async function loadUser() {\r\n    const { data: { user } } = await supabase.auth.getUser()\r\n    if (user) {\r\n      // Get user details from dev_users table\r\n      const { data: devUser } = await supabase\r\n        .from('dev_users')\r\n        .select('*')\r\n        .eq('id', user.id)\r\n        .single()\r\n\r\n      setCurrentUser(devUser || { id: user.id, email: user.email })\r\n    }\r\n  }\r\n\r\n  async function loadClockStatus() {\r\n    if (!currentUser) return\r\n\r\n    const today = new Date().toISOString().split('T')[0]\r\n\r\n    // Get today's active punch from dev_time_punches\r\n    const { data: punches } = await supabase\r\n      .from('dev_time_punches')\r\n      .select('*')\r\n      .eq('user_id', currentUser.id)\r\n      .gte('clock_in', `${today}T00:00:00`)\r\n      .is('clock_out', null)\r\n      .order('clock_in', { ascending: false })\r\n      .limit(1)\r\n\r\n    if (punches && punches.length > 0) {\r\n      const punch = punches[0] as TimePunch\r\n      setCurrentPunch(punch)\r\n\r\n      // Check for active break from dev_break_periods\r\n      const { data: breaks } = await supabase\r\n        .from('dev_break_periods')\r\n        .select('*')\r\n        .eq('time_punch_id', punch.id)\r\n        .is('break_end', null)\r\n        .order('break_start', { ascending: false })\r\n        .limit(1)\r\n\r\n      if (breaks && breaks.length > 0) {\r\n        const breakPeriod = breaks[0] as BreakPeriod\r\n        setCurrentBreak(breakPeriod)\r\n        setClockState(breakPeriod.break_type === 'lunch' ? 'on_lunch' : 'on_break')\r\n      } else {\r\n        setCurrentBreak(null)\r\n        setClockState('working')\r\n        checkBreakAlerts(punch)\r\n      }\r\n\r\n      updateDuration()\r\n    } else {\r\n      setCurrentPunch(null)\r\n      setCurrentBreak(null)\r\n      setClockState('clocked_out')\r\n      setNeedsBreak(false)\r\n      setNeedsLunch(false)\r\n      setBreakOverdue(false)\r\n    }\r\n  }\r\n\r\n  function checkBreakAlerts(punch: TimePunch) {\r\n    const hoursWorked = (new Date().getTime() - new Date(punch.clock_in).getTime()) / (1000 * 60 * 60)\r\n\r\n    // Check if breaks were taken\r\n    supabase\r\n      .from('dev_break_periods')\r\n      .select('*')\r\n      .eq('time_punch_id', punch.id)\r\n      .then(({ data: breaks }) => {\r\n        const hadBreak = breaks && breaks.some((b: BreakPeriod) => b.break_type === 'break')\r\n        const hadLunch = breaks && breaks.some((b: BreakPeriod) => b.break_type === 'lunch')\r\n\r\n        // Set alerts - 3 hours for break, 5.5 hours for lunch\r\n        setNeedsBreak(!hadBreak && hoursWorked >= 3)\r\n        setNeedsLunch(!hadLunch && hoursWorked >= 5.5)\r\n        setBreakOverdue(!hadBreak && hoursWorked >= 5.5) // Red at 5.5 hours if no break\r\n      })\r\n  }\r\n\r\n  function updateDuration() {\r\n    if (!currentPunch) return\r\n\r\n    if (currentBreak) {\r\n      const breakDuration = (new Date().getTime() - new Date(currentBreak.break_start).getTime()) / 1000\r\n      setDuration(breakDuration)\r\n    } else {\r\n      const workDuration = (new Date().getTime() - new Date(currentPunch.clock_in).getTime()) / 1000\r\n      setDuration(workDuration)\r\n    }\r\n  }\r\n\r\n  function formatDuration(seconds: number) {\r\n    const hours = Math.floor(seconds / 3600)\r\n    const minutes = Math.floor((seconds % 3600) / 60)\r\n    return `${hours}h ${minutes}m`\r\n  }\r\n\r\n  async function handleStartWork() {\r\n    if (!currentUser) return\r\n\r\n    const { data, error } = await supabase\r\n      .from('dev_time_punches')\r\n      .insert([{\r\n        user_id: currentUser.id,\r\n        clock_in: new Date().toISOString(),\r\n        status: 'active'\r\n      }])\r\n      .select()\r\n      .single()\r\n\r\n    if (error) {\r\n      console.error('Error clocking in:', error)\r\n      alert('Error starting work')\r\n      return\r\n    }\r\n\r\n    await loadClockStatus()\r\n    setIsOpen(false)\r\n  }\r\n\r\n  async function handleStartBreak(breakType: 'break' | 'lunch' = 'break') {\r\n    if (!currentPunch) return\r\n\r\n    const { data, error } = await supabase\r\n      .from('dev_break_periods')\r\n      .insert([{\r\n        time_punch_id: currentPunch.id,\r\n        break_start: new Date().toISOString(),\r\n        break_type: breakType\r\n      }])\r\n      .select()\r\n      .single()\r\n\r\n    if (error) {\r\n      console.error('Error starting break:', error)\r\n      alert('Error starting break: ' + error.message)\r\n      return\r\n    }\r\n\r\n    await loadClockStatus()\r\n    setIsOpen(false)\r\n  }\r\n\r\n  async function handleEndBreak() {\r\n    if (!currentBreak) return\r\n\r\n    const { error } = await supabase\r\n      .from('dev_break_periods')\r\n      .update({ break_end: new Date().toISOString() })\r\n      .eq('id', currentBreak.id)\r\n\r\n    if (error) {\r\n      console.error('Error ending break:', error)\r\n      alert('Error ending break')\r\n      return\r\n    }\r\n\r\n    await loadClockStatus()\r\n    setIsOpen(false)\r\n  }\r\n\r\n  async function handleEndWork() {\r\n    if (!currentPunch) return\r\n\r\n    // End any active break first\r\n    if (currentBreak) {\r\n      await supabase\r\n        .from('dev_break_periods')\r\n        .update({ break_end: new Date().toISOString() })\r\n        .eq('id', currentBreak.id)\r\n    }\r\n\r\n    const clockOut = new Date()\r\n    const clockIn = new Date(currentPunch.clock_in)\r\n\r\n    // Get all break periods for this punch\r\n    const { data: breaks } = await supabase\r\n      .from('dev_break_periods')\r\n      .select('*')\r\n      .eq('time_punch_id', currentPunch.id)\r\n\r\n    // Calculate total lunch time (unpaid - subtract from hours)\r\n    let totalLunchMinutes = 0\r\n    if (breaks) {\r\n      breaks.forEach((b: BreakPeriod) => {\r\n        if (b.break_type === 'lunch' && b.break_start && b.break_end) {\r\n          const lunchStart = new Date(b.break_start)\r\n          const lunchEnd = new Date(b.break_end)\r\n          totalLunchMinutes += (lunchEnd.getTime() - lunchStart.getTime()) / (1000 * 60)\r\n        }\r\n      })\r\n    }\r\n\r\n    // Calculate total hours = (clock_out - clock_in) - lunch_time\r\n    const totalMinutes = (clockOut.getTime() - clockIn.getTime()) / (1000 * 60)\r\n    const workedMinutes = totalMinutes - totalLunchMinutes\r\n    const totalHours = (workedMinutes / 60).toFixed(2)\r\n\r\n    const { error } = await supabase\r\n      .from('dev_time_punches')\r\n      .update({\r\n        clock_out: clockOut.toISOString(),\r\n        total_hours: parseFloat(totalHours),\r\n        status: 'completed'\r\n      })\r\n      .eq('id', currentPunch.id)\r\n\r\n    if (error) {\r\n      console.error('Error clocking out:', error)\r\n      alert('Error ending work')\r\n      return\r\n    }\r\n\r\n    await loadClockStatus()\r\n    setIsOpen(false)\r\n  }\r\n\r\n  // Determine icon color and animation\r\n  function getIconClasses() {\r\n    const baseClasses = \"w-5 h-5 transition-colors\"\r\n\r\n    if (breakOverdue) {\r\n      return `${baseClasses} text-red-400 animate-pulse`\r\n    }\r\n    if (needsBreak || needsLunch) {\r\n      return `${baseClasses} text-orange-400 animate-pulse`\r\n    }\r\n    if (clockState === 'on_break' || clockState === 'on_lunch') {\r\n      return `${baseClasses} text-sky-400`\r\n    }\r\n    if (clockState === 'working') {\r\n      return `${baseClasses} text-emerald-400`\r\n    }\r\n    return `${baseClasses} text-gray-400`\r\n  }\r\n\r\n  function getButtonClasses() {\r\n    const baseClasses = \"w-10 h-10 rounded-xl flex items-center justify-center transition-all\"\r\n\r\n    if (breakOverdue) {\r\n      return `${baseClasses} bg-red-500/20 hover:bg-red-500/30 border border-red-500/50`\r\n    }\r\n    if (needsBreak || needsLunch) {\r\n      return `${baseClasses} bg-orange-500/20 hover:bg-orange-500/30 border border-orange-500/50`\r\n    }\r\n    if (clockState === 'on_break' || clockState === 'on_lunch') {\r\n      return `${baseClasses} bg-sky-500/20 hover:bg-sky-500/30 border border-sky-500/50`\r\n    }\r\n    if (clockState === 'working') {\r\n      return `${baseClasses} bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50`\r\n    }\r\n    return `${baseClasses} bg-gray-700 hover:bg-gray-600 border border-gray-600`\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative\" ref={dropdownRef}>\r\n      <button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className={getButtonClasses()}\r\n        title={\r\n          clockState === 'clocked_out'\r\n            ? 'Time Clock - Not clocked in'\r\n            : clockState === 'working'\r\n            ? `Working - ${formatDuration(duration)}${needsBreak ? ' - Break time!' : ''}${needsLunch ? ' - Lunch time!' : ''}${breakOverdue ? ' - OVERDUE!' : ''}`\r\n            : clockState === 'on_break'\r\n            ? `On Break - ${formatDuration(duration)}`\r\n            : `On Lunch - ${formatDuration(duration)}`\r\n        }\r\n      >\r\n        <Clock className={getIconClasses()} />\r\n\r\n        {/* Notification dot for alerts */}\r\n        {(needsBreak || needsLunch || breakOverdue) && (\r\n          <span className=\"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse\"></span>\r\n        )}\r\n      </button>\r\n\r\n      {isOpen && (\r\n        <div className=\"absolute right-0 mt-2 w-72 bg-gray-800 rounded-xl shadow-xl border border-gray-700 overflow-hidden z-50\">\r\n          {clockState === 'clocked_out' && (\r\n            <div className=\"p-4\">\r\n              <div className=\"text-sm text-gray-400 mb-3 text-center\">\r\n                Not clocked in\r\n              </div>\r\n              <button\r\n                onClick={handleStartWork}\r\n                className=\"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-2.5 px-4 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2\"\r\n              >\r\n                <Clock className=\"w-4 h-4\" />\r\n                <span>Start Work</span>\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {clockState === 'working' && (\r\n            <div className=\"p-4\">\r\n              <div className=\"mb-3 pb-3 border-b border-gray-700\">\r\n                <div className=\"flex items-center justify-between mb-1\">\r\n                  <span className=\"text-sm font-medium text-gray-300\">Working</span>\r\n                  <span className=\"text-xs px-2 py-1 bg-emerald-500/20 text-emerald-400 rounded-full border border-emerald-500/50\">Active</span>\r\n                </div>\r\n                <div className=\"text-2xl font-bold text-white\">\r\n                  {formatDuration(duration)}\r\n                </div>\r\n                <div className=\"text-xs text-gray-500 mt-1\">\r\n                  Started {currentPunch && new Date(currentPunch.clock_in).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Break alerts */}\r\n              {(needsBreak || needsLunch || breakOverdue) && (\r\n                <div className={`mb-3 p-2 rounded-lg text-xs ${breakOverdue ? 'bg-red-500/20 border border-red-500/50 text-red-300' : 'bg-orange-500/20 border border-orange-500/50 text-orange-300'}`}>\r\n                  {breakOverdue && 'üî¥ Break overdue! (5.5+ hours)'}\r\n                  {!breakOverdue && needsLunch && 'üçΩÔ∏è Lunch break recommended'}\r\n                  {!breakOverdue && needsBreak && !needsLunch && '‚òï Break time approaching'}\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"space-y-2\">\r\n                <button\r\n                  onClick={() => handleStartBreak('break')}\r\n                  className=\"w-full bg-orange-600 hover:bg-orange-700 text-white py-2 px-4 rounded-lg font-medium transition-colors\"\r\n                >\r\n                  ‚òï Start Break\r\n                </button>\r\n                <button\r\n                  onClick={() => handleStartBreak('lunch')}\r\n                  className=\"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg font-medium transition-colors\"\r\n                >\r\n                  üçΩÔ∏è Start Lunch\r\n                </button>\r\n                <button\r\n                  onClick={handleEndWork}\r\n                  className=\"w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg font-medium transition-colors\"\r\n                >\r\n                  üèÅ End Work\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {(clockState === 'on_break' || clockState === 'on_lunch') && (\r\n            <div className=\"p-4\">\r\n              <div className=\"mb-3 pb-3 border-b border-gray-700\">\r\n                <div className=\"flex items-center justify-between mb-1\">\r\n                  <span className=\"text-sm font-medium text-gray-300\">\r\n                    {clockState === 'on_lunch' ? 'üçΩÔ∏è On Lunch' : '‚òï On Break'}\r\n                  </span>\r\n                  <span className=\"text-xs px-2 py-1 bg-sky-500/20 text-sky-400 rounded-full border border-sky-500/50\">Break</span>\r\n                </div>\r\n                <div className=\"text-2xl font-bold text-white\">\r\n                  {formatDuration(duration)}\r\n                </div>\r\n                <div className=\"text-xs text-gray-500 mt-1\">\r\n                  Started {currentBreak && new Date(currentBreak.break_start).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })}\r\n                </div>\r\n              </div>\r\n\r\n              <button\r\n                onClick={handleEndBreak}\r\n                className=\"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-2.5 px-4 rounded-lg font-medium transition-colors\"\r\n              >\r\n                ‚úÖ End Break\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","'use client'\r\n\r\nimport { useState, useEffect, useRef } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Settings } from 'lucide-react'\r\n\r\ninterface SettingsDropdownProps {\r\n  user?: any\r\n}\r\n\r\nexport default function SettingsDropdown({ user }: SettingsDropdownProps) {\r\n  const router = useRouter()\r\n  const [showMenu, setShowMenu] = useState(false)\r\n  const dropdownRef = useRef<HTMLDivElement>(null)\r\n\r\n  // Dev Command Center settings structure\r\n  const settingsStructure = {\r\n    servers: {\r\n      title: 'üñ•Ô∏è SERVERS',\r\n      items: [\r\n        { label: 'Engine Slots', path: '/settings/engine-slots', description: 'Assign tradelines to slots', permission: 'canManageServers' },\r\n        { label: 'Patcher Config', path: '/settings/patcher', description: 'API endpoints & deployment', permission: 'canManageServers' },\r\n        { label: 'Environment Variables', path: '/settings/env-vars', description: 'Server .env configuration', permission: 'canManageServers' },\r\n      ]\r\n    },\r\n    credentials: {\r\n      title: 'üîë CREDENTIALS',\r\n      items: [\r\n        { label: 'API Keys', path: '/settings/api-keys', description: 'Claude, OpenAI, Supabase', permission: 'canManageCredentials' },\r\n        { label: 'Source Logins', path: '/settings/source-logins', description: 'SAM.gov, PlanetBids, etc.', permission: 'canManageCredentials' },\r\n        { label: 'SSH Keys', path: '/settings/ssh-keys', description: 'Server access keys', permission: 'canManageCredentials' },\r\n      ]\r\n    },\r\n    team: {\r\n      title: 'üë• TEAM',\r\n      items: [\r\n        { label: 'Team Members', path: '/team/members', description: 'Staff accounts & access', permission: 'canManageTeam' },\r\n        { label: 'Roles & Permissions', path: '/team/roles', description: 'Access control settings', permission: 'canManageTeam' },\r\n        { label: 'Timesheets', path: '/settings/timesheets', description: 'Time tracking settings', permission: 'canManageTeam' },\r\n      ]\r\n    },\r\n    alerts: {\r\n      title: 'üîî ALERTS',\r\n      items: [\r\n        { label: 'Alert Rules', path: '/settings/alert-rules', description: 'When to notify', permission: 'canManageAlerts' },\r\n        { label: 'Notification Channels', path: '/settings/notifications', description: 'Slack, email, SMS', permission: 'canManageAlerts' },\r\n        { label: 'Health Thresholds', path: '/settings/health-thresholds', description: 'Server health limits', permission: 'canManageAlerts' },\r\n      ]\r\n    },\r\n    system: {\r\n      title: '‚öôÔ∏è SYSTEM',\r\n      items: [\r\n        { label: 'Dashboard Settings', path: '/settings/dashboard', description: 'UI preferences', permission: 'canManageSystem' },\r\n        { label: 'Audit Logs', path: '/settings/audit-logs', description: 'System activity history', permission: 'canManageSystem' },\r\n        { label: 'Database', path: '/settings/database', description: 'Supabase connection', permission: 'canManageSystem' },\r\n      ]\r\n    },\r\n    clients: {\r\n      title: 'üè¢ CLIENTS',\r\n      items: [\r\n        { label: 'Add Client', path: '/settings/clients/new', description: 'Create new dev_client', permission: 'canManageClients' },\r\n        { label: 'Manage Clients', path: '/settings/clients', description: 'View & edit clients', permission: 'canManageClients' },\r\n      ]\r\n    },\r\n  }\r\n\r\n  // Close dropdown when clicking outside\r\n  useEffect(() => {\r\n    function handleClickOutside(event: MouseEvent) {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n        setShowMenu(false)\r\n      }\r\n    }\r\n    document.addEventListener('mousedown', handleClickOutside)\r\n    return () => document.removeEventListener('mousedown', handleClickOutside)\r\n  }, [])\r\n\r\n  const getVisibleSections = () => {\r\n    // For now, show all sections (later filter by user permissions)\r\n    return settingsStructure\r\n  }\r\n\r\n  const visibleSections = getVisibleSections()\r\n\r\n  return (\r\n    <div className=\"relative\" ref={dropdownRef}>\r\n      <button\r\n        onClick={() => setShowMenu(!showMenu)}\r\n        className=\"w-10 h-10 bg-gray-700 hover:bg-gray-600 rounded-xl flex items-center justify-center transition-colors border border-gray-600\"\r\n        title=\"Settings\"\r\n      >\r\n        <Settings className=\"w-5 h-5 text-gray-300\" />\r\n      </button>\r\n\r\n      {showMenu && (\r\n        <>\r\n          <div className=\"fixed inset-0 z-40\" onClick={() => setShowMenu(false)} />\r\n          <div className=\"absolute right-0 mt-2 rounded-xl shadow-xl border border-gray-700 py-4 z-50 bg-gray-800\" style={{ minWidth: '650px' }}>\r\n            <div className=\"px-4 pb-3 border-b border-gray-700\">\r\n              <p className=\"text-xs text-gray-400 uppercase font-bold tracking-wider\">‚öôÔ∏è DEV COMMAND CENTER SETTINGS</p>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-3 gap-4 px-4 pt-4\">\r\n              {/* Column 1 */}\r\n              <div className=\"space-y-4\">\r\n                {visibleSections.servers && (\r\n                  <div>\r\n                    <p className=\"text-xs text-gray-500 uppercase font-bold mb-2\">{visibleSections.servers.title}</p>\r\n                    <div className=\"space-y-1\">\r\n                      {visibleSections.servers.items.map((item) => (\r\n                        <button\r\n                          key={item.path}\r\n                          onClick={() => { router.push(item.path); setShowMenu(false); }}\r\n                          className=\"w-full px-3 py-2 text-left text-gray-300 hover:bg-gray-700 hover:text-white transition-all rounded-lg\"\r\n                        >\r\n                          <p className=\"font-medium text-sm\">{item.label}</p>\r\n                          <p className=\"text-xs text-gray-500\">{item.description}</p>\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {visibleSections.alerts && (\r\n                  <div>\r\n                    <p className=\"text-xs text-gray-500 uppercase font-bold mb-2\">{visibleSections.alerts.title}</p>\r\n                    <div className=\"space-y-1\">\r\n                      {visibleSections.alerts.items.map((item) => (\r\n                        <button\r\n                          key={item.path}\r\n                          onClick={() => { router.push(item.path); setShowMenu(false); }}\r\n                          className=\"w-full px-3 py-2 text-left text-gray-300 hover:bg-gray-700 hover:text-white transition-all rounded-lg\"\r\n                        >\r\n                          <p className=\"font-medium text-sm\">{item.label}</p>\r\n                          <p className=\"text-xs text-gray-500\">{item.description}</p>\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Column 2 */}\r\n              <div className=\"space-y-4\">\r\n                {visibleSections.credentials && (\r\n                  <div>\r\n                    <p className=\"text-xs text-gray-500 uppercase font-bold mb-2\">{visibleSections.credentials.title}</p>\r\n                    <div className=\"space-y-1\">\r\n                      {visibleSections.credentials.items.map((item) => (\r\n                        <button\r\n                          key={item.path}\r\n                          onClick={() => { router.push(item.path); setShowMenu(false); }}\r\n                          className=\"w-full px-3 py-2 text-left text-gray-300 hover:bg-gray-700 hover:text-white transition-all rounded-lg\"\r\n                        >\r\n                          <p className=\"font-medium text-sm\">{item.label}</p>\r\n                          <p className=\"text-xs text-gray-500\">{item.description}</p>\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {visibleSections.system && (\r\n                  <div>\r\n                    <p className=\"text-xs text-gray-500 uppercase font-bold mb-2\">{visibleSections.system.title}</p>\r\n                    <div className=\"space-y-1\">\r\n                      {visibleSections.system.items.map((item) => (\r\n                        <button\r\n                          key={item.path}\r\n                          onClick={() => { router.push(item.path); setShowMenu(false); }}\r\n                          className=\"w-full px-3 py-2 text-left text-gray-300 hover:bg-gray-700 hover:text-white transition-all rounded-lg\"\r\n                        >\r\n                          <p className=\"font-medium text-sm\">{item.label}</p>\r\n                          <p className=\"text-xs text-gray-500\">{item.description}</p>\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {visibleSections.clients && (\r\n                  <div>\r\n                    <p className=\"text-xs text-gray-500 uppercase font-bold mb-2\">{visibleSections.clients.title}</p>\r\n                    <div className=\"space-y-1\">\r\n                      {visibleSections.clients.items.map((item) => (\r\n                        <button\r\n                          key={item.path}\r\n                          onClick={() => { router.push(item.path); setShowMenu(false); }}\r\n                          className=\"w-full px-3 py-2 text-left text-gray-300 hover:bg-gray-700 hover:text-white transition-all rounded-lg\"\r\n                        >\r\n                          <p className=\"font-medium text-sm\">{item.label}</p>\r\n                          <p className=\"text-xs text-gray-500\">{item.description}</p>\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Column 3 */}\r\n              <div className=\"space-y-4\">\r\n                {visibleSections.team && (\r\n                  <div>\r\n                    <p className=\"text-xs text-gray-500 uppercase font-bold mb-2\">{visibleSections.team.title}</p>\r\n                    <div className=\"space-y-1\">\r\n                      {visibleSections.team.items.map((item) => (\r\n                        <button\r\n                          key={item.path}\r\n                          onClick={() => { router.push(item.path); setShowMenu(false); }}\r\n                          className=\"w-full px-3 py-2 text-left text-gray-300 hover:bg-gray-700 hover:text-white transition-all rounded-lg\"\r\n                        >\r\n                          <p className=\"font-medium text-sm\">{item.label}</p>\r\n                          <p className=\"text-xs text-gray-500\">{item.description}</p>\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Quick Links */}\r\n                <div>\r\n                  <p className=\"text-xs text-gray-500 uppercase font-bold mb-2\">üîó QUICK LINKS</p>\r\n                  <div className=\"space-y-1\">\r\n                    <button\r\n                      onClick={() => { router.push('/dev-controls'); setShowMenu(false); }}\r\n                      className=\"w-full px-3 py-2 text-left text-gray-300 hover:bg-gray-700 hover:text-white transition-all rounded-lg\"\r\n                    >\r\n                      <p className=\"font-medium text-sm\">Dev Controls</p>\r\n                      <p className=\"text-xs text-gray-500\">Deploy, SSH, Git, Logs</p>\r\n                    </button>\r\n                    <button\r\n                      onClick={() => { router.push('/helpdesk'); setShowMenu(false); }}\r\n                      className=\"w-full px-3 py-2 text-left text-gray-300 hover:bg-gray-700 hover:text-white transition-all rounded-lg\"\r\n                    >\r\n                      <p className=\"font-medium text-sm\">Helpdesk</p>\r\n                      <p className=\"text-xs text-gray-500\">System & user tickets</p>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","'use client';\r\n\r\nimport { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { MessageCircle, Send, Hash, X, Code, Circle, GripHorizontal, Minimize2, Maximize2 } from 'lucide-react';\r\n\r\ninterface ChatMessage {\r\n  id: string;\r\n  channel_id: string;\r\n  user_id: string;\r\n  user_name: string;\r\n  user_avatar?: string;\r\n  content: string;\r\n  created_at: string;\r\n  is_code?: boolean;\r\n}\r\n\r\ninterface ChatChannel {\r\n  id: string;\r\n  name: string;\r\n  type: 'channel' | 'dm';\r\n  description?: string;\r\n  unread_count: number;\r\n  last_message?: string;\r\n  participants?: string[];\r\n}\r\n\r\nconst MIN_WIDTH = 400;\r\nconst MIN_HEIGHT = 350;\r\nconst DEFAULT_WIDTH = 500;\r\nconst DEFAULT_HEIGHT = 500;\r\n\r\nexport default function ChatDropdown() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [activeChannel, setActiveChannel] = useState<ChatChannel | null>(null);\r\n  const [messages, setMessages] = useState<ChatMessage[]>([]);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [isCodeMode, setIsCodeMode] = useState(false);\r\n  const [unreadTotal, setUnreadTotal] = useState(0);\r\n\r\n  // Dragging state\r\n  const [position, setPosition] = useState({ x: 0, y: 0 });\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\r\n\r\n  // Resizing state\r\n  const [size, setSize] = useState({ width: DEFAULT_WIDTH, height: DEFAULT_HEIGHT });\r\n  const [isResizing, setIsResizing] = useState(false);\r\n  const [resizeStart, setResizeStart] = useState({ x: 0, y: 0, width: 0, height: 0 });\r\n  const [isMaximized, setIsMaximized] = useState(false);\r\n  const [preMaxSize, setPreMaxSize] = useState({ width: DEFAULT_WIDTH, height: DEFAULT_HEIGHT, x: 0, y: 0 });\r\n\r\n  const dropdownRef = useRef<HTMLDivElement>(null);\r\n  const panelRef = useRef<HTMLDivElement>(null);\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Mock channels - TODO: Load from dev_chat_channels\r\n  const [channels, setChannels] = useState<ChatChannel[]>([\r\n    { id: '1', name: 'general', type: 'channel', description: 'General team discussion', unread_count: 2 },\r\n    { id: '2', name: 'dev-updates', type: 'channel', description: 'Development updates & announcements', unread_count: 0 },\r\n    { id: '3', name: 'code-review', type: 'channel', description: 'Code snippets and reviews', unread_count: 1 },\r\n    { id: '4', name: 'deployments', type: 'channel', description: 'Deployment coordination', unread_count: 0 },\r\n  ]);\r\n\r\n  const [directMessages, setDirectMessages] = useState<ChatChannel[]>([\r\n    { id: 'dm1', name: 'Michael', type: 'dm', unread_count: 1, participants: ['Michael'] },\r\n    { id: 'dm2', name: 'Dev Team', type: 'dm', unread_count: 0, participants: ['Dev Team'] },\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    const channelUnread = channels.reduce((sum, ch) => sum + ch.unread_count, 0);\r\n    const dmUnread = directMessages.reduce((sum, dm) => sum + dm.unread_count, 0);\r\n    setUnreadTotal(channelUnread + dmUnread);\r\n  }, [channels, directMessages]);\r\n\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  // Drag handlers\r\n  const handleMouseDown = useCallback((e: React.MouseEvent) => {\r\n    if (isMaximized) return;\r\n    setIsDragging(true);\r\n    const rect = panelRef.current?.getBoundingClientRect();\r\n    if (rect) {\r\n      setDragOffset({\r\n        x: e.clientX - rect.left,\r\n        y: e.clientY - rect.top\r\n      });\r\n    }\r\n    e.preventDefault();\r\n  }, [isMaximized]);\r\n\r\n  const handleMouseMove = useCallback((e: MouseEvent) => {\r\n    if (isDragging) {\r\n      const newX = e.clientX - dragOffset.x;\r\n      const newY = e.clientY - dragOffset.y;\r\n\r\n      // Keep within viewport bounds\r\n      const maxX = window.innerWidth - size.width;\r\n      const maxY = window.innerHeight - size.height;\r\n\r\n      setPosition({\r\n        x: Math.max(0, Math.min(newX, maxX)),\r\n        y: Math.max(0, Math.min(newY, maxY))\r\n      });\r\n    }\r\n\r\n    if (isResizing) {\r\n      const deltaX = e.clientX - resizeStart.x;\r\n      const deltaY = e.clientY - resizeStart.y;\r\n\r\n      setSize({\r\n        width: Math.max(MIN_WIDTH, resizeStart.width + deltaX),\r\n        height: Math.max(MIN_HEIGHT, resizeStart.height + deltaY)\r\n      });\r\n    }\r\n  }, [isDragging, isResizing, dragOffset, resizeStart, size.width, size.height]);\r\n\r\n  const handleMouseUp = useCallback(() => {\r\n    setIsDragging(false);\r\n    setIsResizing(false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isDragging || isResizing) {\r\n      document.addEventListener('mousemove', handleMouseMove);\r\n      document.addEventListener('mouseup', handleMouseUp);\r\n      return () => {\r\n        document.removeEventListener('mousemove', handleMouseMove);\r\n        document.removeEventListener('mouseup', handleMouseUp);\r\n      };\r\n    }\r\n  }, [isDragging, isResizing, handleMouseMove, handleMouseUp]);\r\n\r\n  // Resize handlers\r\n  const handleResizeStart = useCallback((e: React.MouseEvent) => {\r\n    if (isMaximized) return;\r\n    setIsResizing(true);\r\n    setResizeStart({\r\n      x: e.clientX,\r\n      y: e.clientY,\r\n      width: size.width,\r\n      height: size.height\r\n    });\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  }, [size, isMaximized]);\r\n\r\n  // Toggle maximize\r\n  const toggleMaximize = () => {\r\n    if (isMaximized) {\r\n      setSize({ width: preMaxSize.width, height: preMaxSize.height });\r\n      setPosition({ x: preMaxSize.x, y: preMaxSize.y });\r\n      setIsMaximized(false);\r\n    } else {\r\n      setPreMaxSize({ ...size, ...position });\r\n      setSize({ width: window.innerWidth - 100, height: window.innerHeight - 100 });\r\n      setPosition({ x: 50, y: 50 });\r\n      setIsMaximized(true);\r\n    }\r\n  };\r\n\r\n  // Initialize position when opening\r\n  useEffect(() => {\r\n    if (isOpen && position.x === 0 && position.y === 0) {\r\n      // Position near the button (top right area)\r\n      setPosition({\r\n        x: window.innerWidth - size.width - 20,\r\n        y: 80\r\n      });\r\n    }\r\n  }, [isOpen, position.x, position.y, size.width]);\r\n\r\n  function loadChannelMessages(channel: ChatChannel) {\r\n    setActiveChannel(channel);\r\n    if (channel.type === 'channel') {\r\n      setChannels(prev => prev.map(ch =>\r\n        ch.id === channel.id ? { ...ch, unread_count: 0 } : ch\r\n      ));\r\n    } else {\r\n      setDirectMessages(prev => prev.map(dm =>\r\n        dm.id === channel.id ? { ...dm, unread_count: 0 } : dm\r\n      ));\r\n    }\r\n\r\n    const now = new Date();\r\n    setMessages([\r\n      {\r\n        id: '1',\r\n        channel_id: channel.id,\r\n        user_id: 'michael',\r\n        user_name: 'Michael',\r\n        content: 'Hey team, just pushed the new tradelines update',\r\n        created_at: new Date(now.getTime() - 3600000).toISOString()\r\n      },\r\n      {\r\n        id: '2',\r\n        channel_id: channel.id,\r\n        user_id: 'dev',\r\n        user_name: 'Dev',\r\n        content: 'Nice! I\\'ll run the tests on it',\r\n        created_at: new Date(now.getTime() - 3500000).toISOString()\r\n      },\r\n      {\r\n        id: '3',\r\n        channel_id: channel.id,\r\n        user_id: 'michael',\r\n        user_name: 'Michael',\r\n        content: 'Here\\'s the code snippet for the API endpoint:',\r\n        created_at: new Date(now.getTime() - 3400000).toISOString()\r\n      },\r\n      {\r\n        id: '4',\r\n        channel_id: channel.id,\r\n        user_id: 'michael',\r\n        user_name: 'Michael',\r\n        content: `async function fetchTradelines(userId: string) {\\n  const response = await fetch('/api/tradelines/' + userId);\\n  return response.json();\\n}`,\r\n        created_at: new Date(now.getTime() - 3300000).toISOString(),\r\n        is_code: true\r\n      },\r\n      {\r\n        id: '5',\r\n        channel_id: channel.id,\r\n        user_id: 'dev',\r\n        user_name: 'Dev',\r\n        content: 'Looks good! I\\'ll integrate it into the portal',\r\n        created_at: new Date(now.getTime() - 600000).toISOString()\r\n      },\r\n    ]);\r\n  }\r\n\r\n  function sendMessage() {\r\n    if (!newMessage.trim() || !activeChannel) return;\r\n\r\n    const message: ChatMessage = {\r\n      id: Date.now().toString(),\r\n      channel_id: activeChannel.id,\r\n      user_id: 'me',\r\n      user_name: 'You',\r\n      content: newMessage,\r\n      created_at: new Date().toISOString(),\r\n      is_code: isCodeMode\r\n    };\r\n\r\n    setMessages(prev => [...prev, message]);\r\n    setNewMessage('');\r\n    setIsCodeMode(false);\r\n  }\r\n\r\n  function formatTime(dateStr: string) {\r\n    const date = new Date(dateStr);\r\n    const now = new Date();\r\n    const diffMs = now.getTime() - date.getTime();\r\n    const diffMins = Math.floor(diffMs / 60000);\r\n\r\n    if (diffMins < 1) return 'just now';\r\n    if (diffMins < 60) return `${diffMins}m ago`;\r\n    if (diffMins < 1440) return `${Math.floor(diffMins / 60)}h ago`;\r\n    return date.toLocaleDateString();\r\n  }\r\n\r\n  function copyToClipboard(text: string) {\r\n    navigator.clipboard.writeText(text);\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative\" ref={dropdownRef}>\r\n      {/* Chat Button */}\r\n      <button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"w-10 h-10 bg-gray-700 text-white rounded-xl flex items-center justify-center hover:bg-gray-600 transition-colors relative\"\r\n        title=\"Team Chat\"\r\n      >\r\n        <MessageCircle className=\"w-5 h-5\" />\r\n        {unreadTotal > 0 && (\r\n          <span className=\"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold\">\r\n            {unreadTotal > 9 ? '9+' : unreadTotal}\r\n          </span>\r\n        )}\r\n      </button>\r\n\r\n      {/* Chat Panel - Fixed position, draggable and resizable */}\r\n      {isOpen && (\r\n        <div\r\n          ref={panelRef}\r\n          className=\"fixed bg-gray-800 rounded-xl shadow-2xl border border-gray-700 overflow-hidden z-[100]\"\r\n          style={{\r\n            width: size.width,\r\n            height: size.height,\r\n            left: position.x,\r\n            top: position.y,\r\n            cursor: isDragging ? 'grabbing' : 'default'\r\n          }}\r\n        >\r\n          {/* Title Bar - Draggable */}\r\n          <div\r\n            className=\"flex items-center justify-between px-3 py-2 bg-gray-900 border-b border-gray-700 cursor-grab select-none\"\r\n            onMouseDown={handleMouseDown}\r\n          >\r\n            <div className=\"flex items-center gap-2\">\r\n              <GripHorizontal className=\"w-4 h-4 text-gray-500\" />\r\n              <h3 className=\"text-white font-semibold text-sm\">Dev Chat</h3>\r\n              <span className=\"text-gray-500 text-xs\">Team messaging</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-1\">\r\n              <button\r\n                onClick={toggleMaximize}\r\n                className=\"p-1.5 rounded hover:bg-gray-700 text-gray-400 hover:text-white transition-colors\"\r\n                title={isMaximized ? 'Restore' : 'Maximize'}\r\n              >\r\n                {isMaximized ? <Minimize2 className=\"w-4 h-4\" /> : <Maximize2 className=\"w-4 h-4\" />}\r\n              </button>\r\n              <button\r\n                onClick={() => setIsOpen(false)}\r\n                className=\"p-1.5 rounded hover:bg-red-600 text-gray-400 hover:text-white transition-colors\"\r\n                title=\"Close\"\r\n              >\r\n                <X className=\"w-4 h-4\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex\" style={{ height: size.height - 44 }}>\r\n            {/* Left Sidebar - Channels */}\r\n            <div className=\"w-48 bg-gray-900 border-r border-gray-700 flex flex-col overflow-hidden\">\r\n              <div className=\"flex-1 overflow-y-auto\">\r\n                <div className=\"p-2\">\r\n                  <p className=\"text-gray-500 text-xs font-semibold uppercase px-2 mb-1\">Channels</p>\r\n                  {channels.map(channel => (\r\n                    <button\r\n                      key={channel.id}\r\n                      onClick={() => loadChannelMessages(channel)}\r\n                      className={`w-full flex items-center gap-2 px-2 py-1.5 rounded-lg text-left text-sm transition-colors ${\r\n                        activeChannel?.id === channel.id\r\n                          ? 'bg-blue-600 text-white'\r\n                          : 'text-gray-300 hover:bg-gray-800'\r\n                      }`}\r\n                    >\r\n                      <Hash className=\"w-4 h-4 flex-shrink-0\" />\r\n                      <span className=\"truncate flex-1\">{channel.name}</span>\r\n                      {channel.unread_count > 0 && (\r\n                        <span className=\"w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center\">\r\n                          {channel.unread_count}\r\n                        </span>\r\n                      )}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n\r\n                <div className=\"p-2\">\r\n                  <p className=\"text-gray-500 text-xs font-semibold uppercase px-2 mb-1\">Direct Messages</p>\r\n                  {directMessages.map(dm => (\r\n                    <button\r\n                      key={dm.id}\r\n                      onClick={() => loadChannelMessages(dm)}\r\n                      className={`w-full flex items-center gap-2 px-2 py-1.5 rounded-lg text-left text-sm transition-colors ${\r\n                        activeChannel?.id === dm.id\r\n                          ? 'bg-blue-600 text-white'\r\n                          : 'text-gray-300 hover:bg-gray-800'\r\n                      }`}\r\n                    >\r\n                      <Circle className=\"w-3 h-3 fill-green-500 text-green-500 flex-shrink-0\" />\r\n                      <span className=\"truncate flex-1\">{dm.name}</span>\r\n                      {dm.unread_count > 0 && (\r\n                        <span className=\"w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center\">\r\n                          {dm.unread_count}\r\n                        </span>\r\n                      )}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Right - Messages Area */}\r\n            <div className=\"flex-1 flex flex-col overflow-hidden\">\r\n              {activeChannel ? (\r\n                <>\r\n                  {/* Channel Header */}\r\n                  <div className=\"px-4 py-2 border-b border-gray-700 flex items-center justify-between flex-shrink-0\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      {activeChannel.type === 'channel' ? (\r\n                        <Hash className=\"w-5 h-5 text-gray-400\" />\r\n                      ) : (\r\n                        <Circle className=\"w-4 h-4 fill-green-500 text-green-500\" />\r\n                      )}\r\n                      <div>\r\n                        <p className=\"text-white font-medium\">{activeChannel.name}</p>\r\n                        {activeChannel.description && (\r\n                          <p className=\"text-gray-500 text-xs\">{activeChannel.description}</p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Messages */}\r\n                  <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n                    {messages.map(msg => (\r\n                      <div key={msg.id} className={`flex gap-3 ${msg.user_id === 'me' ? 'flex-row-reverse' : ''}`}>\r\n                        <div className={`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold flex-shrink-0 ${\r\n                          msg.user_id === 'me' ? 'bg-blue-600' : 'bg-purple-600'\r\n                        }`}>\r\n                          {msg.user_name.charAt(0)}\r\n                        </div>\r\n                        <div className={`flex-1 min-w-0 ${msg.user_id === 'me' ? 'text-right' : ''}`}>\r\n                          <div className={`flex items-center gap-2 ${msg.user_id === 'me' ? 'justify-end' : ''}`}>\r\n                            <span className=\"text-white text-sm font-medium\">{msg.user_name}</span>\r\n                            <span className=\"text-gray-500 text-xs\">{formatTime(msg.created_at)}</span>\r\n                          </div>\r\n                          {msg.is_code ? (\r\n                            <div className=\"relative mt-1\">\r\n                              <pre className=\"bg-gray-900 rounded-lg p-3 text-sm text-green-400 overflow-x-auto font-mono whitespace-pre-wrap break-all\">\r\n                                {msg.content}\r\n                              </pre>\r\n                              <button\r\n                                onClick={() => copyToClipboard(msg.content)}\r\n                                className=\"absolute top-2 right-2 text-gray-500 hover:text-white text-xs px-2 py-1 bg-gray-800 rounded\"\r\n                              >\r\n                                Copy\r\n                              </button>\r\n                            </div>\r\n                          ) : (\r\n                            <p className={`text-gray-300 text-sm mt-0.5 break-words ${\r\n                              msg.user_id === 'me' ? 'bg-blue-600/20 inline-block px-3 py-1.5 rounded-lg' : ''\r\n                            }`}>\r\n                              {msg.content}\r\n                            </p>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                    <div ref={messagesEndRef} />\r\n                  </div>\r\n\r\n                  {/* Message Input */}\r\n                  <div className=\"p-3 border-t border-gray-700 flex-shrink-0\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button\r\n                        onClick={() => setIsCodeMode(!isCodeMode)}\r\n                        className={`p-2 rounded-lg transition-colors ${\r\n                          isCodeMode ? 'bg-green-600 text-white' : 'bg-gray-700 text-gray-400 hover:text-white'\r\n                        }`}\r\n                        title=\"Code mode\"\r\n                      >\r\n                        <Code className=\"w-4 h-4\" />\r\n                      </button>\r\n                      <div className=\"flex-1 relative\">\r\n                        {isCodeMode ? (\r\n                          <textarea\r\n                            value={newMessage}\r\n                            onChange={(e) => setNewMessage(e.target.value)}\r\n                            placeholder=\"Paste code here...\"\r\n                            className=\"w-full bg-gray-900 text-green-400 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none font-mono resize-none\"\r\n                            rows={3}\r\n                            onKeyDown={(e) => {\r\n                              if (e.key === 'Enter' && e.ctrlKey) {\r\n                                sendMessage();\r\n                              }\r\n                            }}\r\n                          />\r\n                        ) : (\r\n                          <input\r\n                            type=\"text\"\r\n                            value={newMessage}\r\n                            onChange={(e) => setNewMessage(e.target.value)}\r\n                            placeholder={`Message #${activeChannel.name}`}\r\n                            className=\"w-full bg-gray-700 text-white rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                            onKeyDown={(e) => {\r\n                              if (e.key === 'Enter') {\r\n                                sendMessage();\r\n                              }\r\n                            }}\r\n                          />\r\n                        )}\r\n                      </div>\r\n                      <button\r\n                        onClick={sendMessage}\r\n                        disabled={!newMessage.trim()}\r\n                        className=\"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                      >\r\n                        <Send className=\"w-4 h-4\" />\r\n                      </button>\r\n                    </div>\r\n                    {isCodeMode && (\r\n                      <p className=\"text-gray-500 text-xs mt-1\">Press Ctrl+Enter to send code</p>\r\n                    )}\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <div className=\"flex-1 flex items-center justify-center text-gray-500\">\r\n                  <div className=\"text-center\">\r\n                    <MessageCircle className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\r\n                    <p className=\"text-sm\">Select a channel to start chatting</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Resize Handle */}\r\n          {!isMaximized && (\r\n            <div\r\n              className=\"absolute bottom-0 right-0 w-4 h-4 cursor-se-resize\"\r\n              onMouseDown={handleResizeStart}\r\n              style={{\r\n                background: 'linear-gradient(135deg, transparent 50%, #4B5563 50%)',\r\n                borderBottomRightRadius: '0.75rem'\r\n              }}\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Bot } from 'lucide-react';\r\n\r\n/**\r\n * AITeamChat - Chat with AI workers\r\n * Placeholder for now - will be implemented later\r\n */\r\nexport default function AITeamChat() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"w-10 h-10 bg-gray-700 text-white rounded-xl flex items-center justify-center hover:bg-gray-600 transition-colors\"\r\n        title=\"AI Team Chat\"\r\n      >\r\n        <Bot className=\"w-5 h-5\" />\r\n      </button>\r\n\r\n      {isOpen && (\r\n        <>\r\n          <div className=\"fixed inset-0 z-40\" onClick={() => setIsOpen(false)} />\r\n          <div className=\"absolute right-0 top-12 w-80 bg-gray-800 rounded-lg shadow-xl z-50 border border-gray-700\">\r\n            <div className=\"p-4 border-b border-gray-700\">\r\n              <h3 className=\"text-white font-medium\">AI Team Chat</h3>\r\n              <p className=\"text-gray-400 text-sm\">Chat with AI workers</p>\r\n            </div>\r\n            <div className=\"p-4 text-gray-500 text-sm text-center\">\r\n              Coming soon...\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState, useContext, ReactNode } from 'react';\r\nimport Link from 'next/link';\r\nimport { usePathname, useRouter } from 'next/navigation';\r\nimport { ChevronDown, ChevronRight, DoorOpen, Users, ArrowLeft, Building2 } from 'lucide-react';\r\nimport TimeClockDropdown from './TimeClockDropdown';\r\nimport SettingsDropdown from './SettingsDropdown';\r\nimport ChatDropdown from './ChatDropdown';\r\nimport AITeamChat from './AITeamChat';\r\nimport { ProductionStatusContext } from '@/app/layout';\r\nimport { useClient } from '@/app/contexts/ClientContext';\r\nimport { supabase } from '../lib/supabase';\r\n\r\ninterface NavigationProps {\r\n  pageTitle?: { title: string; description: string };\r\n  pageActions?: ReactNode;\r\n}\r\n\r\nexport default function Navigation({ pageTitle, pageActions }: NavigationProps) {\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n  const [showLogoutConfirm, setShowLogoutConfirm] = useState(false);\r\n  const { showServers, toggleServers } = useContext(ProductionStatusContext);\r\n  const { clients, selectedClient, setSelectedClient, isLoading: clientsLoading } = useClient();\r\n\r\n  // Tab navigation - exactly like MyKeystone style\r\n  // Tabs: Servers / Dev Tools / HelpDesk / Calendar / Development\r\n  const tabs = [\r\n    { id: 'servers', label: 'Servers', path: '/servers/tradelines' },\r\n    { id: 'dev-tools', label: 'Dev Tools', path: '/dev-controls' },\r\n    { id: 'helpdesk', label: 'HelpDesk', path: '/helpdesk' },\r\n    { id: 'calendar', label: 'Calendar', path: '/calendar' },\r\n    { id: 'studio', label: 'Studio', path: '/studio' },\r\n  ];\r\n\r\n  const getActiveTab = () => {\r\n    if (pathname?.startsWith('/servers')) return 'servers';\r\n    if (pathname?.startsWith('/credentials')) return 'servers'; // Credentials is under servers tab\r\n    if (pathname?.startsWith('/dev-controls')) return 'dev-tools';\r\n    if (pathname?.startsWith('/helpdesk')) return 'helpdesk';\r\n    if (pathname?.startsWith('/calendar')) return 'calendar';\r\n    if (pathname?.startsWith('/studio')) return 'studio';\r\n    if (pathname?.startsWith('/team')) return 'studio';\r\n    return '';\r\n  };\r\n\r\n  const activeTab = getActiveTab();\r\n  const isCredentialsPage = pathname?.startsWith('/credentials');\r\n\r\n  // Credentials sub-tabs\r\n  const credentialTabs = [\r\n    { key: 'overview', label: 'Overview', path: '/credentials' },\r\n    { key: 'federal', label: 'Federal', path: '/credentials/federal' },\r\n    { key: 'state', label: 'State', path: '/credentials/state' },\r\n    { key: 'local', label: 'Local', path: '/credentials/local' },\r\n    { key: 'municipal', label: 'Municipal', path: '/credentials/municipal' },\r\n    { key: 'other', label: 'Other', path: '/credentials/other' },\r\n  ];\r\n\r\n  const getActiveCredentialTab = () => {\r\n    if (pathname === '/credentials') return 'overview';\r\n    const match = credentialTabs.find(t => t.path !== '/credentials' && pathname?.startsWith(t.path));\r\n    return match?.key || 'overview';\r\n  };\r\n\r\n  async function handleLogout() {\r\n    await supabase.auth.signOut();\r\n    router.push('/');\r\n  }\r\n\r\n  function handleClientChange(clientId: string) {\r\n    const client = clients.find(c => c.id === clientId);\r\n    if (client) {\r\n      setSelectedClient(client);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"sticky top-0 z-50\">\r\n      {/* Main Navigation Bar - bg-gray-800 like MyKeystone */}\r\n      <nav className=\"bg-gray-800 shadow-lg\">\r\n        <div className=\"px-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            {/* Left: Title + Tabs */}\r\n            <div className=\"flex items-end space-x-4\">\r\n              {/* Title - links to Dashboard */}\r\n              <Link href=\"/dashboard\" className=\"flex items-center py-3 hover:opacity-80 transition-opacity\">\r\n                <div>\r\n                  <div className=\"text-white font-bold text-xl leading-tight\">Kodiack Studio</div>\r\n                  <div className=\"text-gray-400 text-xs leading-tight\">Games. Platforms. Systems.</div>\r\n                </div>\r\n              </Link>\r\n\r\n              {/* Tab Navigation - aligned to bottom */}\r\n              <div className=\"hidden md:flex items-end space-x-1 pb-0\">\r\n                {tabs.map(tab => {\r\n                  const isActive = activeTab === tab.id;\r\n                  const isExternal = 'external' in tab && tab.external;\r\n                  const tabClass = `w-32 py-1.5 rounded-t-xl text-base font-medium transition-all border-t border-x flex items-center justify-center ${\r\n                    isActive\r\n                      ? 'bg-blue-600 text-white border-blue-500 shadow-lg'\r\n                      : 'text-gray-300 hover:bg-gray-700 hover:text-white border-gray-600'\r\n                  }`;\r\n\r\n                  if (isExternal) {\r\n                    return (\r\n                      <a\r\n                        key={tab.id}\r\n                        href={tab.path}\r\n                        className={tabClass}\r\n                      >\r\n                        {tab.label}\r\n                      </a>\r\n                    );\r\n                  }\r\n\r\n                  return (\r\n                    <Link\r\n                      key={tab.id}\r\n                      href={tab.path}\r\n                      className={tabClass}\r\n                    >\r\n                      {tab.label}\r\n                    </Link>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Right: Client Selector, Time Clock, Settings, Logout */}\r\n            <div className=\"flex items-center space-x-2\">\r\n              {/* Client Selector */}\r\n              <div className=\"relative\">\r\n                <select\r\n                  value={selectedClient?.id || 'all'}\r\n                  onChange={(e) => {\r\n                    if (e.target.value === 'all') {\r\n                      setSelectedClient(null);\r\n                    } else {\r\n                      handleClientChange(e.target.value);\r\n                    }\r\n                  }}\r\n                  disabled={clientsLoading}\r\n                  className=\"appearance-none bg-gray-700 text-white pl-10 pr-10 py-2 rounded-xl border border-gray-600 focus:ring-2 focus:ring-blue-500 cursor-pointer hover:bg-gray-600 disabled:opacity-50 min-w-[200px]\"\r\n                >\r\n                  <option value=\"all\">All Clients</option>\r\n                  {clients.map(client => (\r\n                    <option key={client.id} value={client.id}>{client.name}</option>\r\n                  ))}\r\n                </select>\r\n                <Building2 className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none\" />\r\n                <ChevronDown className=\"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none\" />\r\n              </div>\r\n\r\n              {/* Team Chat - Slack-like messaging for devs */}\r\n              <ChatDropdown />\r\n\r\n              {/* AI Team Chat - Chat with AI workers */}\r\n              <AITeamChat />\r\n\r\n              {/* Time Clock - EXACT MyKeystone style: w-10 h-10 rounded-xl */}\r\n              <TimeClockDropdown />\r\n\r\n              {/* Settings - EXACT MyKeystone style: w-10 h-10 bg-gray-700 rounded-xl */}\r\n              <SettingsDropdown />\r\n\r\n              {/* Logout - EXACT MyKeystone style: w-10 h-10 bg-blue-600 rounded-xl */}\r\n              <button\r\n                onClick={() => setShowLogoutConfirm(true)}\r\n                className=\"w-10 h-10 bg-blue-600 text-white rounded-xl flex items-center justify-center hover:bg-blue-700 transition-colors\"\r\n                title=\"Logout\"\r\n              >\r\n                <DoorOpen className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Gradient Banner Bar - like MyKeystone */}\r\n      <div className=\"shadow-md\" style={{ background: 'linear-gradient(to right, #3B82F6, #06B6D4)' }}>\r\n        <div className=\"px-6 py-1\">\r\n          <div className=\"flex items-center\">\r\n            {/* Back button + Page title + Page actions */}\r\n            <div className=\"flex-1 flex items-center space-x-3\">\r\n              {/* Back Button */}\r\n              <button\r\n                onClick={() => window.history.back()}\r\n                className=\"w-10 h-10 rounded-xl flex items-center justify-center transition-all flex-shrink-0 text-white border border-black/30 hover:bg-white/10\"\r\n                title=\"Go Back\"\r\n              >\r\n                <ArrowLeft className=\"w-5 h-5\" />\r\n              </button>\r\n\r\n              {/* Page Title & Description */}\r\n              <div className=\"min-w-0\">\r\n                <h1 className=\"text-xl font-bold text-white leading-tight\">\r\n                  {pageTitle?.title || (\r\n                    <>\r\n                      {activeTab === '' && 'Dashboard'}\r\n                      {activeTab === 'servers' && !isCredentialsPage && 'Server Management'}\r\n                      {isCredentialsPage && 'Credentials & Sources'}\r\n                      {activeTab === 'dev-tools' && 'Development Tools'}\r\n                      {activeTab === 'helpdesk' && 'Support Center'}\r\n                      {activeTab === 'calendar' && 'Team Schedule'}\r\n                      {activeTab === 'studio' && 'Development Environment'}\r\n                    </>\r\n                  )}\r\n                </h1>\r\n                {pageTitle?.description && (\r\n                  <p className=\"text-white/80 text-xs mt-0.5 leading-tight\">{pageTitle.description}</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Page Actions (next to title) */}\r\n              {pageActions && (\r\n                <div className=\"flex items-center space-x-2\">\r\n                  {pageActions}\r\n                </div>\r\n              )}\r\n\r\n              {/* Spacer to push credentials tabs right */}\r\n              <div className=\"flex-1\" />\r\n            </div>\r\n\r\n            {/* Right: Credentials Tabs (only on /credentials pages) */}\r\n            {isCredentialsPage && (\r\n              <div className=\"flex items-center gap-1 ml-4\">\r\n                {credentialTabs.map((tab) => {\r\n                  const isActive = getActiveCredentialTab() === tab.key;\r\n                  return (\r\n                    <Link\r\n                      key={tab.key}\r\n                      href={tab.path}\r\n                      className={`px-3 py-1 text-sm font-medium rounded-lg transition-colors ${\r\n                        isActive\r\n                          ? 'bg-white/20 text-white'\r\n                          : 'text-white/70 hover:bg-white/10 hover:text-white'\r\n                      }`}\r\n                    >\r\n                      {tab.label}\r\n                    </Link>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n\r\n            </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Logout Confirmation Modal - EXACT MyKeystone style */}\r\n      {showLogoutConfirm && (\r\n        <>\r\n          <div className=\"fixed inset-0 bg-black/50 z-50\" onClick={() => setShowLogoutConfirm(false)} />\r\n          <div className=\"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg shadow-xl z-50 p-6 w-96\">\r\n            <h3 className=\"text-xl font-bold text-gray-900 mb-3\">Confirm Logout</h3>\r\n            <p className=\"text-gray-600 mb-6\">Are you sure you want to log out?</p>\r\n            <div className=\"flex items-center justify-end space-x-3\">\r\n              <button\r\n                onClick={() => setShowLogoutConfirm(false)}\r\n                className=\"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleLogout}\r\n                className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700\"\r\n              >\r\n                Yes, Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { ChevronDown, ChevronRight } from 'lucide-react';\r\n\r\n// Server status types\r\nexport type ServerHealth = 'healthy' | 'degraded' | 'critical' | 'offline' | 'unknown';\r\n\r\nexport interface WorkerStatus {\r\n  port: number;\r\n  name: string; // 'Engine', 'Discovery', 'Scope of Work', 'Full Report', 'Proposal'\r\n  status: 'online' | 'offline' | 'error';\r\n  lastPing?: string;\r\n  errorCount?: number;\r\n}\r\n\r\nexport interface SlotStatus {\r\n  slotId: string;\r\n  tradeline: string;\r\n  mainPort: number;\r\n  workers: WorkerStatus[];\r\n  health: ServerHealth;\r\n  cpu?: number;\r\n  memory?: number;\r\n  requestsPerMin?: number;\r\n  errorsToday?: number;\r\n}\r\n\r\nexport interface ProjectStatus {\r\n  id: string;\r\n  name: string;\r\n  patcherPort: number;\r\n  prodPort: string;\r\n  slots?: SlotStatus[]; // For Engine with 20 slots\r\n  health: ServerHealth;\r\n  totalSlots?: number;\r\n  healthySlots?: number;\r\n  degradedSlots?: number;\r\n  offlineSlots?: number;\r\n}\r\n\r\n// Mock data - will be replaced with real API calls\r\nconst MOCK_PROJECTS: ProjectStatus[] = [\r\n  {\r\n    id: 'tradelines',\r\n    name: 'NextBid Engine',\r\n    patcherPort: 7101,\r\n    prodPort: '31001-31020',\r\n    health: 'degraded',\r\n    totalSlots: 20,\r\n    healthySlots: 18,\r\n    degradedSlots: 2,\r\n    offlineSlots: 0,\r\n    slots: [\r\n      { slotId: '01', tradeline: 'security', mainPort: 31001, health: 'healthy', workers: [], cpu: 45, memory: 62, requestsPerMin: 120 },\r\n      { slotId: '02', tradeline: 'administrative', mainPort: 31002, health: 'healthy', workers: [], cpu: 38, memory: 55 },\r\n      { slotId: '03', tradeline: 'facilities', mainPort: 31003, health: 'degraded', workers: [], cpu: 78, memory: 85 },\r\n      { slotId: '04', tradeline: 'logistics', mainPort: 31004, health: 'healthy', workers: [] },\r\n      { slotId: '05', tradeline: 'electrical', mainPort: 31005, health: 'healthy', workers: [] },\r\n      { slotId: '06', tradeline: 'lowvoltage', mainPort: 31006, health: 'healthy', workers: [] },\r\n      { slotId: '07', tradeline: 'landscaping', mainPort: 31007, health: 'healthy', workers: [] },\r\n      { slotId: '08', tradeline: 'hvac', mainPort: 31008, health: 'degraded', workers: [] },\r\n      { slotId: '09', tradeline: 'plumbing', mainPort: 31009, health: 'healthy', workers: [] },\r\n      { slotId: '10', tradeline: 'janitorial', mainPort: 31010, health: 'healthy', workers: [] },\r\n      { slotId: '11', tradeline: 'support', mainPort: 31011, health: 'healthy', workers: [] },\r\n      { slotId: '12', tradeline: 'waste', mainPort: 31012, health: 'healthy', workers: [] },\r\n      { slotId: '13', tradeline: 'construction', mainPort: 31013, health: 'healthy', workers: [] },\r\n      { slotId: '14', tradeline: 'roofing', mainPort: 31014, health: 'healthy', workers: [] },\r\n      { slotId: '15', tradeline: 'painting', mainPort: 31015, health: 'healthy', workers: [] },\r\n      { slotId: '16', tradeline: 'flooring', mainPort: 31016, health: 'healthy', workers: [] },\r\n      { slotId: '17', tradeline: 'demolition', mainPort: 31017, health: 'healthy', workers: [] },\r\n      { slotId: '18', tradeline: 'environmental', mainPort: 31018, health: 'healthy', workers: [] },\r\n      { slotId: '19', tradeline: 'concrete', mainPort: 31019, health: 'healthy', workers: [] },\r\n      { slotId: '20', tradeline: 'fencing', mainPort: 31020, health: 'healthy', workers: [] },\r\n    ],\r\n  },\r\n  {\r\n    id: 'sources',\r\n    name: 'NextSource',\r\n    patcherPort: 7102,\r\n    prodPort: '8002',\r\n    health: 'healthy',\r\n  },\r\n  {\r\n    id: 'nextbidder',\r\n    name: 'NextBidder',\r\n    patcherPort: 7103,\r\n    prodPort: '8003',\r\n    health: 'healthy',\r\n  },\r\n  {\r\n    id: 'portals',\r\n    name: 'NextBid Portal',\r\n    patcherPort: 7104,\r\n    prodPort: '8004',\r\n    health: 'healthy',\r\n  },\r\n  {\r\n    id: 'nexttech',\r\n    name: 'NextTech',\r\n    patcherPort: 7105,\r\n    prodPort: '8005',\r\n    health: 'healthy',\r\n  },\r\n  {\r\n    id: 'nexttask',\r\n    name: 'NextTask',\r\n    patcherPort: 7106,\r\n    prodPort: '8006',\r\n    health: 'critical',\r\n  },\r\n];\r\n\r\ninterface ServerStatusIndicatorProps {\r\n  onSelectProject?: (project: ProjectStatus) => void;\r\n  onSelectSlot?: (project: ProjectStatus, slot: SlotStatus) => void;\r\n  selectedProjectId?: string;\r\n  selectedSlotId?: string;\r\n}\r\n\r\nexport default function ServerStatusIndicator({\r\n  onSelectProject,\r\n  onSelectSlot,\r\n  selectedProjectId,\r\n  selectedSlotId,\r\n}: ServerStatusIndicatorProps) {\r\n  const [projects, setProjects] = useState<ProjectStatus[]>(MOCK_PROJECTS);\r\n  const [expandedProject, setExpandedProject] = useState<string | null>(null);\r\n\r\n  // Fetch real data from API\r\n  // Poll faster (every 3s) when a slot is selected, otherwise every 30s\r\n  useEffect(() => {\r\n    const fetchHealth = async () => {\r\n      try {\r\n        const response = await fetch('/api/servers/health');\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          if (data.projects) {\r\n            setProjects(data.projects);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to fetch server health:', error);\r\n      }\r\n    };\r\n\r\n    fetchHealth();\r\n    const pollInterval = selectedSlotId ? 3000 : 30000; // Fast poll when slot selected\r\n    const interval = setInterval(fetchHealth, pollInterval);\r\n    return () => clearInterval(interval);\r\n  }, [selectedSlotId]);\r\n\r\n  const getHealthColor = (health: ServerHealth) => {\r\n    switch (health) {\r\n      case 'healthy': return 'bg-green-500';\r\n      case 'degraded': return 'bg-yellow-500';\r\n      case 'critical': return 'bg-red-500';\r\n      case 'offline': return 'bg-gray-500';\r\n      default: return 'bg-gray-600';\r\n    }\r\n  };\r\n\r\n  // Check if project has expandable slots\r\n  const hasExpandableSlots = (project: ProjectStatus) => {\r\n    return project.slots && project.slots.length > 0;\r\n  };\r\n\r\n  const handleProjectClick = (project: ProjectStatus) => {\r\n    // If project has slots, only toggle expand (don't open detail panel)\r\n    if (hasExpandableSlots(project)) {\r\n      setExpandedProject(expandedProject === project.id ? null : project.id);\r\n    } else {\r\n      // Only open detail panel for projects without slots (simple projects)\r\n      onSelectProject?.(project);\r\n    }\r\n  };\r\n\r\n  const handleSlotClick = (project: ProjectStatus, slot: SlotStatus, e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    onSelectSlot?.(project, slot);\r\n  };\r\n\r\n  // Get all slots sorted by slotId\r\n  const getAllSlots = (project: ProjectStatus) => {\r\n    if (!project.slots) return [];\r\n    return [...project.slots].sort((a, b) => a.slotId.localeCompare(b.slotId));\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-0.5\">\r\n      {/* Compact Project List - just dot + name */}\r\n      {projects.map((project) => {\r\n        const allSlots = getAllSlots(project);\r\n        const canExpand = allSlots.length > 0;\r\n        const isExpanded = expandedProject === project.id;\r\n\r\n        return (\r\n          <div key={project.id}>\r\n            <button\r\n              onClick={() => handleProjectClick(project)}\r\n              className={`w-full flex items-center gap-2 px-3 py-1.5 rounded text-sm transition-all ${\r\n                selectedProjectId === project.id\r\n                  ? 'bg-cyan-500/15'\r\n                  : 'hover:bg-gray-800/30'\r\n              }`}\r\n            >\r\n              {/* Status Dot */}\r\n              <div className={`w-2 h-2 rounded-full ${getHealthColor(project.health)} ${\r\n                project.health === 'critical' ? 'animate-pulse' : ''\r\n              }`} />\r\n\r\n              {/* Project Name */}\r\n              <span className={`flex-1 text-left ${\r\n                project.health === 'critical' ? 'text-red-400' :\r\n                project.health === 'degraded' ? 'text-yellow-400' :\r\n                'text-gray-400'\r\n              }`}>\r\n                {project.name}\r\n              </span>\r\n\r\n              {/* Expand chevron if there are slots to show */}\r\n              {canExpand && (\r\n                <div className=\"text-gray-500\">\r\n                  {isExpanded ? (\r\n                    <ChevronDown className=\"w-3 h-3\" />\r\n                  ) : (\r\n                    <ChevronRight className=\"w-3 h-3\" />\r\n                  )}\r\n                </div>\r\n              )}\r\n            </button>\r\n\r\n            {/* All Slots - show when expanded */}\r\n            {isExpanded && allSlots.length > 0 && (\r\n              <div className=\"ml-4 mt-0.5 space-y-0.5 border-l border-gray-800 pl-2\">\r\n                {allSlots.map((slot) => (\r\n                  <button\r\n                    key={slot.slotId}\r\n                    onClick={(e) => handleSlotClick(project, slot, e)}\r\n                    className={`w-full flex items-center gap-2 px-2 py-1 rounded text-xs transition-all ${\r\n                      selectedSlotId === slot.slotId\r\n                        ? 'bg-cyan-500/20'\r\n                        : 'hover:bg-gray-800/30'\r\n                    }`}\r\n                  >\r\n                    <div className={`w-1.5 h-1.5 rounded-full ${getHealthColor(slot.health)}`} />\r\n                    <span className={`font-mono text-[10px] ${\r\n                      slot.health === 'healthy' ? 'text-green-400' :\r\n                      slot.health === 'degraded' ? 'text-yellow-400' : 'text-red-400'\r\n                    }`}>{slot.mainPort}</span>\r\n                    <span className={`capitalize ${\r\n                      slot.health === 'healthy' ? 'text-green-400' :\r\n                      slot.health === 'degraded' ? 'text-yellow-400' : 'text-red-400'\r\n                    }`}>\r\n                      {slot.tradeline}\r\n                    </span>\r\n                    <span className=\"flex-1\" />\r\n                    {selectedSlotId === slot.slotId && (\r\n                      <span className=\"text-cyan-400 text-xs\">&gt;</span>\r\n                    )}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Export individual status dot component for use elsewhere\r\nexport function StatusDot({ health, size = 'sm', pulse = false }: { health: ServerHealth; size?: 'sm' | 'md' | 'lg'; pulse?: boolean }) {\r\n  const sizeClasses = {\r\n    sm: 'w-2 h-2',\r\n    md: 'w-2.5 h-2.5',\r\n    lg: 'w-3 h-3',\r\n  };\r\n\r\n  const getColor = (health: ServerHealth) => {\r\n    switch (health) {\r\n      case 'healthy': return 'bg-green-500';\r\n      case 'degraded': return 'bg-yellow-500';\r\n      case 'critical': return 'bg-red-500';\r\n      case 'offline': return 'bg-gray-500';\r\n      default: return 'bg-gray-600';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <span className={`inline-block rounded-full ${sizeClasses[size]} ${getColor(health)} ${\r\n      pulse || health === 'critical' ? 'animate-pulse' : ''\r\n    }`} />\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['line', { x1: '12', x2: '12', y1: '8', y2: '12', key: '1pkeuh' }],\n  ['line', { x1: '12', x2: '12.01', y1: '16', y2: '16', key: '4dfq90' }],\n];\n\n/**\n * @component @name CircleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjgiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMi4wMSIgeTE9IjE2IiB5Mj0iMTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleAlert = createLucideIcon('circle-alert', __iconNode);\n\nexport default CircleAlert;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719',\n      key: '1sd12s',\n    },\n  ],\n];\n\n/**\n * @component @name MessageCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMi45OTIgMTYuMzQyYTIgMiAwIDAgMSAuMDk0IDEuMTY3bC0xLjA2NSAzLjI5YTEgMSAwIDAgMCAxLjIzNiAxLjE2OGwzLjQxMy0uOTk4YTIgMiAwIDAgMSAxLjA5OS4wOTIgMTAgMTAgMCAxIDAtNC43NzctNC43MTkiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/message-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MessageCircle = createLucideIcon('message-circle', __iconNode);\n\nexport default MessageCircle;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M11 20H2', key: 'nlcfvz' }],\n  [\n    'path',\n    {\n      d: 'M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z',\n      key: 'au4z13',\n    },\n  ],\n  ['path', { d: 'M11 4H8a2 2 0 0 0-2 2v14', key: '74r1mk' }],\n  ['path', { d: 'M14 12h.01', key: '1jfl7z' }],\n  ['path', { d: 'M22 20h-3', key: 'vhrsz' }],\n];\n\n/**\n * @component @name DoorOpen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEgMjBIMiIgLz4KICA8cGF0aCBkPSJNMTEgNC41NjJ2MTYuMTU3YTEgMSAwIDAgMCAxLjI0Mi45N0wxOSAyMFY1LjU2MmEyIDIgMCAwIDAtMS41MTUtMS45NGwtNC0xQTIgMiAwIDAgMCAxMSA0LjU2MXoiIC8+CiAgPHBhdGggZD0iTTExIDRIOGEyIDIgMCAwIDAtMiAydjE0IiAvPgogIDxwYXRoIGQ9Ik0xNCAxMmguMDEiIC8+CiAgPHBhdGggZD0iTTIyIDIwaC0zIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/door-open\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst DoorOpen = createLucideIcon('door-open', __iconNode);\n\nexport default DoorOpen;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z',\n      key: '1ffxy3',\n    },\n  ],\n  ['path', { d: 'm21.854 2.147-10.94 10.939', key: '12cjpa' }],\n];\n\n/**\n * @component @name Send\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNTM2IDIxLjY4NmEuNS41IDAgMCAwIC45MzctLjAyNGw2LjUtMTlhLjQ5Ni40OTYgMCAwIDAtLjYzNS0uNjM1bC0xOSA2LjVhLjUuNSAwIDAgMC0uMDI0LjkzN2w3LjkzIDMuMThhMiAyIDAgMCAxIDEuMTEyIDEuMTF6IiAvPgogIDxwYXRoIGQ9Im0yMS44NTQgMi4xNDctMTAuOTQgMTAuOTM5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/send\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Send = createLucideIcon('send', __iconNode);\n\nexport default Send;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['line', { x1: '4', x2: '20', y1: '9', y2: '9', key: '4lhtct' }],\n  ['line', { x1: '4', x2: '20', y1: '15', y2: '15', key: 'vyu0kd' }],\n  ['line', { x1: '10', x2: '8', y1: '3', y2: '21', key: '1ggp8o' }],\n  ['line', { x1: '16', x2: '14', y1: '3', y2: '21', key: 'weycgp' }],\n];\n\n/**\n * @component @name Hash\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iNCIgeDI9IjIwIiB5MT0iOSIgeTI9IjkiIC8+CiAgPGxpbmUgeDE9IjQiIHgyPSIyMCIgeTE9IjE1IiB5Mj0iMTUiIC8+CiAgPGxpbmUgeDE9IjEwIiB4Mj0iOCIgeTE9IjMiIHkyPSIyMSIgLz4KICA8bGluZSB4MT0iMTYiIHgyPSIxNCIgeTE9IjMiIHkyPSIyMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/hash\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Hash = createLucideIcon('hash', __iconNode);\n\nexport default Hash;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '9', r: '1', key: '124mty' }],\n  ['circle', { cx: '19', cy: '9', r: '1', key: '1ruzo2' }],\n  ['circle', { cx: '5', cy: '9', r: '1', key: '1a8b28' }],\n  ['circle', { cx: '12', cy: '15', r: '1', key: '1e56xg' }],\n  ['circle', { cx: '19', cy: '15', r: '1', key: '1a92ep' }],\n  ['circle', { cx: '5', cy: '15', r: '1', key: '5r1jwy' }],\n];\n\n/**\n * @component @name GripHorizontal\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjkiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iMTkiIGN5PSI5IiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjUiIGN5PSI5IiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTUiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iMTkiIGN5PSIxNSIgcj0iMSIgLz4KICA8Y2lyY2xlIGN4PSI1IiBjeT0iMTUiIHI9IjEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/grip-horizontal\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst GripHorizontal = createLucideIcon('grip-horizontal', __iconNode);\n\nexport default GripHorizontal;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm14 10 7-7', key: 'oa77jy' }],\n  ['path', { d: 'M20 10h-6V4', key: 'mjg0md' }],\n  ['path', { d: 'm3 21 7-7', key: 'tjx5ai' }],\n  ['path', { d: 'M4 14h6v6', key: 'rmj7iw' }],\n];\n\n/**\n * @component @name Minimize2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTQgMTAgNy03IiAvPgogIDxwYXRoIGQ9Ik0yMCAxMGgtNlY0IiAvPgogIDxwYXRoIGQ9Im0zIDIxIDctNyIgLz4KICA8cGF0aCBkPSJNNCAxNGg2djYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/minimize-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Minimize2 = createLucideIcon('minimize-2', __iconNode);\n\nexport default Minimize2;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M15 3h6v6', key: '1q9fwt' }],\n  ['path', { d: 'm21 3-7 7', key: '1l2asr' }],\n  ['path', { d: 'm3 21 7-7', key: 'tjx5ai' }],\n  ['path', { d: 'M9 21H3v-6', key: 'wtvkvv' }],\n];\n\n/**\n * @component @name Maximize2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgM2g2djYiIC8+CiAgPHBhdGggZD0ibTIxIDMtNyA3IiAvPgogIDxwYXRoIGQ9Im0zIDIxIDctNyIgLz4KICA8cGF0aCBkPSJNOSAyMUgzdi02IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/maximize-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Maximize2 = createLucideIcon('maximize-2', __iconNode);\n\nexport default Maximize2;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 8V4H8', key: 'hb8ula' }],\n  ['rect', { width: '16', height: '12', x: '4', y: '8', rx: '2', key: 'enze0r' }],\n  ['path', { d: 'M2 14h2', key: 'vft8re' }],\n  ['path', { d: 'M20 14h2', key: '4cs60a' }],\n  ['path', { d: 'M15 13v2', key: '1xurst' }],\n  ['path', { d: 'M9 13v2', key: 'rq6x2g' }],\n];\n\n/**\n * @component @name Bot\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgOFY0SDgiIC8+CiAgPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjEyIiB4PSI0IiB5PSI4IiByeD0iMiIgLz4KICA8cGF0aCBkPSJNMiAxNGgyIiAvPgogIDxwYXRoIGQ9Ik0yMCAxNGgyIiAvPgogIDxwYXRoIGQ9Ik0xNSAxM3YyIiAvPgogIDxwYXRoIGQ9Ik05IDEzdjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/bot\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Bot = createLucideIcon('bot', __iconNode);\n\nexport default Bot;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2', key: '975kel' }],\n  ['circle', { cx: '12', cy: '7', r: '4', key: '17ys0d' }],\n];\n\n/**\n * @component @name User\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjF2LTJhNCA0IDAgMCAwLTQtNEg5YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst User = createLucideIcon('user', __iconNode);\n\nexport default User;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M8 2v4', key: '1cmpym' }],\n  ['path', { d: 'M16 2v4', key: '4m81vk' }],\n  ['rect', { width: '18', height: '18', x: '3', y: '4', rx: '2', key: '1hopcy' }],\n  ['path', { d: 'M3 10h18', key: '8toen8' }],\n  ['path', { d: 'm9 16 2 2 4-4', key: '19s6y9' }],\n];\n\n/**\n * @component @name CalendarCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOCAydjQiIC8+CiAgPHBhdGggZD0iTTE2IDJ2NCIgLz4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDEwaDE4IiAvPgogIDxwYXRoIGQ9Im05IDE2IDIgMiA0LTQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/calendar-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CalendarCheck = createLucideIcon('calendar-check', __iconNode);\n\nexport default CalendarCheck;\n","'use client';\r\n\r\nimport { ReactNode } from 'react';\r\nimport { useUser, UserRole, Permissions } from './UserContext';\r\n\r\ninterface RoleGateProps {\r\n  children: ReactNode;\r\n  minRole?: UserRole;\r\n  permission?: keyof Permissions;\r\n  fallback?: ReactNode;\r\n}\r\n\r\n// Show content only if user has minimum role or permission\r\nexport function RoleGate({ children, minRole, permission, fallback = null }: RoleGateProps) {\r\n  const { hasMinRole, hasPermission, isLoading } = useUser();\r\n\r\n  if (isLoading) {\r\n    return null;\r\n  }\r\n\r\n  // Check permission if specified\r\n  if (permission && !hasPermission(permission)) {\r\n    return <>{fallback}</>;\r\n  }\r\n\r\n  // Check minimum role if specified\r\n  if (minRole && !hasMinRole(minRole)) {\r\n    return <>{fallback}</>;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n\r\n// Disable buttons/interactions if user doesn't have permission\r\ninterface PermissionButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  permission?: keyof Permissions;\r\n  minRole?: UserRole;\r\n  children: ReactNode;\r\n}\r\n\r\nexport function PermissionButton({ permission, minRole, children, className, ...props }: PermissionButtonProps) {\r\n  const { hasMinRole, hasPermission, isLoading } = useUser();\r\n\r\n  const hasAccess = !isLoading && (\r\n    (!permission || hasPermission(permission)) &&\r\n    (!minRole || hasMinRole(minRole))\r\n  );\r\n\r\n  if (!hasAccess) {\r\n    return (\r\n      <button\r\n        {...props}\r\n        disabled\r\n        className={`${className} opacity-50 cursor-not-allowed`}\r\n        title=\"You don't have permission to perform this action\"\r\n      >\r\n        {children}\r\n      </button>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <button {...props} className={className}>\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n\r\n// Show access denied message\r\ninterface AccessDeniedProps {\r\n  message?: string;\r\n  requiredRole?: UserRole;\r\n}\r\n\r\nexport function AccessDenied({ message, requiredRole }: AccessDeniedProps) {\r\n  return (\r\n    <div className=\"bg-red-500/10 border border-red-500/30 rounded-xl p-8 text-center\">\r\n      <div className=\"text-4xl mb-4\">üîí</div>\r\n      <h3 className=\"text-xl font-semibold text-white mb-2\">Access Denied</h3>\r\n      <p className=\"text-gray-400\">\r\n        {message || `You need ${requiredRole || 'higher'} access to view this content.`}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Show role badge\r\ninterface RoleBadgeProps {\r\n  role: UserRole;\r\n}\r\n\r\nexport function RoleBadge({ role }: RoleBadgeProps) {\r\n  const colors: Record<UserRole, string> = {\r\n    superadmin: 'bg-amber-500/20 text-amber-400 border-amber-500/30',\r\n    admin: 'bg-red-500/20 text-red-400 border-red-500/30',\r\n    lead: 'bg-purple-500/20 text-purple-400 border-purple-500/30',\r\n    engineer: 'bg-blue-500/20 text-blue-400 border-blue-500/30',\r\n    developer: 'bg-green-500/20 text-green-400 border-green-500/30',\r\n    support: 'bg-cyan-500/20 text-cyan-400 border-cyan-500/30',\r\n  };\r\n\r\n  return (\r\n    <span className={`px-2 py-1 text-xs font-medium rounded border ${colors[role]}`}>\r\n      {role.charAt(0).toUpperCase() + role.slice(1)}\r\n    </span>\r\n  );\r\n}\r\n","'use client';\n\nimport { Geist, Geist_Mono } from \"next/font/google\";\nimport \"./globals.css\";\nimport Navigation from \"@/components/Navigation\";\nimport Sidebar from \"@/components/Sidebar\";\nimport { UserProvider } from \"@/app/settings/UserContext\";\nimport { DeveloperProvider } from \"@/app/contexts/DeveloperContext\";\nimport { ClientProvider } from \"@/app/contexts/ClientContext\";\nimport { createContext, useState, ReactNode, Suspense } from \"react\";\nimport { usePathname } from \"next/navigation\";\n\nconst geistSans = Geist({\n  variable: \"--font-geist-sans\",\n  subsets: [\"latin\"],\n});\n\nconst geistMono = Geist_Mono({\n  variable: \"--font-geist-mono\",\n  subsets: [\"latin\"],\n});\n\n// Context for page title and description\nexport const PageTitleContext = createContext<(title: { title: string; description: string }) => void>(() => {});\n\n// Context for page actions (buttons in the header bar)\nexport const PageActionsContext = createContext<(actions: ReactNode) => void>(() => {});\n\n// Context for Production Status sidebar toggle (shared between Navigation and Sidebar)\nexport const ProductionStatusContext = createContext<{\n  showServers: boolean;\n  setShowServers: (show: boolean) => void;\n  toggleServers: () => void;\n}>({\n  showServers: true,\n  setShowServers: () => {},\n  toggleServers: () => {},\n});\n\nexport default function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  const pathname = usePathname();\n  const isStudioPage = pathname?.startsWith('/studio');\n\n  const [pageTitle, setPageTitle] = useState<{ title: string; description: string }>({\n    title: 'Dashboard',\n    description: 'Your daily overview'\n  });\n  const [pageActions, setPageActions] = useState<ReactNode>(null);\n  const [showServers, setShowServers] = useState(true);\n\n  return (\n    <html lang=\"en\" className=\"dark\">\n      <head>\n        <title>Kodiack Dashboard</title>\n        <meta name=\"description\" content=\"Kodiack Studios Control Center\" />\n        <link rel=\"icon\" href=\"/favicon.ico\" />\n        <link rel=\"apple-touch-icon\" href=\"/favicon.ico\" />\n      </head>\n      <body className={`${geistSans.variable} ${geistMono.variable} antialiased`}>\n        <UserProvider>\n          <DeveloperProvider>\n            <ClientProvider>\n              <PageTitleContext.Provider value={setPageTitle}>\n                <PageActionsContext.Provider value={setPageActions}>\n                  <ProductionStatusContext.Provider value={{\n                  showServers,\n                  setShowServers,\n                  toggleServers: () => setShowServers(prev => !prev),\n                }}>\n                  <div className=\"h-screen flex flex-col overflow-hidden\">\n                    <Navigation pageTitle={pageTitle} pageActions={pageActions} />\n                    <div className=\"flex flex-1 min-h-0 overflow-hidden\">\n                      {/* Hide regular sidebar on Studio page - Studio has its own icon sidebar */}\n                      {!isStudioPage && (\n                        <Suspense fallback={<div className=\"w-64 bg-gray-900\" />}>\n                          <Sidebar />\n                        </Suspense>\n                      )}\n                      <main className={`flex-1 bg-gray-900 ${isStudioPage ? 'overflow-hidden' : 'overflow-auto px-8 py-4'}`}>\n                        {children}\n                      </main>\n                    </div>\n                  </div>\n                </ProductionStatusContext.Provider>\n                </PageActionsContext.Provider>\n              </PageTitleContext.Provider>\n            </ClientProvider>\n          </DeveloperProvider>\n        </UserProvider>\n      </body>\n    </html>\n  );\n}\n","'use client';\r\n\r\nimport { useState, useEffect, useContext } from 'react';\r\nimport Link from 'next/link';\r\nimport { usePathname, useSearchParams } from 'next/navigation';\r\nimport { User, Users, Calendar, CalendarCheck, AlertCircle, ChevronDown, ChevronRight } from 'lucide-react';\r\nimport ServerStatusIndicator, { ProjectStatus, SlotStatus } from './ServerStatusIndicator';\r\nimport ServerDetailPanel from './ServerDetailPanel';\r\nimport { ProductionStatusContext } from '@/app/layout';\r\n\r\n// Mock current user - TODO: Get from auth context\r\nconst currentUser = {\r\n  id: 'user-1',\r\n  name: 'Michael',\r\n  role: 'admin', // 'admin' | 'lead' | 'developer' | 'engineer'\r\n  teams: ['dev-team', 'frontend-team'] // Teams this user belongs to\r\n};\r\n\r\n// Mock teams data - TODO: Load from dev_teams table\r\nconst allTeams = [\r\n  { id: 'dev-team', name: 'Dev Team', color: '#10B981', memberCount: 5 },\r\n  { id: 'frontend-team', name: 'Frontend', color: '#3B82F6', memberCount: 3 },\r\n  { id: 'backend-team', name: 'Backend', color: '#8B5CF6', memberCount: 4 },\r\n  { id: 'support-team', name: 'Support', color: '#F59E0B', memberCount: 2 },\r\n];\r\n\r\n// Mock team members - TODO: Load from dev_team_members table\r\nconst allMembers = [\r\n  { id: '1', name: 'Michael', role: 'Lead Developer', color: '#3B82F6', teams: ['dev-team', 'frontend-team'] },\r\n  { id: '2', name: 'Sarah', role: 'Frontend Dev', color: '#EC4899', teams: ['frontend-team'] },\r\n  { id: '3', name: 'John', role: 'Backend Dev', color: '#10B981', teams: ['backend-team', 'dev-team'] },\r\n  { id: '4', name: 'Emily', role: 'Full Stack', color: '#8B5CF6', teams: ['dev-team'] },\r\n  { id: '5', name: 'Alex', role: 'Support Lead', color: '#F59E0B', teams: ['support-team'] },\r\n  { id: '6', name: 'Chris', role: 'DevOps', color: '#06B6D4', teams: ['backend-team'] },\r\n  { id: '7', name: 'Taylor', role: 'QA Engineer', color: '#EF4444', teams: ['dev-team'] },\r\n  { id: '8', name: 'Jordan', role: 'UI Designer', color: '#F472B6', teams: ['frontend-team'] },\r\n  { id: '9', name: 'Casey', role: 'Junior Dev', color: '#84CC16', teams: ['dev-team', 'frontend-team'] },\r\n];\r\n\r\nexport default function Sidebar() {\r\n  const pathname = usePathname();\r\n  const searchParams = useSearchParams();\r\n  const isCalendarPage = pathname?.startsWith('/calendar');\r\n  const isDevToolsPage = pathname?.startsWith('/dev-controls');\r\n  const calendarMode = searchParams?.get('mode') || 'my';\r\n  const selectedMemberId = searchParams?.get('member');\r\n  const selectedTeamId = searchParams?.get('team');\r\n\r\n  // Collapsible states - showServers comes from shared context (toggled via navbar)\r\n  const { showServers, setShowServers } = useContext(ProductionStatusContext);\r\n  const [showOverview, setShowOverview] = useState(true);\r\n  const [expandedTeams, setExpandedTeams] = useState<string[]>([]);\r\n\r\n  // Server detail panel state\r\n  const [selectedProject, setSelectedProject] = useState<ProjectStatus | null>(null);\r\n  const [selectedSlot, setSelectedSlot] = useState<SlotStatus | null>(null);\r\n  const [showDetailPanel, setShowDetailPanel] = useState(false);\r\n\r\n  // Auto-collapse servers on calendar page, auto-expand on other pages\r\n  useEffect(() => {\r\n    setShowServers(!isCalendarPage);\r\n  }, [isCalendarPage]);\r\n\r\n  // Close detail panel when servers section is collapsed\r\n  useEffect(() => {\r\n    if (!showServers) {\r\n      handleCloseDetailPanel();\r\n    }\r\n  }, [showServers]);\r\n\r\n  // Check if user is admin/lead (can see all calendars)\r\n  const isAdminOrLead = currentUser.role === 'admin' || currentUser.role === 'lead';\r\n\r\n  // Filter teams based on role\r\n  const visibleTeams = isAdminOrLead\r\n    ? allTeams\r\n    : allTeams.filter(team => currentUser.teams.includes(team.id));\r\n\r\n  // Filter members based on role and selected team\r\n  const getVisibleMembers = (teamId?: string) => {\r\n    if (isAdminOrLead) {\r\n      return teamId\r\n        ? allMembers.filter(m => m.teams.includes(teamId))\r\n        : allMembers;\r\n    }\r\n    // Regular users only see members from their teams\r\n    return allMembers.filter(m =>\r\n      m.teams.some(t => currentUser.teams.includes(t)) &&\r\n      (!teamId || m.teams.includes(teamId))\r\n    );\r\n  };\r\n\r\n  const toggleTeam = (teamId: string) => {\r\n    setExpandedTeams(prev =>\r\n      prev.includes(teamId)\r\n        ? prev.filter(id => id !== teamId)\r\n        : [...prev, teamId]\r\n    );\r\n  };\r\n\r\n  const handleSelectProject = (project: ProjectStatus) => {\r\n    setSelectedProject(project);\r\n    setSelectedSlot(null);\r\n    setShowDetailPanel(true);\r\n  };\r\n\r\n  const handleSelectSlot = (project: ProjectStatus, slot: SlotStatus) => {\r\n    setSelectedProject(project);\r\n    setSelectedSlot(slot);\r\n    setShowDetailPanel(true);\r\n  };\r\n\r\n  const handleCloseDetailPanel = () => {\r\n    setShowDetailPanel(false);\r\n    setSelectedProject(null);\r\n    setSelectedSlot(null);\r\n  };\r\n\r\n  const handleReboot = async (target: 'all' | 'main' | number) => {\r\n    if (!selectedProject) return;\r\n\r\n    try {\r\n      const response = await fetch('/api/servers/reboot', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          projectId: selectedProject.id,\r\n          slotId: selectedSlot?.slotId,\r\n          tradeline: selectedSlot?.tradeline,\r\n          target,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        console.log('Reboot initiated:', data.message);\r\n      } else {\r\n        console.error('Reboot failed:', data.error);\r\n        alert(`Reboot failed: ${data.error}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Reboot request failed:', error);\r\n      alert('Reboot request failed - check console');\r\n    }\r\n  };\r\n\r\n  const handleServerAction = async (action: 'start' | 'restart' | 'stop', port: string) => {\r\n    try {\r\n      const endpoint = `/api/patcher/server/${action}/${port}`;\r\n      const response = await fetch(endpoint, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        console.log(`${action} initiated for port ${port}:`, data.message);\r\n      } else {\r\n        console.error(`${action} failed:`, data.error);\r\n        alert(`${action} failed: ${data.error}`);\r\n      }\r\n    } catch (error) {\r\n      console.error(`${action} request failed:`, error);\r\n      alert(`${action} request failed - check console`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <aside className=\"w-64 bg-gray-900/50 border-r border-gray-700 flex flex-col h-full overflow-hidden\">\r\n        {/* Production Servers Section - Toggled via navbar button */}\r\n        {showServers && (\r\n          <div className=\"flex-shrink-0 px-2 py-4 border-b border-gray-700\">\r\n            <ServerStatusIndicator\r\n              onSelectProject={handleSelectProject}\r\n              onSelectSlot={handleSelectSlot}\r\n              selectedProjectId={selectedProject?.id}\r\n              selectedSlotId={selectedSlot?.slotId}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {/* Credentials Buttons - Below servers */}\r\n        {showServers && (\r\n          <div className=\"px-2 py-2 space-y-1\">\r\n            <Link\r\n              href=\"/credentials\"\r\n              className={`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\r\n                pathname === '/credentials'\r\n                  ? 'bg-blue-500/20 text-blue-400 border border-blue-500/30'\r\n                  : 'text-gray-400 hover:text-white hover:bg-gray-800'\r\n              }`}\r\n            >\r\n              <span>üìä</span>\r\n              <span>Overview & Alerts</span>\r\n            </Link>\r\n            <Link\r\n              href=\"/credentials/federal\"\r\n              className={`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\r\n                pathname?.startsWith('/credentials/')\r\n                  ? 'bg-blue-500/20 text-blue-400 border border-blue-500/30'\r\n                  : 'text-gray-400 hover:text-white hover:bg-gray-800'\r\n              }`}\r\n            >\r\n              <span>üîë</span>\r\n              <span>Credentials</span>\r\n            </Link>\r\n            <Link\r\n              href=\"/session-logs\"\r\n              className={`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\r\n                pathname === '/session-logs'\r\n                  ? 'bg-cyan-500/20 text-cyan-400 border border-cyan-500/30'\r\n                  : 'text-gray-400 hover:text-white hover:bg-gray-800'\r\n              }`}\r\n            >\r\n              <span>üéØ</span>\r\n              <span>Session Logs</span>\r\n            </Link>\r\n            <Link\r\n              href=\"/project-management\"\r\n              className={`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\r\n                pathname?.startsWith('/project-management')\r\n                  ? 'bg-purple-500/20 text-purple-400 border border-purple-500/30'\r\n                  : 'text-gray-400 hover:text-white hover:bg-gray-800'\r\n              }`}\r\n            >\r\n              <span>üìÅ</span>\r\n              <span>Projects</span>\r\n            </Link>\r\n            <Link\r\n              href=\"/the-forge\"\r\n              className={`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\r\n                pathname?.startsWith('/the-forge')\r\n                  ? 'bg-orange-500/20 text-orange-400 border border-orange-500/30'\r\n                  : 'text-gray-400 hover:text-white hover:bg-gray-800'\r\n              }`}\r\n            >\r\n              <span>üî•</span>\r\n              <span>The Forge</span>\r\n            </Link>\r\n            <Link\r\n              href=\"/ai-team\"\r\n              className={`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\r\n                pathname?.startsWith('/ai-team')\r\n                  ? 'bg-green-500/20 text-green-400 border border-green-500/30'\r\n                  : 'text-gray-400 hover:text-white hover:bg-gray-800'\r\n              }`}\r\n            >\r\n              <span>ü§ñ</span>\r\n              <span>AI Team</span>\r\n            </Link>\r\n          </div>\r\n        )}\r\n\r\n        {/* Calendar Section - Scrollable independently */}\r\n        {isCalendarPage && (\r\n          <div className=\"border-t border-gray-700 flex-1 overflow-y-auto min-h-0\">\r\n            {/* Collapsible Today's Overview */}\r\n            <div className=\"bg-gray-800/50 border-b border-gray-700\">\r\n              <button\r\n                onClick={() => setShowOverview(!showOverview)}\r\n                className=\"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-800/50 transition-colors\"\r\n              >\r\n                <h3 className=\"text-xs font-semibold text-gray-400 uppercase\">Today's Overview</h3>\r\n                {showOverview ? (\r\n                  <ChevronDown className=\"w-4 h-4 text-gray-500\" />\r\n                ) : (\r\n                  <ChevronRight className=\"w-4 h-4 text-gray-500\" />\r\n                )}\r\n              </button>\r\n\r\n              {showOverview && (\r\n                <div className=\"px-4 pb-4\">\r\n                  <div className=\"grid grid-cols-2 gap-2\">\r\n                    <div className=\"bg-blue-500/10 rounded-lg p-3 border-l-4 border-blue-500\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <p className=\"text-2xl font-bold text-blue-400\">0</p>\r\n                          <p className=\"text-xs text-gray-400\">Events</p>\r\n                        </div>\r\n                        <CalendarCheck className=\"w-5 h-5 text-blue-500\" />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"bg-purple-500/10 rounded-lg p-3 border-l-4 border-purple-500\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <p className=\"text-2xl font-bold text-purple-400\">0</p>\r\n                          <p className=\"text-xs text-gray-400\">Meetings</p>\r\n                        </div>\r\n                        <Users className=\"w-5 h-5 text-purple-500\" />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"bg-orange-500/10 rounded-lg p-3 border-l-4 border-orange-500\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <p className=\"text-2xl font-bold text-orange-400\">0</p>\r\n                          <p className=\"text-xs text-gray-400\">Tasks</p>\r\n                        </div>\r\n                        <AlertCircle className=\"w-5 h-5 text-orange-500\" />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"bg-green-500/10 rounded-lg p-3 border-l-4 border-green-500\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <p className=\"text-2xl font-bold text-green-400\">0</p>\r\n                          <p className=\"text-xs text-gray-400\">Time Off</p>\r\n                        </div>\r\n                        <Calendar className=\"w-5 h-5 text-green-500\" />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* My Calendar */}\r\n            <div className=\"border-b border-gray-700\">\r\n              <Link\r\n                href=\"/calendar?mode=my\"\r\n                className={`w-full flex items-center justify-between px-4 py-3 transition-all ${\r\n                  calendarMode === 'my'\r\n                    ? 'bg-purple-500/10 border-l-4 border-purple-500'\r\n                    : 'hover:bg-gray-800'\r\n                }`}\r\n              >\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <div className={`w-10 h-10 rounded-full flex items-center justify-center ${\r\n                    calendarMode === 'my' ? 'bg-purple-500' : 'bg-gray-700'\r\n                  }`}>\r\n                    <User className={`w-5 h-5 ${calendarMode === 'my' ? 'text-white' : 'text-gray-400'}`} />\r\n                  </div>\r\n                  <div className=\"text-left\">\r\n                    <p className={`font-semibold ${calendarMode === 'my' ? 'text-purple-400' : 'text-gray-300'}`}>My Calendar</p>\r\n                    <p className=\"text-xs text-gray-500\">Personal tasks & meetings</p>\r\n                  </div>\r\n                </div>\r\n                {calendarMode === 'my' && (\r\n                  <div className=\"w-2 h-2 rounded-full bg-purple-500\"></div>\r\n                )}\r\n              </Link>\r\n            </div>\r\n\r\n            {/* Team Calendars */}\r\n            <div className=\"border-b border-gray-700\">\r\n              <Link\r\n                href=\"/calendar?mode=team\"\r\n                className={`w-full flex items-center justify-between px-4 py-3 transition-all ${\r\n                  calendarMode === 'team' && !selectedTeamId && !selectedMemberId\r\n                    ? 'bg-blue-500/10 border-l-4 border-blue-500'\r\n                    : 'hover:bg-gray-800'\r\n                }`}\r\n              >\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <div className={`w-10 h-10 rounded-full flex items-center justify-center ${\r\n                    calendarMode === 'team' ? 'bg-blue-500' : 'bg-gray-700'\r\n                  }`}>\r\n                    <Users className={`w-5 h-5 ${calendarMode === 'team' ? 'text-white' : 'text-gray-400'}`} />\r\n                  </div>\r\n                  <div className=\"text-left\">\r\n                    <p className={`font-semibold ${calendarMode === 'team' ? 'text-blue-400' : 'text-gray-300'}`}>Team Calendars</p>\r\n                    <p className=\"text-xs text-gray-500\">\r\n                      {isAdminOrLead ? 'All team schedules' : 'Your team schedules'}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                {calendarMode === 'team' && !selectedTeamId && !selectedMemberId && (\r\n                  <div className=\"w-2 h-2 rounded-full bg-blue-500\"></div>\r\n                )}\r\n              </Link>\r\n            </div>\r\n\r\n            {/* Teams & Members List - Only shown when team mode is selected */}\r\n            {calendarMode === 'team' && (\r\n              <div className=\"bg-blue-500/5\">\r\n                {/* Teams Section */}\r\n                <div className=\"px-4 py-3\">\r\n                  <h4 className=\"text-xs font-semibold text-gray-500 uppercase mb-2\">\r\n                    Teams ({visibleTeams.length})\r\n                  </h4>\r\n                  <div className=\"space-y-1\">\r\n                    {visibleTeams.map((team) => (\r\n                      <div key={team.id}>\r\n                        <button\r\n                          onClick={() => toggleTeam(team.id)}\r\n                          className={`w-full flex items-center justify-between p-2 rounded-lg transition-colors ${\r\n                            selectedTeamId === team.id\r\n                              ? 'bg-blue-600/20 border-l-2 border-blue-500'\r\n                              : 'bg-gray-800/50 hover:bg-gray-800'\r\n                          }`}\r\n                        >\r\n                          <div className=\"flex items-center space-x-3\">\r\n                            <div\r\n                              className=\"w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold\"\r\n                              style={{ backgroundColor: team.color }}\r\n                            >\r\n                              {team.name.charAt(0)}\r\n                            </div>\r\n                            <div className=\"text-left\">\r\n                              <p className=\"text-sm font-medium text-white\">{team.name}</p>\r\n                              <p className=\"text-xs text-gray-500\">{team.memberCount} members</p>\r\n                            </div>\r\n                          </div>\r\n                          {expandedTeams.includes(team.id) ? (\r\n                            <ChevronDown className=\"w-4 h-4 text-gray-500\" />\r\n                          ) : (\r\n                            <ChevronRight className=\"w-4 h-4 text-gray-500\" />\r\n                          )}\r\n                        </button>\r\n\r\n                        {/* Team Members (expanded) */}\r\n                        {expandedTeams.includes(team.id) && (\r\n                          <div className=\"ml-4 mt-1 space-y-1\">\r\n                            {getVisibleMembers(team.id).map((member) => (\r\n                              <Link\r\n                                key={member.id}\r\n                                href={`/calendar?mode=team&team=${team.id}&member=${member.id}`}\r\n                                className={`flex items-center space-x-2 p-2 rounded-lg transition-colors ${\r\n                                  selectedMemberId === member.id\r\n                                    ? 'bg-blue-600/30'\r\n                                    : 'hover:bg-gray-800/50'\r\n                                }`}\r\n                              >\r\n                                <div\r\n                                  className=\"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold\"\r\n                                  style={{ backgroundColor: member.color }}\r\n                                >\r\n                                  {member.name.charAt(0)}\r\n                                </div>\r\n                                <div className=\"flex-1 min-w-0\">\r\n                                  <p className=\"text-xs font-medium text-white truncate\">{member.name}</p>\r\n                                  <p className=\"text-xs text-gray-500 truncate\">{member.role}</p>\r\n                                </div>\r\n                              </Link>\r\n                            ))}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* All Individuals Section (Admin/Lead only) */}\r\n                {isAdminOrLead && (\r\n                  <div className=\"px-4 py-3 border-t border-gray-700/50\">\r\n                    <h4 className=\"text-xs font-semibold text-gray-500 uppercase mb-2\">\r\n                      All Individuals ({allMembers.length})\r\n                    </h4>\r\n                    <div className=\"space-y-1 max-h-48 overflow-y-auto\">\r\n                      {allMembers.map((member) => (\r\n                        <Link\r\n                          key={member.id}\r\n                          href={`/calendar?mode=team&member=${member.id}`}\r\n                          className={`flex items-center space-x-3 p-2 rounded-lg transition-colors ${\r\n                            selectedMemberId === member.id && !selectedTeamId\r\n                              ? 'bg-blue-600/30'\r\n                              : 'bg-gray-800/50 hover:bg-gray-800'\r\n                          }`}\r\n                        >\r\n                          <div\r\n                            className=\"w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold\"\r\n                            style={{ backgroundColor: member.color }}\r\n                          >\r\n                            {member.name.charAt(0)}\r\n                          </div>\r\n                          <div className=\"flex-1 min-w-0\">\r\n                            <p className=\"text-sm font-medium text-white truncate\">{member.name}</p>\r\n                            <p className=\"text-xs text-gray-500 truncate\">{member.role}</p>\r\n                          </div>\r\n                        </Link>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Dev Tools Section - Only shown on dev-controls pages */}\r\n        {isDevToolsPage && (\r\n          <div className=\"border-t border-gray-700 p-4 flex-shrink-0 overflow-y-auto\">\r\n            <h3 className=\"text-xs uppercase tracking-wider text-gray-500 mb-3 px-3\">Studio Ops</h3>\r\n            <nav className=\"space-y-1\">\r\n              <SidebarLink\r\n                href=\"/dev-controls\"\r\n                icon=\"&#127968;\"\r\n                active={pathname === '/dev-controls'}\r\n              >\r\n                Console Home\r\n              </SidebarLink>\r\n              <SidebarLink\r\n                href=\"/dev-controls/releases\"\r\n                icon=\"&#128640;\"\r\n                active={pathname === '/dev-controls/releases'}\r\n              >\r\n                Push / Pull\r\n              </SidebarLink>\r\n              <SidebarLink\r\n                href=\"/dev-controls/analytics\"\r\n                icon=\"&#128202;\"\r\n                active={pathname?.startsWith('/dev-controls/analytics')}\r\n              >\r\n                Analytics\r\n              </SidebarLink>\r\n              <SidebarLink\r\n                href=\"/dev-controls/security\"\r\n                icon=\"&#128274;\"\r\n                active={pathname?.startsWith('/dev-controls/security')}\r\n              >\r\n                Security\r\n              </SidebarLink>\r\n            </nav>\r\n            <h3 className=\"text-xs uppercase tracking-wider text-gray-500 mt-4 mb-3 px-3\">Tools</h3>\r\n            <nav className=\"space-y-1\">\r\n              <SidebarLink\r\n                href=\"/dev-controls/deploy\"\r\n                icon=\"&#128640;\"\r\n                active={pathname === '/dev-controls/deploy'}\r\n              >\r\n                Deploy\r\n              </SidebarLink>\r\n              <SidebarLink\r\n                href=\"/dev-controls/git\"\r\n                icon=\"&#128230;\"\r\n                active={pathname === '/dev-controls/git'}\r\n              >\r\n                Git\r\n              </SidebarLink>\r\n              <SidebarLink\r\n                href=\"/dev-controls/ssh\"\r\n                icon=\"&#128187;\"\r\n                active={pathname === '/dev-controls/ssh'}\r\n              >\r\n                Terminal\r\n              </SidebarLink>\r\n              <SidebarLink\r\n                href=\"/dev-controls/logs\"\r\n                icon=\"&#128203;\"\r\n                active={pathname === '/dev-controls/logs'}\r\n              >\r\n                Logs\r\n              </SidebarLink>\r\n            </nav>\r\n          </div>\r\n        )}\r\n      </aside>\r\n\r\n      {/* Server Detail Panel - Slides in from right */}\r\n      {showDetailPanel && selectedProject && (\r\n        <ServerDetailPanel\r\n          project={selectedProject}\r\n          slot={selectedSlot || undefined}\r\n          onClose={handleCloseDetailPanel}\r\n          onReboot={handleReboot}\r\n          onServerAction={handleServerAction}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\n// Tradeline list for credentials dropdown\r\nconst TRADELINES = [\r\n  { name: 'security', displayName: 'Security', port: 31001 },\r\n  { name: 'administrative', displayName: 'Administrative', port: 31002 },\r\n  { name: 'facilities', displayName: 'Facilities', port: 31003 },\r\n  { name: 'logistics', displayName: 'Logistics', port: 31004 },\r\n  { name: 'electrical', displayName: 'Electrical', port: 31005 },\r\n  { name: 'lowvoltage', displayName: 'Low Voltage', port: 31006 },\r\n  { name: 'landscaping', displayName: 'Landscaping', port: 31007 },\r\n  { name: 'hvac', displayName: 'HVAC', port: 31008 },\r\n  { name: 'plumbing', displayName: 'Plumbing', port: 31009 },\r\n  { name: 'janitorial', displayName: 'Janitorial', port: 31010 },\r\n  { name: 'support', displayName: 'Support', port: 31011 },\r\n  { name: 'waste', displayName: 'Waste', port: 31012 },\r\n  { name: 'construction', displayName: 'Construction', port: 31013 },\r\n  { name: 'roofing', displayName: 'Roofing', port: 31014 },\r\n  { name: 'painting', displayName: 'Painting', port: 31015 },\r\n  { name: 'flooring', displayName: 'Flooring', port: 31016 },\r\n  { name: 'demolition', displayName: 'Demolition', port: 31017 },\r\n  { name: 'environmental', displayName: 'Environmental', port: 31018 },\r\n  { name: 'concrete', displayName: 'Concrete', port: 31019 },\r\n  { name: 'fencing', displayName: 'Fencing', port: 31020 },\r\n];\r\n\r\n// Categories for credential sources\r\nconst CREDENTIAL_CATEGORIES = [\r\n  { key: 'federal', label: 'Federal', icon: 'üèõÔ∏è', path: '/credentials/federal' },\r\n  { key: 'state', label: 'State', icon: 'üó∫Ô∏è', path: '/credentials/state' },\r\n  { key: 'local', label: 'Local', icon: 'üè¢', path: '/credentials/local' },\r\n  { key: 'municipal', label: 'Municipal', icon: '‚ö°', path: '/credentials/municipal' },\r\n  { key: 'other', label: 'Other', icon: 'üì¶', path: '/credentials/other' },\r\n];\r\n\r\nfunction CredentialsDropdown({ pathname }: { pathname: string | null }) {\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  const [showTradelines, setShowTradelines] = useState(false);\r\n  const [editingTradeline, setEditingTradeline] = useState<string | null>(null);\r\n  const isActive = pathname?.startsWith('/credentials');\r\n  const isOverviewActive = pathname === '/credentials';\r\n\r\n  return (\r\n    <div className=\"px-2 py-2 space-y-1\">\r\n      {/* Credential Editor Modal */}\r\n      {editingTradeline && (\r\n        <CredentialEditorModal\r\n          tradeline={editingTradeline}\r\n          onClose={() => setEditingTradeline(null)}\r\n        />\r\n      )}\r\n\r\n      {/* Overview & Alerts - Standalone button */}\r\n      <Link\r\n        href=\"/credentials\"\r\n        className={`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\r\n          isOverviewActive\r\n            ? 'bg-blue-500/20 text-blue-400 border border-blue-500/30'\r\n            : 'text-gray-400 hover:text-white hover:bg-gray-800'\r\n        }`}\r\n      >\r\n        <span>üìä</span>\r\n        <span>Overview & Alerts</span>\r\n      </Link>\r\n\r\n      {/* Credentials Dropdown - Header */}\r\n      <button\r\n        onClick={() => setIsExpanded(!isExpanded)}\r\n        className={`w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\r\n          isActive && !isOverviewActive\r\n            ? 'bg-gray-700 text-white'\r\n            : 'text-gray-400 hover:text-white hover:bg-gray-800'\r\n        }`}\r\n      >\r\n        <div className=\"flex items-center gap-2\">\r\n          <span>üîë</span>\r\n          <span>Credentials</span>\r\n        </div>\r\n        {isExpanded ? (\r\n          <ChevronDown className=\"w-4 h-4\" />\r\n        ) : (\r\n          <ChevronRight className=\"w-4 h-4\" />\r\n        )}\r\n      </button>\r\n\r\n      {/* Dropdown list */}\r\n      {isExpanded && (\r\n        <div className=\"ml-2 space-y-0.5\">\r\n          {/* Category Links */}\r\n          {CREDENTIAL_CATEGORIES.map((cat) => (\r\n            <Link\r\n              key={cat.key}\r\n              href={cat.path}\r\n              className={`flex items-center gap-2 px-3 py-1.5 rounded text-xs transition-colors ${\r\n                pathname === cat.path\r\n                  ? 'bg-blue-500/20 text-blue-400'\r\n                  : 'text-gray-400 hover:text-white hover:bg-gray-800'\r\n              }`}\r\n            >\r\n              <span>{cat.icon}</span>\r\n              <span>{cat.label}</span>\r\n            </Link>\r\n          ))}\r\n\r\n          {/* Tradelines Submenu */}\r\n          <div className=\"pt-1 mt-1 border-t border-gray-700/50\">\r\n            <button\r\n              onClick={() => setShowTradelines(!showTradelines)}\r\n              className=\"w-full flex items-center justify-between px-3 py-1.5 rounded text-xs text-gray-500 hover:text-white hover:bg-gray-800 transition-colors\"\r\n            >\r\n              <div className=\"flex items-center gap-2\">\r\n                <span>‚öôÔ∏è</span>\r\n                <span>Tradeline Settings</span>\r\n              </div>\r\n              {showTradelines ? (\r\n                <ChevronDown className=\"w-3 h-3\" />\r\n              ) : (\r\n                <ChevronRight className=\"w-3 h-3\" />\r\n              )}\r\n            </button>\r\n\r\n            {showTradelines && (\r\n              <div className=\"ml-4 mt-1 space-y-0.5 max-h-48 overflow-y-auto\">\r\n                {TRADELINES.map((t) => (\r\n                  <button\r\n                    key={t.name}\r\n                    onClick={() => setEditingTradeline(t.name)}\r\n                    className=\"block w-full text-left px-3 py-1 rounded text-xs transition-colors text-gray-500 hover:text-white hover:bg-gray-800\"\r\n                  >\r\n                    {t.displayName}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Inline Credential Editor Modal for sidebar\r\nfunction CredentialEditorModal({ tradeline, onClose }: { tradeline: string; onClose: () => void }) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [activeSection, setActiveSection] = useState('apis');\r\n  const [activeApiTab, setActiveApiTab] = useState('sam_gov');\r\n  const [showPasswords, setShowPasswords] = useState(false);\r\n  const [credentials, setCredentials] = useState<Record<string, Record<string, string>>>({});\r\n  const [naicsCodes, setNaicsCodes] = useState<string>('');\r\n  const [keywords, setKeywords] = useState<string>('');\r\n\r\n  const sections = [\r\n    { key: 'apis', label: 'API Keys' },\r\n    { key: 'naics', label: 'NAICS Codes' },\r\n    { key: 'keywords', label: 'Keywords' },\r\n  ];\r\n\r\n  const apiTypes = [\r\n    { key: 'sam_gov', label: 'SAM.gov', fields: [\r\n      { key: 'api_key', label: 'API Key', type: 'password', placeholder: 'Enter API key' },\r\n    ]},\r\n    { key: 'govwin', label: 'GovWin', fields: [\r\n      { key: 'username', label: 'Username', type: 'text', placeholder: 'Enter username' },\r\n      { key: 'password', label: 'Password', type: 'password', placeholder: 'Enter password' },\r\n    ]},\r\n    { key: 'planetbids', label: 'PlanetBids', fields: [\r\n      { key: 'username', label: 'Username', type: 'text', placeholder: 'Enter username' },\r\n      { key: 'password', label: 'Password', type: 'password', placeholder: 'Enter password' },\r\n    ]},\r\n    { key: 'bidnet', label: 'BidNet', fields: [\r\n      { key: 'username', label: 'Username', type: 'text', placeholder: 'Enter username' },\r\n      { key: 'password', label: 'Password', type: 'password', placeholder: 'Enter password' },\r\n    ]},\r\n  ];\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const [credRes, configRes] = await Promise.all([\r\n          fetch(`/api/patcher/credentials/${tradeline}`).catch(() => null),\r\n          fetch(`/api/patcher/config/${tradeline}`).catch(() => null),\r\n        ]);\r\n        if (credRes?.ok) {\r\n          const data = await credRes.json();\r\n          if (data.credentials) setCredentials(data.credentials);\r\n        }\r\n        if (configRes?.ok) {\r\n          const data = await configRes.json();\r\n          if (data.naics) setNaicsCodes(data.naics.join('\\n'));\r\n          if (data.keywords) setKeywords(data.keywords.join('\\n'));\r\n        }\r\n      } catch (e) {\r\n        setError((e as Error).message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [tradeline]);\r\n\r\n  const handleFieldChange = (typeKey: string, fieldKey: string, value: string) => {\r\n    setCredentials(prev => ({\r\n      ...prev,\r\n      [typeKey]: { ...(prev[typeKey] || {}), [fieldKey]: value },\r\n    }));\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setSaving(true);\r\n    try {\r\n      await fetch(`/api/patcher/credentials/${tradeline}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ credentials }),\r\n      });\r\n      await fetch(`/api/patcher/config/${tradeline}`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          naics: naicsCodes.split('\\n').filter(Boolean),\r\n          keywords: keywords.split('\\n').filter(Boolean),\r\n        }),\r\n      });\r\n      onClose();\r\n    } catch (e) {\r\n      setError((e as Error).message);\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const activeApiType = apiTypes.find(t => t.key === activeApiTab);\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-8\">\r\n      <div className=\"bg-gray-900 border border-gray-700 rounded-xl w-full max-w-3xl max-h-[85vh] flex flex-col\">\r\n        <div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-700\">\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-white capitalize\">{tradeline} Settings</h3>\r\n            <p className=\"text-xs text-gray-500\">API keys, NAICS codes, and keywords</p>\r\n          </div>\r\n          <button onClick={onClose} className=\"text-gray-400 hover:text-white text-2xl\">&times;</button>\r\n        </div>\r\n\r\n        <div className=\"flex border-b border-gray-700 bg-gray-800/50\">\r\n          {sections.map(s => (\r\n            <button\r\n              key={s.key}\r\n              onClick={() => setActiveSection(s.key)}\r\n              className={`px-6 py-3 text-sm font-medium ${activeSection === s.key ? 'text-white bg-gray-700 border-b-2 border-blue-500' : 'text-gray-400 hover:text-white'}`}\r\n            >\r\n              {s.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"flex-1 overflow-auto p-6\">\r\n          {loading && <div className=\"text-gray-400 text-center py-8\">Loading...</div>}\r\n          {error && <div className=\"bg-red-500/15 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg mb-4\">{error}</div>}\r\n\r\n          {!loading && activeSection === 'apis' && (\r\n            <div>\r\n              <div className=\"flex gap-2 mb-4\">\r\n                {apiTypes.map(t => (\r\n                  <button\r\n                    key={t.key}\r\n                    onClick={() => setActiveApiTab(t.key)}\r\n                    className={`px-3 py-1.5 text-xs font-medium rounded-lg ${activeApiTab === t.key ? 'bg-blue-500 text-white' : 'bg-gray-800 text-gray-400 border border-gray-700'}`}\r\n                  >\r\n                    {t.label}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n              <label className=\"flex items-center gap-2 text-sm text-gray-400 mb-4\">\r\n                <input type=\"checkbox\" checked={showPasswords} onChange={e => setShowPasswords(e.target.checked)} className=\"rounded bg-gray-700\" />\r\n                Show passwords\r\n              </label>\r\n              {activeApiType?.fields.map(f => (\r\n                <div key={f.key} className=\"mb-4\">\r\n                  <label className=\"block text-sm text-gray-400 mb-2\">{f.label}</label>\r\n                  <input\r\n                    type={f.type === 'password' && !showPasswords ? 'password' : 'text'}\r\n                    value={credentials[activeApiTab]?.[f.key] || ''}\r\n                    onChange={e => handleFieldChange(activeApiTab, f.key, e.target.value)}\r\n                    placeholder={f.placeholder}\r\n                    className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white\"\r\n                  />\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {!loading && activeSection === 'naics' && (\r\n            <div>\r\n              <p className=\"text-sm text-gray-400 mb-4\">Enter NAICS codes, one per line.</p>\r\n              <textarea\r\n                value={naicsCodes}\r\n                onChange={e => setNaicsCodes(e.target.value)}\r\n                rows={10}\r\n                className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white font-mono text-sm\"\r\n                placeholder=\"541330&#10;238210\"\r\n              />\r\n              <p className=\"text-xs text-gray-500 mt-2\">{naicsCodes.split('\\n').filter(Boolean).length} codes</p>\r\n            </div>\r\n          )}\r\n\r\n          {!loading && activeSection === 'keywords' && (\r\n            <div>\r\n              <p className=\"text-sm text-gray-400 mb-4\">Enter keywords, one per line.</p>\r\n              <textarea\r\n                value={keywords}\r\n                onChange={e => setKeywords(e.target.value)}\r\n                rows={10}\r\n                className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white font-mono text-sm\"\r\n                placeholder=\"fire alarm&#10;security system\"\r\n              />\r\n              <p className=\"text-xs text-gray-500 mt-2\">{keywords.split('\\n').filter(Boolean).length} keywords</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"flex justify-end gap-3 px-6 py-4 border-t border-gray-700\">\r\n          <button onClick={onClose} className=\"px-4 py-2 text-sm text-gray-400 hover:text-white\">Cancel</button>\r\n          <button onClick={handleSave} disabled={saving} className=\"px-4 py-2 text-sm font-semibold bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50\">\r\n            {saving ? 'Saving...' : 'Save Changes'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SidebarLink({\r\n  href,\r\n  icon,\r\n  count,\r\n  description,\r\n  active,\r\n  children,\r\n}: {\r\n  href: string;\r\n  icon: string;\r\n  count?: number;\r\n  description?: string;\r\n  active: boolean;\r\n  children: React.ReactNode;\r\n}) {\r\n  return (\r\n    <Link\r\n      href={href}\r\n      className={`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${\r\n        active\r\n          ? 'bg-blue-500/20 text-blue-400'\r\n          : 'text-gray-400 hover:text-white hover:bg-gray-800'\r\n      }`}\r\n      title={description}\r\n    >\r\n      <span dangerouslySetInnerHTML={{ __html: icon }} />\r\n      <span className=\"flex-1 truncate\">{children}</span>\r\n      {count !== undefined && (\r\n        <span className={`text-xs px-2 py-0.5 rounded-full ${\r\n          active ? 'bg-blue-500 text-white' : 'bg-gray-700 text-gray-400'\r\n        }`}>\r\n          {count}\r\n        </span>\r\n      )}\r\n    </Link>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { RoleGate } from '@/app/settings/RoleGate';\r\nimport { useUser } from '@/app/settings/UserContext';\r\nimport { StatusDot, ServerHealth, SlotStatus, ProjectStatus, WorkerStatus } from './ServerStatusIndicator';\r\n\r\ninterface ServerDetailPanelProps {\r\n  project: ProjectStatus;\r\n  slot?: SlotStatus;\r\n  onClose: () => void;\r\n  onReboot?: (target: 'all' | 'main' | number) => Promise<void>;\r\n  onServerAction?: (action: 'start' | 'restart' | 'stop', port: string) => Promise<void>;\r\n}\r\n\r\n// Generate default workers for a slot (used when slot is offline/no data)\r\n// Port format: 3[Droplet][Worker][SlotId] - e.g., 31006 = Droplet 1, Main (0), Slot 06\r\n// (Main)Engine / (W1)Discovery / (W2)Scope of Work / (W3)Full Report / (W4)Proposal\r\nconst getDefaultWorkers = (slotId: string, status: 'online' | 'offline' | 'error' = 'offline'): WorkerStatus[] => [\r\n  { port: parseInt(`310${slotId}`), name: 'Engine', status },\r\n  { port: parseInt(`311${slotId}`), name: 'Discovery', status },\r\n  { port: parseInt(`312${slotId}`), name: 'Scope of Work', status },\r\n  { port: parseInt(`313${slotId}`), name: 'Full Report', status },\r\n  { port: parseInt(`314${slotId}`), name: 'Proposal', status },\r\n];\r\n\r\n// Get workers for a slot - use real data if available, otherwise generate defaults\r\nconst getSlotWorkers = (slot: SlotStatus): WorkerStatus[] => {\r\n  // If slot has real worker data from API, use it\r\n  if (slot.workers && slot.workers.length > 0) {\r\n    return slot.workers;\r\n  }\r\n  // Otherwise generate default workers with offline status\r\n  return getDefaultWorkers(slot.slotId, 'offline');\r\n};\r\n\r\nexport default function ServerDetailPanel({ project, slot, onClose, onReboot, onServerAction }: ServerDetailPanelProps) {\r\n  const { hasPermission } = useUser();\r\n  const [activeTab, setActiveTab] = useState<'health' | 'logs'>('health');\r\n  const [logText, setLogText] = useState<string>('');\r\n  const [logLoading, setLogLoading] = useState(false);\r\n  const [rebooting, setRebooting] = useState<string | null>(null);\r\n  const [serverActionLoading, setServerActionLoading] = useState<string | null>(null);\r\n  const [autoScroll, setAutoScroll] = useState(true);\r\n  const logContainerRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Fetch real logs from patcher API\r\n  const fetchLogs = async () => {\r\n    if (!slot) return;\r\n    setLogLoading(true);\r\n    try {\r\n      const encodedTradeline = encodeURIComponent(slot.tradeline);\r\n      console.log('Fetching logs for tradeline:', slot.tradeline, 'encoded:', encodedTradeline);\r\n      const res = await fetch(`/api/patcher/server/logs/${encodedTradeline}?lines=50`);\r\n      const data = await res.json();\r\n      console.log('Logs response:', data);\r\n      if (data.success && data.logs) {\r\n        setLogText(data.logs);\r\n      } else {\r\n        setLogText(`Error: ${data.error || 'Failed to fetch logs'}\\n\\nTradeline: ${slot.tradeline}\\nPort: ${slot.mainPort}\\nProcess: ${data.process || 'unknown'}`);\r\n      }\r\n    } catch (error) {\r\n      setLogText('Error fetching logs: ' + (error as Error).message);\r\n    } finally {\r\n      setLogLoading(false);\r\n    }\r\n  };\r\n\r\n\r\n  // Auto-scroll logs\r\n  useEffect(() => {\r\n    if (autoScroll && logContainerRef.current) {\r\n      logContainerRef.current.scrollTop = logContainerRef.current.scrollHeight;\r\n    }\r\n  }, [logText, autoScroll]);\r\n\r\n\r\n  const workers = slot ? getSlotWorkers(slot) : [];\r\n\r\n  const handleReboot = async (target: 'all' | 'main' | number) => {\r\n    const confirmMsg = target === 'all'\r\n      ? `Reboot ALL workers for ${slot?.tradeline || project.name}?`\r\n      : target === 'main'\r\n      ? `Reboot main server for ${slot?.tradeline || project.name}?`\r\n      : `Reboot worker on port ${target}?`;\r\n\r\n    if (!confirm(confirmMsg)) return;\r\n\r\n    setRebooting(target.toString());\r\n    try {\r\n      await onReboot?.(target);\r\n      // Button stays in \"Rebooting...\" state for a few seconds\r\n      // Health will update via the parent's polling\r\n      setTimeout(() => setRebooting(null), 5000);\r\n    } catch (error) {\r\n      setRebooting(null);\r\n    }\r\n  };\r\n\r\n  const handleServerAction = async (action: 'start' | 'restart' | 'stop') => {\r\n    if (!slot) return;\r\n\r\n    const confirmMessages: Record<string, string> = {\r\n      'start': `Start all workers for port ${slot.mainPort}?`,\r\n      'restart': `Restart all workers for port ${slot.mainPort}? This will briefly interrupt service.`,\r\n      'stop': `Stop all workers for port ${slot.mainPort}? Service will go offline.`,\r\n    };\r\n\r\n    if (!confirm(confirmMessages[action])) return;\r\n\r\n    setServerActionLoading(action);\r\n    try {\r\n      await onServerAction?.(action, slot.mainPort.toString());\r\n      setTimeout(() => {\r\n        setServerActionLoading(null);\r\n        window.location.reload();\r\n      }, 2000);\r\n    } catch (error) {\r\n      setServerActionLoading(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Backdrop - click to close (starts after sidebar width) */}\r\n      <div\r\n        className=\"fixed top-14 bottom-0 left-64 right-0 z-30\"\r\n        onClick={onClose}\r\n      />\r\n      <div className=\"fixed top-14 bottom-0 left-64 w-[480px] bg-gray-900 border-l border-gray-700 z-40 flex flex-col\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between p-4 border-b border-gray-700\">\r\n        <div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <StatusDot health={slot?.health || project.health} size=\"md\" />\r\n            <h3 className=\"text-lg font-semibold text-white\">\r\n              {slot ? `${slot.tradeline} (Slot ${slot.slotId})` : project.name}\r\n            </h3>\r\n          </div>\r\n          <div className=\"text-sm text-gray-400 mt-1\">\r\n            {slot ? `Port ${slot.mainPort} + workers` : `Patcher ${project.patcherPort}`}\r\n          </div>\r\n        </div>\r\n        <button\r\n          onClick={onClose}\r\n          className=\"text-gray-400 hover:text-white text-2xl leading-none\"\r\n        >\r\n          &times;\r\n        </button>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"flex border-b border-gray-700\">\r\n        <button\r\n          onClick={() => setActiveTab('health')}\r\n          className={`flex-1 px-4 py-2 text-sm font-medium transition-colors ${\r\n            activeTab === 'health'\r\n              ? 'text-white bg-gray-700'\r\n              : 'text-gray-400 hover:text-white hover:bg-gray-800'\r\n          }`}\r\n        >\r\n          Health\r\n        </button>\r\n        <button\r\n          onClick={() => setActiveTab('logs')}\r\n          className={`flex-1 px-4 py-2 text-sm font-medium transition-colors ${\r\n            activeTab === 'logs'\r\n              ? 'text-white bg-gray-700'\r\n              : 'text-gray-400 hover:text-white hover:bg-gray-800'\r\n          }`}\r\n        >\r\n          Logs\r\n        </button>\r\n      </div>\r\n\r\n      {/* Tab Content */}\r\n      <div className=\"flex-1 overflow-hidden\">\r\n        {/* Health Tab */}\r\n        {activeTab === 'health' && (\r\n          <div className=\"p-4 space-y-4 h-full overflow-y-auto\">\r\n            {/* Overall Health */}\r\n            <div className={`rounded-xl p-4 border ${\r\n              (slot?.health || project.health) === 'healthy' ? 'bg-green-500/10 border-green-500/30' :\r\n              (slot?.health || project.health) === 'degraded' ? 'bg-yellow-500/10 border-yellow-500/30' :\r\n              'bg-red-500/10 border-red-500/30'\r\n            }`}>\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <div className=\"text-sm text-gray-400 uppercase tracking-wider\">Overall Health</div>\r\n                  <div className={`text-2xl font-bold capitalize ${\r\n                    (slot?.health || project.health) === 'healthy' ? 'text-green-400' :\r\n                    (slot?.health || project.health) === 'degraded' ? 'text-yellow-400' :\r\n                    'text-red-400'\r\n                  }`}>\r\n                    {slot?.health || project.health}\r\n                  </div>\r\n                </div>\r\n                <div className={`text-5xl ${\r\n                  (slot?.health || project.health) === 'healthy' ? 'text-green-400' :\r\n                  (slot?.health || project.health) === 'degraded' ? 'text-yellow-400' :\r\n                  'text-red-400'\r\n                }`}>\r\n                  {(slot?.health || project.health) === 'healthy' ? '‚úì' :\r\n                   (slot?.health || project.health) === 'degraded' ? '‚ö†' : '‚úó'}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Workers Status */}\r\n            {slot && (\r\n              <div className=\"bg-gray-800 border border-gray-700 rounded-xl\">\r\n                <div className=\"px-4 py-3 border-b border-gray-700 flex items-center justify-between\">\r\n                  <h4 className=\"font-medium text-white\">Workers ({workers.length})</h4>\r\n                  <RoleGate permission=\"canPushToTest\">\r\n                    <button\r\n                      onClick={() => handleReboot('all')}\r\n                      disabled={rebooting === 'all'}\r\n                      className=\"px-3 py-1 text-xs font-semibold rounded bg-red-500/15 text-red-400 border border-red-500/30 hover:bg-red-500 hover:text-white transition-colors disabled:opacity-50\"\r\n                    >\r\n                      {rebooting === 'all' ? 'Rebooting...' : 'Reboot All'}\r\n                    </button>\r\n                  </RoleGate>\r\n                </div>\r\n                <div className=\"divide-y divide-gray-700\">\r\n                  {workers.map((worker) => (\r\n                    <div key={worker.port} className=\"px-4 py-3 flex items-center justify-between\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <div className={`w-2.5 h-2.5 rounded-full ${\r\n                          worker.status === 'online' ? 'bg-green-500' :\r\n                          worker.status === 'error' ? 'bg-yellow-500' :\r\n                          'bg-red-500'\r\n                        }`} />\r\n                        <div>\r\n                          <div className=\"text-sm font-medium text-white capitalize\">{worker.name}</div>\r\n                          <div className=\"text-xs text-gray-500\">Port {worker.port}</div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <div className=\"text-right\">\r\n                          <div className={`text-xs ${\r\n                            worker.status === 'online' ? 'text-green-400' :\r\n                            worker.status === 'error' ? 'text-yellow-400' :\r\n                            'text-red-400'\r\n                          }`}>\r\n                            {worker.status === 'online' ? 'Online' : worker.status === 'error' ? 'Error' : 'Offline'}\r\n                          </div>\r\n                          {worker.lastPing && (\r\n                            <div className=\"text-xs text-gray-600\">{worker.lastPing}</div>\r\n                          )}\r\n                          {worker.errorCount && worker.errorCount > 0 && (\r\n                            <div className=\"text-xs text-red-400\">{worker.errorCount} errors</div>\r\n                          )}\r\n                        </div>\r\n                        <RoleGate permission=\"canPushToTest\">\r\n                          <button\r\n                            onClick={() => handleReboot(worker.port)}\r\n                            disabled={rebooting === worker.port.toString()}\r\n                            className=\"px-2 py-1 text-xs rounded bg-gray-700 text-gray-300 hover:bg-gray-600 transition-colors disabled:opacity-50\"\r\n                          >\r\n                            {rebooting === worker.port.toString() ? '...' : 'Reboot'}\r\n                          </button>\r\n                        </RoleGate>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Quick Metrics */}\r\n            {slot && (\r\n              <div className=\"grid grid-cols-2 gap-3\">\r\n                <div className=\"bg-gray-800 border border-gray-700 rounded-xl p-4\">\r\n                  <div className=\"text-xs text-gray-500 uppercase tracking-wider\">CPU</div>\r\n                  <div className=\"text-2xl font-bold text-white mt-1\">{slot.cpu || 0}%</div>\r\n                  <div className=\"mt-2 h-2 bg-gray-700 rounded-full overflow-hidden\">\r\n                    <div\r\n                      className={`h-full rounded-full ${\r\n                        (slot.cpu || 0) > 80 ? 'bg-red-500' :\r\n                        (slot.cpu || 0) > 60 ? 'bg-yellow-500' :\r\n                        'bg-green-500'\r\n                      }`}\r\n                      style={{ width: `${slot.cpu || 0}%` }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"bg-gray-800 border border-gray-700 rounded-xl p-4\">\r\n                  <div className=\"text-xs text-gray-500 uppercase tracking-wider\">Memory</div>\r\n                  <div className=\"text-2xl font-bold text-white mt-1\">{slot.memory || 0}%</div>\r\n                  <div className=\"mt-2 h-2 bg-gray-700 rounded-full overflow-hidden\">\r\n                    <div\r\n                      className={`h-full rounded-full ${\r\n                        (slot.memory || 0) > 80 ? 'bg-red-500' :\r\n                        (slot.memory || 0) > 60 ? 'bg-yellow-500' :\r\n                        'bg-green-500'\r\n                      }`}\r\n                      style={{ width: `${slot.memory || 0}%` }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Server Actions */}\r\n            {slot && (\r\n              <div className=\"grid grid-cols-3 gap-3 mt-4\">\r\n                <button\r\n                  onClick={() => handleServerAction('start')}\r\n                  disabled={serverActionLoading !== null}\r\n                  className=\"py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-500 transition-colors disabled:opacity-50\"\r\n                >\r\n                  {serverActionLoading === 'start' ? 'Starting...' : 'Start'}\r\n                </button>\r\n                <button\r\n                  onClick={() => handleServerAction('restart')}\r\n                  disabled={serverActionLoading !== null}\r\n                  className=\"py-3 bg-yellow-600 text-white rounded-lg font-medium hover:bg-yellow-500 transition-colors disabled:opacity-50\"\r\n                >\r\n                  {serverActionLoading === 'restart' ? 'Restarting...' : 'Restart'}\r\n                </button>\r\n                <button\r\n                  onClick={() => handleServerAction('stop')}\r\n                  disabled={serverActionLoading !== null}\r\n                  className=\"py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-500 transition-colors disabled:opacity-50\"\r\n                >\r\n                  {serverActionLoading === 'stop' ? 'Stopping...' : 'Stop'}\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Logs Tab */}\r\n        {activeTab === 'logs' && (\r\n          <div className=\"h-full flex flex-col\">\r\n            {/* Logs Controls */}\r\n            <div className=\"flex items-center justify-between px-4 py-2 border-b border-gray-700 bg-gray-800/50\">\r\n              <div className=\"text-sm text-gray-400\">\r\n                PM2 Logs - nextbid-{slot?.mainPort}\r\n              </div>\r\n              <button\r\n                onClick={fetchLogs}\r\n                disabled={logLoading}\r\n                className=\"px-3 py-1.5 text-xs bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors disabled:opacity-50\"\r\n              >\r\n                {logLoading ? 'Loading...' : 'Get Last 50 Lines'}\r\n              </button>\r\n            </div>\r\n\r\n            {/* Logs */}\r\n            <div ref={logContainerRef} className=\"flex-1 overflow-y-auto p-3 font-mono text-xs bg-black/30\">\r\n              {logLoading ? (\r\n                <div className=\"text-gray-500\">Loading logs...</div>\r\n              ) : logText ? (\r\n                <pre className=\"text-gray-300 whitespace-pre-wrap\">{logText}</pre>\r\n              ) : (\r\n                <div className=\"text-gray-500 text-center py-8\">\r\n                  <p>Click \"Get Last 50 Lines\" to fetch PM2 logs</p>\r\n                  <p className=\"text-gray-600 mt-2 text-xs\">Requires PM2 process to be running on server</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n      </div>\r\n    </div>\r\n    </>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { createContext, useContext, useState, useCallback, ReactNode } from 'react';\r\n\r\n// Developer team definitions with port ranges\r\nexport interface DeveloperTeam {\r\n  id: 'dev1' | 'dev2' | 'dev3';\r\n  label: string;\r\n  basePort: number;  // Base port for Claude terminal (5410, 5420, 5430)\r\n  portRange: string; // Display range (5410-5417, 5420-5427, 5430-5437)\r\n}\r\n\r\n// Kodiack AI Team member definitions for each dev slot\r\nexport interface AITeamMember {\r\n  name: string;\r\n  role: string;\r\n  portOffset: number; // Added to basePort (0=Claude, 1=Chad, 2=Jen, 3=Susan, 4=Clair, 5=Mike, 6=Tiffany, 7=Ryan)\r\n}\r\n\r\nexport const KODIACK_AI_TEAM: AITeamMember[] = [\r\n  { name: 'Claude', role: 'Lead Developer', portOffset: 0 },\r\n  { name: 'Chad', role: 'Transcription & Capture', portOffset: 1 },\r\n  { name: 'Jen', role: 'Scrubbing & Signal Extraction', portOffset: 2 },\r\n  { name: 'Susan', role: 'Classification & Sorting', portOffset: 3 },\r\n  { name: 'Clair', role: 'Conversion & Documentation', portOffset: 4 },\r\n  { name: 'Mike', role: 'QA Tester', portOffset: 5 },\r\n  { name: 'Tiffany', role: 'QA Tester', portOffset: 6 },\r\n  { name: 'Ryan', role: 'Roadmap & Prioritization', portOffset: 7 },\r\n];\r\n\r\nexport const DEVELOPER_TEAMS: DeveloperTeam[] = [\r\n  { id: 'dev1', label: 'Development Team 1', basePort: 5410, portRange: '5410-5417' },\r\n  { id: 'dev2', label: 'Development Team 2', basePort: 5420, portRange: '5420-5427' },\r\n  { id: 'dev3', label: 'Development Team 3', basePort: 5430, portRange: '5430-5437' },\r\n];\r\n\r\nexport type ConnectionStatus = 'disconnected' | 'connecting' | 'connected';\r\n\r\nexport interface TeamMemberStatus {\r\n  name: string;\r\n  port: number;\r\n  status: 'offline' | 'starting' | 'online' | 'error';\r\n}\r\n\r\ninterface DeveloperContextValue {\r\n  // Team selection\r\n  selectedTeam: DeveloperTeam;\r\n  setSelectedTeam: (team: DeveloperTeam) => void;\r\n  selectTeamById: (id: string) => void;\r\n\r\n  // Connection state\r\n  connectionStatus: ConnectionStatus;\r\n  teamStatuses: TeamMemberStatus[];\r\n  lockedUserId: string | null;\r\n  sessionId: string | null;\r\n\r\n  // Actions\r\n  connect: (userId: string) => Promise<void>;\r\n  disconnect: () => Promise<void>;\r\n}\r\n\r\nconst DeveloperContext = createContext<DeveloperContextValue>({\r\n  selectedTeam: DEVELOPER_TEAMS[0],\r\n  setSelectedTeam: () => {},\r\n  selectTeamById: () => {},\r\n  connectionStatus: 'disconnected',\r\n  teamStatuses: [],\r\n  lockedUserId: null,\r\n  sessionId: null,\r\n  connect: async () => {},\r\n  disconnect: async () => {},\r\n});\r\n\r\nexport function DeveloperProvider({ children }: { children: ReactNode }) {\r\n  const [selectedTeam, setSelectedTeam] = useState<DeveloperTeam>(DEVELOPER_TEAMS[0]);\r\n  const [connectionStatus, setConnectionStatus] = useState<ConnectionStatus>('disconnected');\r\n  const [teamStatuses, setTeamStatuses] = useState<TeamMemberStatus[]>([]);\r\n  const [lockedUserId, setLockedUserId] = useState<string | null>(null);\r\n  const [sessionId, setSessionId] = useState<string | null>(null);\r\n\r\n  const selectTeamById = (id: string) => {\r\n    // Can't change team while connected\r\n    if (connectionStatus === 'connected') return;\r\n\r\n    const team = DEVELOPER_TEAMS.find(t => t.id === id);\r\n    if (team) {\r\n      setSelectedTeam(team);\r\n    }\r\n  };\r\n\r\n  const connect = useCallback(async (userId: string) => {\r\n    if (connectionStatus !== 'disconnected') return;\r\n\r\n    setConnectionStatus('connecting');\r\n    setLockedUserId(userId);\r\n\r\n    // Initialize team member statuses\r\n    const initialStatuses: TeamMemberStatus[] = KODIACK_AI_TEAM.map(member => ({\r\n      name: member.name,\r\n      port: selectedTeam.basePort + member.portOffset,\r\n      status: 'starting',\r\n    }));\r\n    setTeamStatuses(initialStatuses);\r\n\r\n    try {\r\n      // Call API to start/connect AI team for this dev slot\r\n      const response = await fetch('/api/dev-session/connect', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          devSlot: selectedTeam.id,\r\n          basePort: selectedTeam.basePort,\r\n          userId,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        setSessionId(data.sessionId);\r\n        setTeamStatuses(data.teamStatuses || initialStatuses.map(m => ({ ...m, status: 'online' })));\r\n        setConnectionStatus('connected');\r\n      } else {\r\n        throw new Error(data.error || 'Failed to connect');\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to connect dev session:', error);\r\n      setConnectionStatus('disconnected');\r\n      setLockedUserId(null);\r\n      setTeamStatuses([]);\r\n    }\r\n  }, [connectionStatus, selectedTeam]);\r\n\r\n  const disconnect = useCallback(async () => {\r\n    if (connectionStatus !== 'connected') return;\r\n\r\n    try {\r\n      await fetch('/api/dev-session/disconnect', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          sessionId,\r\n          devSlot: selectedTeam.id,\r\n        }),\r\n      });\r\n    } catch (error) {\r\n      console.error('Error disconnecting:', error);\r\n    }\r\n\r\n    setConnectionStatus('disconnected');\r\n    setLockedUserId(null);\r\n    setSessionId(null);\r\n    setTeamStatuses([]);\r\n  }, [connectionStatus, sessionId, selectedTeam]);\r\n\r\n  return (\r\n    <DeveloperContext.Provider value={{\r\n      selectedTeam,\r\n      setSelectedTeam,\r\n      selectTeamById,\r\n      connectionStatus,\r\n      teamStatuses,\r\n      lockedUserId,\r\n      sessionId,\r\n      connect,\r\n      disconnect,\r\n    }}>\r\n      {children}\r\n    </DeveloperContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useDeveloper() {\r\n  const context = useContext(DeveloperContext);\r\n  if (!context) {\r\n    throw new Error('useDeveloper must be used within a DeveloperProvider');\r\n  }\r\n  return context;\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,3,10,11,12,13,14,15,16,17,18,19,20]}