module.exports=[67282,a=>{"use strict";var b=a.i(18030),c=a.i(30072),d=a.i(55259),e=a.i(51679),f=a.i(38270);function g(){let a=(0,d.useParams)(),g=(0,d.useRouter)(),h=a.id,i=(0,c.useContext)(f.PageTitleContext),j=(0,c.useContext)(f.PageActionsContext),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(null),[E,F]=(0,c.useState)(!0),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(null),[K,L]=(0,c.useState)(null),M=async()=>{H(!0),J(null),L(null);try{let a=y;if(A){let b=new FormData;b.append("file",A),b.append("memberId",h);let c=await fetch("/api/team/members/upload-avatar",{method:"POST",body:b});c.ok&&(a=(await c.json()).url)}let b=await fetch(`/api/team/members/${h}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:o,status:q,phone:s,title:u,department:w,avatar_url:a})}),c=await b.json();if(!b.ok)throw Error(c.error||"Failed to update member");L("Member updated successfully!"),l(c.member),B(null)}catch(a){J(a.message)}finally{H(!1)}},N=async()=>{if(confirm("Are you sure you want to remove this member's Dashboard access?"))try{let a=await fetch(`/api/team/members/${h}`,{method:"DELETE"});if(!a.ok){let b=await a.json();throw Error(b.error||"Failed to delete member")}g.push("/team/members")}catch(a){J(a.message)}};if((0,c.useEffect)(()=>{!async function(){try{let[a,b]=await Promise.all([fetch(`/api/team/members/${h}`),fetch("/api/team/roles")]);if(!a.ok)throw Error("Member not found");let c=await a.json(),d=await b.json();l(c),n(d),p(c.role),r(c.status),t(c.phone||""),v(c.title||""),x(c.department||""),z(c.avatar_url||"")}catch(a){J(a.message)}finally{F(!1)}}()},[h]),(0,c.useEffect)(()=>(i({title:k?`Edit ${k.name}`:"Edit Member",description:k?k.email:"Update role and permissions"}),j((0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.default,{href:"/team/members",className:"px-4 py-1.5 bg-black/20 text-white rounded-lg text-sm font-semibold hover:bg-black/30 transition-colors border border-black/30",children:"Cancel"}),(0,b.jsx)("button",{onClick:M,disabled:G,className:"px-4 py-1.5 bg-white text-blue-600 rounded-lg text-sm font-semibold hover:bg-white/90 transition-colors disabled:opacity-50 border border-black/30",children:G?"Saving...":"Save Changes"})]})),()=>{i({title:"",description:""}),j(null)}),[k,G,i,j,o,q]),E)return(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)("div",{className:"text-gray-400",children:"Loading..."})});if(!k)return(0,b.jsx)("div",{className:"bg-red-500/15 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg",children:"Member not found"});let O=m.find(a=>a.id===o);return(0,b.jsxs)("div",{children:[I&&(0,b.jsx)("div",{className:"bg-red-500/15 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg mb-6",children:I}),K&&(0,b.jsx)("div",{className:"bg-green-500/15 border border-green-500/30 text-green-400 px-4 py-3 rounded-lg mb-6",children:K}),(0,b.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-xl p-6 mb-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Profile"}),(0,b.jsxs)("div",{className:"flex items-start gap-6 mb-6",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("div",{className:"w-24 h-24 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-400 font-bold text-3xl overflow-hidden border-2 border-gray-600",children:C||y?(0,b.jsx)("img",{src:C||y,alt:k.name,className:"w-full h-full object-cover"}):k.name.charAt(0).toUpperCase()}),(0,b.jsxs)("label",{className:"mt-3 px-3 py-1.5 bg-gray-700 text-gray-300 rounded-lg text-xs font-medium hover:bg-gray-600 transition-colors cursor-pointer",children:["Upload Photo",(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>{let b=a.target.files?.[0];if(b){B(b);let a=new FileReader;a.onloadend=()=>{D(a.result)},a.readAsDataURL(b)}},className:"hidden"})]})]}),(0,b.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Name"}),(0,b.jsx)("div",{className:"text-white text-lg",children:k.name}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Name is managed via NextBid account"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,b.jsx)("div",{className:"text-white",children:k.email}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Email is managed via NextBid account"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Job Title"}),(0,b.jsx)("input",{type:"text",value:u,onChange:a=>v(a.target.value),placeholder:"e.g. Senior Developer",className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2.5 text-white placeholder-gray-500 focus:border-blue-500 focus:outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Department"}),(0,b.jsx)("input",{type:"text",value:w,onChange:a=>x(a.target.value),placeholder:"e.g. Engineering",className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2.5 text-white placeholder-gray-500 focus:border-blue-500 focus:outline-none"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Phone Number"}),(0,b.jsx)("input",{type:"tel",value:s,onChange:a=>t(a.target.value),placeholder:"e.g. (555) 123-4567",className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2.5 text-white placeholder-gray-500 focus:border-blue-500 focus:outline-none"})]})]}),(0,b.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-xl p-6 mb-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Role & Access"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Role"}),(0,b.jsx)("select",{value:o,onChange:a=>p(a.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2.5 text-white focus:border-blue-500 focus:outline-none",children:m.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.name," (Level ",a.level,")"]},a.id))}),O&&(0,b.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:O.description})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),(0,b.jsxs)("select",{value:q,onChange:a=>r(a.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2.5 text-white focus:border-blue-500 focus:outline-none",children:[(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"inactive",children:"Inactive"}),(0,b.jsx)("option",{value:"pending",children:"Pending"})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-gray-800 border border-red-500/30 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-red-400 mb-2",children:"Danger Zone"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Removing Dashboard access will prevent this user from accessing the dev dashboard. Their NextBid account will remain active."}),(0,b.jsx)("button",{onClick:N,className:"px-4 py-2 bg-red-500/15 text-red-400 border border-red-500/30 rounded-lg font-semibold hover:bg-red-500 hover:text-white transition-colors",children:"Remove Dashboard Access"})]})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=Studio_kodiack-dashboard-5500_src_app_team_members_%5Bid%5D_page_tsx_cb35b1d7._.js.map