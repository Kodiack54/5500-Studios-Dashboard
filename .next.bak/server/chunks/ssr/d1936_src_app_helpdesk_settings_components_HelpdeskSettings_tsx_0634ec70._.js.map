{"version":3,"sources":["../../../../../../Studio/kodiack-dashboard-5500/src/app/helpdesk/settings/components/HelpdeskSettings.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\n\r\nexport default function HelpdeskSettings() {\r\n  const [saving, setSaving] = useState(false);\r\n  const [settings, setSettings] = useState({\r\n    auto_assign: true,\r\n    auto_response_enabled: false,\r\n    auto_response_message: 'Thank you for contacting support. We have received your request and will respond shortly.',\r\n    notification_email: '',\r\n    slack_webhook: '',\r\n    sla_response_hours: 24,\r\n    sla_resolution_hours: 72,\r\n  });\r\n\r\n  const handleSave = async () => {\r\n    setSaving(true);\r\n    try {\r\n      const res = await fetch('/api/helpdesk/settings', {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(settings),\r\n      });\r\n\r\n      const result = await res.json();\r\n\r\n      if (result.success) {\r\n        alert('Settings saved successfully');\r\n      } else {\r\n        alert(result.error || 'Failed to save settings');\r\n      }\r\n    } catch (e) {\r\n      alert((e as Error).message);\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-2xl space-y-6\">\r\n      {/* General Settings */}\r\n      <div className=\"bg-gray-800 border border-gray-700 rounded-xl p-6\">\r\n        <h3 className=\"text-lg font-semibold text-white mb-4\">General Settings</h3>\r\n\r\n        <div className=\"space-y-4\">\r\n          <label className=\"flex items-center gap-3\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={settings.auto_assign}\r\n              onChange={(e) => setSettings((prev) => ({ ...prev, auto_assign: e.target.checked }))}\r\n              className=\"rounded bg-gray-700 border-gray-600 text-purple-500 focus:ring-purple-500\"\r\n            />\r\n            <div>\r\n              <div className=\"text-sm font-medium text-white\">Auto-assign tickets</div>\r\n              <div className=\"text-xs text-gray-500\">Automatically assign new tickets to available agents</div>\r\n            </div>\r\n          </label>\r\n\r\n          <label className=\"flex items-center gap-3\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={settings.auto_response_enabled}\r\n              onChange={(e) => setSettings((prev) => ({ ...prev, auto_response_enabled: e.target.checked }))}\r\n              className=\"rounded bg-gray-700 border-gray-600 text-purple-500 focus:ring-purple-500\"\r\n            />\r\n            <div>\r\n              <div className=\"text-sm font-medium text-white\">Auto-response</div>\r\n              <div className=\"text-xs text-gray-500\">Send automatic acknowledgment to new tickets</div>\r\n            </div>\r\n          </label>\r\n\r\n          {settings.auto_response_enabled && (\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-400 mb-2\">\r\n                Auto-response Message\r\n              </label>\r\n              <textarea\r\n                value={settings.auto_response_message}\r\n                onChange={(e) => setSettings((prev) => ({ ...prev, auto_response_message: e.target.value }))}\r\n                rows={3}\r\n                className=\"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white placeholder-gray-500 focus:border-purple-500 focus:outline-none resize-none\"\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* SLA Settings */}\r\n      <div className=\"bg-gray-800 border border-gray-700 rounded-xl p-6\">\r\n        <h3 className=\"text-lg font-semibold text-white mb-4\">SLA Settings</h3>\r\n\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-400 mb-2\">\r\n              Response Time (hours)\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              value={settings.sla_response_hours}\r\n              onChange={(e) => setSettings((prev) => ({ ...prev, sla_response_hours: parseInt(e.target.value) || 0 }))}\r\n              className=\"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-purple-500 focus:outline-none\"\r\n            />\r\n            <div className=\"text-xs text-gray-500 mt-1\">Target time for first response</div>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-400 mb-2\">\r\n              Resolution Time (hours)\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              value={settings.sla_resolution_hours}\r\n              onChange={(e) => setSettings((prev) => ({ ...prev, sla_resolution_hours: parseInt(e.target.value) || 0 }))}\r\n              className=\"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-purple-500 focus:outline-none\"\r\n            />\r\n            <div className=\"text-xs text-gray-500 mt-1\">Target time for resolution</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Notifications */}\r\n      <div className=\"bg-gray-800 border border-gray-700 rounded-xl p-6\">\r\n        <h3 className=\"text-lg font-semibold text-white mb-4\">Notifications</h3>\r\n\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-400 mb-2\">\r\n              Notification Email\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              value={settings.notification_email}\r\n              onChange={(e) => setSettings((prev) => ({ ...prev, notification_email: e.target.value }))}\r\n              placeholder=\"support@example.com\"\r\n              className=\"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white placeholder-gray-500 focus:border-purple-500 focus:outline-none\"\r\n            />\r\n            <div className=\"text-xs text-gray-500 mt-1\">Email for new ticket notifications</div>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-400 mb-2\">\r\n              Slack Webhook URL\r\n            </label>\r\n            <input\r\n              type=\"url\"\r\n              value={settings.slack_webhook}\r\n              onChange={(e) => setSettings((prev) => ({ ...prev, slack_webhook: e.target.value }))}\r\n              placeholder=\"https://hooks.slack.com/services/...\"\r\n              className=\"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white placeholder-gray-500 focus:border-purple-500 focus:outline-none\"\r\n            />\r\n            <div className=\"text-xs text-gray-500 mt-1\">Optional: Send notifications to Slack</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Save Button */}\r\n      <div className=\"flex justify-end\">\r\n        <button\r\n          onClick={handleSave}\r\n          disabled={saving}\r\n          className=\"px-6 py-2 bg-purple-500 text-white rounded-lg text-sm font-semibold hover:bg-purple-600 transition-colors disabled:opacity-50\"\r\n        >\r\n          {saving ? 'Saving...' : 'Save Settings'}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}