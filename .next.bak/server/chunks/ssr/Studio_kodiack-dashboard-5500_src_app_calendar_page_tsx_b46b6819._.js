module.exports=[38752,a=>{"use strict";var b=a.i(18030),c=a.i(30072),d=a.i(55259),e=a.i(38270),f=a.i(14542),g=a.i(32808),h=a.i(59089),i=a.i(30587);let j=(0,a.i(81338).default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);function k({weekDates:a,events:d,primaryColor:e,isToday:f,formatHour:g,onSlotClick:h,onEventClick:i,onEventDrop:j,onCreateEvent:k,onAddEvent:l,onRefresh:m,calendarRef:n}){let o,p,q,r=Array.from({length:24},(a,b)=>b),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(0),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)({x:0,y:0}),[E,F]=(0,c.useState)({x:0,y:0}),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)({date:null,hour:null,endHour:null,title:""});async function M(){if(K.title.trim()&&K.date&&null!==K.hour)try{let a=new Date(K.date);a.setHours(K.hour,0,0,0);let b=null!==K.endHour?K.endHour-K.hour+1:1,c=new Date(a.getTime()+60*b*6e4),d={id:`task-${Date.now()}`,title:K.title.trim(),start_datetime:a.toISOString(),end_datetime:c.toISOString(),event_type:"task",color:e,status:"scheduled"};l&&l(d),H(!1),L({date:null,hour:null,endHour:null,title:""})}catch(a){console.error("Error creating task:",a),alert("Error creating task. Please try again.")}}c.default.useEffect(()=>{let a=a=>{A&&D({x:a.clientX-E.x,y:a.clientY-E.y})},b=a=>{if(A&&j){let b=document.elementsFromPoint(a.clientX,a.clientY).find(a=>a.hasAttribute("data-slot"));if(b){let a=b.getAttribute("data-date"),c=parseInt(b.getAttribute("data-hour")||"0");if(a){let b=new Date(a);j(A.id,b,c)}}}B(null)};return A&&(document.addEventListener("mousemove",a),document.addEventListener("mouseup",b)),()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",b)}},[A,E,j]);let N=new Date,O=N.getHours(),P=N.getMinutes();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex sticky top-0 bg-gray-900 z-20 shadow-sm overflow-y-scroll",children:[(0,b.jsx)("div",{className:"w-20 flex-shrink-0 bg-gray-900"}),a.map((a,c)=>(0,b.jsxs)("div",{className:"flex-1 bg-gray-800 border border-gray-700 mx-0.5 rounded-t-lg overflow-hidden",children:[(0,b.jsxs)("div",{className:`text-center py-3 ${f(a)?"bg-blue-500/20":"bg-gray-800"}`,children:[(0,b.jsx)("div",{className:`text-xs font-medium uppercase ${f(a)?"text-blue-400":"text-gray-400"}`,children:a.toLocaleDateString("en-US",{weekday:"short"})}),(0,b.jsx)("div",{className:`text-2xl font-bold mt-1 ${f(a)?"text-blue-400":"text-white"}`,children:a.getDate()})]}),(0,b.jsx)("div",{className:"h-2",style:{backgroundColor:e}})]},c))]}),(0,b.jsxs)("div",{ref:n,className:"flex-1 overflow-auto bg-gray-900 relative",children:[(0,b.jsx)("div",{className:"absolute left-0 right-0 h-1 z-10 pointer-events-none",style:{backgroundColor:e,top:"960px",opacity:.5}}),(0,b.jsx)("div",{className:"absolute left-0 right-0 h-0.5 z-30 pointer-events-none",style:{backgroundColor:"#EF4444",top:`${80*O+P/60*80}px`,boxShadow:"0 0 4px rgba(239, 68, 68, 0.5)"},children:(0,b.jsx)("div",{className:"absolute left-16 -top-1.5 w-3 h-3 rounded-full",style:{backgroundColor:"#EF4444"}})}),(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)("div",{className:"w-20 flex-shrink-0 bg-gray-900",children:r.map(a=>(0,b.jsx)("div",{className:"h-20 text-right pr-2 pt-1 text-xs text-gray-500 border-b border-gray-800",children:g(a)},a))}),a.map((a,c)=>(0,b.jsx)("div",{className:"flex-1 bg-gray-800 border border-gray-700 mx-0.5 mb-2 rounded-b-lg overflow-hidden",children:r.map(c=>{let g=d.filter(b=>{let d=new Date(b.start_datetime),e=d.toDateString(),f=a.toDateString(),g=d.getHours();return e===f&&g===c});return(0,b.jsx)("div",{"data-slot":"true","data-date":a.toISOString(),"data-hour":c,className:`h-20 relative ${f(a)?"bg-blue-500/5":""} hover:bg-gray-700/50 transition-colors cursor-pointer border-b border-gray-700 ${w&&s&&u&&a.toDateString()===s.date.toDateString()&&c>=Math.min(s.hour,u.hour)&&c<=Math.max(s.hour,u.hour)?"bg-blue-500/20 ring-2 ring-blue-500":""}`,onMouseDown:b=>{b.preventDefault(),t({date:a,hour:c}),v({date:a,hour:c}),x(!0)},onMouseEnter:()=>{w&&s&&a.toDateString()===s.date.toDateString()&&v({date:a,hour:c})},onMouseUp:()=>{if(w&&s&&u){let b=Date.now();if(b-y<300){x(!1),t(null),v(null);return}z(b);let c=Math.min(s.hour,u.hour),d=Math.max(s.hour,u.hour);s.date.toDateString()===a.toDateString()&&(L({date:s.date,hour:c,endHour:c!==d?d:null,title:""}),J(!0))}x(!1),t(null),v(null)},children:g.map(a=>{let c=new Date(a.start_datetime),d=a.end_datetime?new Date(a.end_datetime):null,f=80;d&&(f=Math.max(40,(d.getTime()-c.getTime())/36e5*80));let g=c.getMinutes(),h=A&&A.id===a.id;return(0,b.jsxs)("div",{className:`absolute left-1 right-1 rounded p-1 text-xs font-medium text-white overflow-hidden transition-all z-10 ${h?"opacity-30 scale-95":""}`,style:{backgroundColor:a.color||e,height:`${f}px`,top:`${g/60*80}px`},onClick:b=>{b.stopPropagation(),A||i(a)},children:[(0,b.jsxs)("div",{onMouseDown:b=>{let c;return b.stopPropagation(),b.preventDefault(),c=b.currentTarget.getBoundingClientRect(),void(B(a),F({x:b.clientX-c.left,y:b.clientY-c.top}),D({x:b.clientX-(b.clientX-c.left),y:b.clientY-(b.clientY-c.top)}))},className:"cursor-move hover:bg-white/10 rounded transition-colors",style:{height:`${Math.min(f,80)}px`,position:"relative"},children:[(0,b.jsx)("div",{className:"font-semibold truncate p-0.5",children:a.title}),a.location_address&&f>55&&(0,b.jsxs)("div",{className:"text-xs opacity-90 truncate px-0.5",children:["ðŸ“ ",a.location_address]}),d&&f>50&&(0,b.jsxs)("div",{className:"text-xs opacity-75 mt-0.5 px-0.5",children:[c.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})," -",d.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})]})]}),f>80&&(0,b.jsx)("div",{className:"px-1 py-0.5 pointer-events-none",children:(0,b.jsx)("div",{className:"text-xs opacity-50 text-center border-t border-white/20 pt-1",children:"(Drag from top to move)"})})]},a.id)})},c)})},c))]})]}),A&&(0,b.jsxs)("div",{className:"fixed pointer-events-none z-50 rounded p-1 text-xs font-medium text-white shadow-2xl",style:{backgroundColor:A.color||e,left:`${C.x}px`,top:`${C.y}px`,width:"150px",height:(o=new Date(A.start_datetime),p=A.end_datetime?new Date(A.end_datetime):null,q=80,p&&(q=Math.max(40,(p.getTime()-o.getTime())/36e5*80)),`${q}px`),transform:"none",opacity:1},children:[(0,b.jsx)("div",{className:"font-semibold truncate",children:A.title}),A.location_address&&(0,b.jsxs)("div",{className:"text-xs opacity-90 truncate",children:["ðŸ“ ",A.location_address]})]})]}),I&&K.date&&null!==K.hour&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>J(!1),children:(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl p-6 w-96 border border-gray-700",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:"What would you like to create?"}),(0,b.jsxs)("p",{className:"text-sm text-gray-400 mb-6",children:[K.date.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),null!==K.endHour?` from ${g(K.hour)} to ${g(K.endHour+1)}`:` at ${g(K.hour)}`]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("button",{onClick:()=>{J(!1),H(!0)},className:"w-full flex items-center justify-between p-4 border-2 border-gray-600 rounded-lg hover:border-blue-500 hover:bg-blue-500/10 transition-all group",children:[(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("div",{className:"font-semibold text-white group-hover:text-blue-400",children:"Quick Add Task"}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"Fast way to block time"})]}),(0,b.jsx)("div",{className:"text-2xl",children:"âš¡"})]}),(0,b.jsxs)("button",{onClick:()=>{J(!1),k&&K.date&&null!==K.hour&&k(K.date,K.hour)},className:"w-full flex items-center justify-between p-4 border-2 border-gray-600 rounded-lg hover:border-purple-500 hover:bg-purple-500/10 transition-all group",children:[(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("div",{className:"font-semibold text-white group-hover:text-purple-400",children:"Create Event"}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"Full details, assigned devs"})]}),(0,b.jsx)("div",{className:"text-2xl",children:"ðŸ“…"})]})]}),(0,b.jsx)("button",{onClick:()=>J(!1),className:"w-full mt-4 px-4 py-2 text-sm text-gray-400 hover:text-white",children:"Cancel"})]})}),G&&K.date&&null!==K.hour&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>H(!1),children:(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl p-6 w-96 border border-gray-700",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Quick Add Task"}),(0,b.jsxs)("p",{className:"text-sm text-gray-400 mb-4",children:[K.date.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),null!==K.endHour?` from ${g(K.hour)} to ${g(K.endHour+1)}`:` at ${g(K.hour)}`]}),(0,b.jsx)("input",{type:"text",value:K.title,onChange:a=>L({...K,title:a.target.value}),onKeyDown:a=>{"Enter"===a.key?M():"Escape"===a.key&&H(!1)},placeholder:"What needs to be done?",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4",autoFocus:!0}),(0,b.jsxs)("div",{className:"flex space-x-3",children:[(0,b.jsx)("button",{onClick:()=>H(!1),className:"flex-1 px-4 py-2 border border-gray-600 text-gray-300 rounded-lg hover:bg-gray-700",children:"Cancel"}),(0,b.jsx)("button",{onClick:M,className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90",style:{backgroundColor:e},children:"Add Task"})]})]})})]})}function l({currentDate:a,events:c,primaryColor:d,isToday:e,onWeekClick:f}){let g=function(){let b=new Date(new Date(a.getFullYear(),a.getMonth(),1)),c=b.getDay();b.setDate(b.getDate()+(0===c?-6:1-c));let d=[];for(let a=0;a<5;a++){let c=[];for(let d=0;d<7;d++){let e=new Date(b);e.setDate(e.getDate()+7*a+d),c.push(e)}d.push(c)}return d}(),h=a.getMonth();return(0,b.jsxs)("div",{className:"flex flex-col bg-gray-900 h-full overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex bg-gray-900 shadow-sm flex-shrink-0",children:[(0,b.jsx)("div",{className:"w-20 flex-shrink-0 bg-gray-900"}),["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(a=>(0,b.jsxs)("div",{className:"flex-1 bg-gray-800 border border-gray-700 mx-0.5 rounded-t-lg overflow-hidden",children:[(0,b.jsx)("div",{className:"text-center py-3",children:(0,b.jsx)("div",{className:"text-xs font-semibold text-gray-400 uppercase",children:a})}),(0,b.jsx)("div",{className:"h-2",style:{backgroundColor:d}})]},a))]}),(0,b.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden",children:g.map((a,g)=>{let i=a[0];return(0,b.jsxs)("div",{className:"flex border-b border-gray-700 last:border-b-0",style:{height:"20%"},children:[(0,b.jsx)("button",{onClick:()=>f&&f(i),className:"w-20 flex-shrink-0 text-white flex items-center justify-center transition-opacity hover:opacity-80 border-r border-gray-700",style:{writingMode:"vertical-rl",textOrientation:"mixed",backgroundColor:d},title:"Click to view this week",children:(0,b.jsx)("span",{className:"font-semibold text-sm tracking-wide",children:"Week of"})}),a.map((a,g)=>{let i=c.filter(b=>new Date(b.start_datetime).toDateString()===a.toDateString()),j=a.getMonth()===h,k=e(a);return(0,b.jsxs)("div",{onClick:()=>f&&f(a),className:`flex-1 bg-gray-800 border-r border-gray-700 last:border-r-0 p-2 overflow-hidden flex flex-col cursor-pointer hover:bg-gray-700 transition-colors ${!j?"opacity-30":""} ${k?"ring-2 ring-blue-500 ring-inset":""}`,title:"Click to view this week",children:[(0,b.jsx)("div",{className:`text-xl font-bold mb-1 ${k?"text-blue-400":j?"text-white":"text-gray-500"}`,children:a.getDate()}),(0,b.jsxs)("div",{className:"space-y-1 flex-1 overflow-auto",children:[i.slice(0,6).map(a=>(0,b.jsx)("div",{className:"text-xs px-2 py-1 rounded truncate text-white font-medium cursor-pointer hover:opacity-80 transition-opacity",style:{backgroundColor:a.color||d},title:a.title,children:a.title},a.id)),i.length>6&&(0,b.jsxs)("div",{className:"text-xs text-gray-400 font-medium px-2",children:["+",i.length-6," more"]})]})]},g)})]},g)})})]})}var m=a.i(51684),n=a.i(60175);let o=[{value:"deploy",label:"Deployment"},{value:"sprint",label:"Sprint Planning"},{value:"standup",label:"Standup"},{value:"review",label:"Code Review"},{value:"meeting",label:"Meeting"},{value:"task",label:"Task"},{value:"maintenance",label:"Maintenance"},{value:"release",label:"Release"}],p=[{value:"#3B82F6",label:"Blue"},{value:"#10B981",label:"Green"},{value:"#F59E0B",label:"Amber"},{value:"#EF4444",label:"Red"},{value:"#8B5CF6",label:"Purple"},{value:"#EC4899",label:"Pink"}];function q({onClose:a,onSuccess:d,initialDate:e,initialHour:f}){let[g,h]=(0,c.useState)(!1),{startDate:i,startTime:j,endTime:k}=(()=>{let a="",b="",c="";if(e){let b=e.getFullYear(),c=String(e.getMonth()+1).padStart(2,"0"),d=String(e.getDate()).padStart(2,"0");a=`${b}-${c}-${d}`}if(void 0!==f){let a=String(f).padStart(2,"0");b=`${a}:00`,c=`${String((f+1)%24).padStart(2,"0")}:00`}return{startDate:a,startTime:b,endTime:c}})(),[l,q]=(0,c.useState)({event_type:"task",title:"",description:"",start_date:i,start_time:j,end_date:"",end_time:k,all_day:!1,color:"#3B82F6",assigned_devs:[]});async function r(a){a.preventDefault(),h(!0);try{let a=l.all_day?`${l.start_date}T00:00:00`:`${l.start_date}T${l.start_time}:00`,b=l.end_date?l.all_day?`${l.end_date}T23:59:59`:`${l.end_date}T${l.end_time||"23:59"}:00`:l.end_time?`${l.start_date}T${l.end_time}:00`:null;console.log("Creating event:",{event_type:l.event_type,title:l.title,description:l.description,start_datetime:a,end_datetime:b,all_day:l.all_day,color:l.color}),alert("Event created successfully!"),d()}catch(a){console.error("Error creating event:",a),alert("Error creating event. Please try again.")}finally{h(!1)}}return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-auto border border-gray-700",children:[(0,b.jsxs)("div",{className:"sticky top-0 bg-gray-800 border-b border-gray-700 px-6 py-4 flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white",children:"Create Event"}),(0,b.jsx)("button",{onClick:a,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(m.X,{className:"w-5 h-5 text-gray-400"})})]}),(0,b.jsxs)("form",{onSubmit:r,className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Event Type"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:o.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>q({...l,event_type:a.value}),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${l.event_type===a.value?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:a.label},a.value))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title *"}),(0,b.jsx)("input",{type:"text",value:l.title,onChange:a=>q({...l,title:a.target.value}),placeholder:"e.g., Deploy Tradelines v2.5",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:l.description,onChange:a=>q({...l,description:a.target.value}),rows:3,placeholder:"Details, notes, links...",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,b.jsx)("div",{children:(0,b.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:l.all_day,onChange:a=>q({...l,all_day:a.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),(0,b.jsx)("span",{className:"text-sm text-gray-300",children:"All day event"})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Date *"}),(0,b.jsx)("input",{type:"date",value:l.start_date,onChange:a=>q({...l,start_date:a.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),!l.all_day&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Time *"}),(0,b.jsxs)("select",{value:l.start_time,onChange:a=>{let b=a.target.value,[c]=b.split(":").map(Number),d=`${String((c+1)%24).padStart(2,"0")}:00`;q({...l,start_time:b,end_time:d})},className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!l.all_day,children:[(0,b.jsx)("option",{value:"",children:"Select time..."}),Array.from({length:96},(a,c)=>{let d=Math.floor(c/4),e=c%4*15,f=`${String(d).padStart(2,"0")}:${String(e).padStart(2,"0")}`;return(0,b.jsxs)("option",{value:f,children:[0===d?12:d>12?d-12:d,":",String(e).padStart(2,"0")," ",d<12?"AM":"PM"]},f)})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Date (Optional)"}),(0,b.jsx)("input",{type:"date",value:l.end_date,onChange:a=>q({...l,end_date:a.target.value}),min:l.start_date,className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),!l.all_day&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Time *"}),(0,b.jsxs)("select",{value:l.end_time,onChange:a=>q({...l,end_time:a.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!l.all_day,children:[(0,b.jsx)("option",{value:"",children:"Select time..."}),Array.from({length:96},(a,c)=>{let d=Math.floor(c/4),e=c%4*15,f=`${String(d).padStart(2,"0")}:${String(e).padStart(2,"0")}`;return(0,b.jsxs)("option",{value:f,children:[0===d?12:d>12?d-12:d,":",String(e).padStart(2,"0")," ",d<12?"AM":"PM"]},f)})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Color"}),(0,b.jsx)("div",{className:"flex space-x-2",children:p.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>q({...l,color:a.value}),className:`w-10 h-10 rounded-lg transition-all ${l.color===a.value?"ring-2 ring-offset-2 ring-offset-gray-800 ring-white":""}`,style:{backgroundColor:a.value},title:a.label},a.value))})]}),(0,b.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-700",children:[(0,b.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",disabled:g||!l.title||!l.start_date,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[g&&(0,b.jsx)(n.Loader2,{className:"w-4 h-4 animate-spin"}),(0,b.jsx)("span",{children:g?"Creating...":"Create Event"})]})]})]})]})})}var r=a.i(82239);let s=[{value:"task",label:"Task",color:"#3B82F6"},{value:"meeting",label:"Meeting",color:"#8B5CF6"},{value:"deploy",label:"Deploy",color:"#10B981"},{value:"sprint",label:"Sprint",color:"#F59E0B"},{value:"standup",label:"Standup",color:"#06B6D4"},{value:"review",label:"Review",color:"#EC4899"},{value:"maintenance",label:"Maintenance",color:"#EF4444"},{value:"release",label:"Release",color:"#84CC16"}],t=[{value:"tradelines",label:"Tradelines (7101)"},{value:"portals",label:"User Portals (7102)"},{value:"nextbidder",label:"NextBidder (7103)"},{value:"sources",label:"Sources (7104)"},{value:"nexttech",label:"NextTech (7105)"},{value:"nexttask",label:"NextTask (7106)"},{value:"dashboard",label:"Dashboard"}],u=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#84CC16"],v=[{id:"1",name:"Michael",email:"michael@nextbid.com"},{id:"2",name:"Dev Team",email:"dev@nextbid.com"},{id:"3",name:"Support",email:"support@nextbid.com"}];function w({event:a,onClose:d,onSuccess:e,onDelete:f}){let g,h,[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(!1),[o,p]=(0,c.useState)(!1),[q,w]=(0,c.useState)((g=new Date(a.start_datetime),h=a.end_datetime?new Date(a.end_datetime):null,{event_type:a.event_type||"task",title:a.title||"",description:a.description||"",start_date:g.toISOString().split("T")[0],start_time:`${String(g.getHours()).padStart(2,"0")}:${String(g.getMinutes()).padStart(2,"0")}`,end_date:h?h.toISOString().split("T")[0]:g.toISOString().split("T")[0],end_time:h?`${String(h.getHours()).padStart(2,"0")}:${String(h.getMinutes()).padStart(2,"0")}`:"",location_address:a.location_address||"",color:a.color||"#3B82F6",project:a.project||"",assigned_to_ids:a.assigned_to_ids||[],status:a.status||"scheduled"})),[x,y]=(0,c.useState)(""),z=v.filter(a=>a.name.toLowerCase().includes(x.toLowerCase())||a.email.toLowerCase().includes(x.toLowerCase()));function A(a){w(b=>({...b,assigned_to_ids:b.assigned_to_ids.includes(a)?b.assigned_to_ids.filter(b=>b!==a):[...b.assigned_to_ids,a]}))}async function B(b){b.preventDefault(),j(!0);try{let b=new Date(`${q.start_date}T${q.start_time}:00`),c=new Date(q.end_time?`${q.end_date||q.start_date}T${q.end_time}:00`:b.getTime()+36e5),d={...a,event_type:q.event_type,title:q.title,description:q.description,start_datetime:b.toISOString(),end_datetime:c.toISOString(),location_address:q.location_address||null,color:q.color,project:q.project||null,assigned_to_ids:q.assigned_to_ids,status:q.status};console.log("Updating event:",d),e(d)}catch(a){console.error("Error updating event:",a),alert("Error updating event. Please try again.")}finally{j(!1)}}async function C(){if(f){l(!0);try{console.log("Deleting event:",a.id),f(a.id)}catch(a){console.error("Error deleting event:",a),alert("Error deleting event. Please try again.")}finally{l(!1)}}}return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-auto border border-gray-700",children:[(0,b.jsxs)("div",{className:"sticky top-0 bg-gray-800 border-b border-gray-700 px-6 py-4 flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white",children:"Edit Event"}),(0,b.jsx)("button",{onClick:d,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(m.X,{className:"w-5 h-5 text-gray-400"})})]}),(0,b.jsxs)("form",{onSubmit:B,className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Event Type"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>w({...q,event_type:a.value,color:a.color}),className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors ${q.event_type===a.value?"text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,style:q.event_type===a.value?{backgroundColor:a.color}:{},children:a.label},a.value))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title *"}),(0,b.jsx)("input",{type:"text",value:q.title,onChange:a=>w({...q,title:a.target.value}),placeholder:"Event title",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:q.description,onChange:a=>w({...q,description:a.target.value}),rows:3,placeholder:"Event details, notes, etc.",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Project"}),(0,b.jsxs)("select",{value:q.project,onChange:a=>w({...q,project:a.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,b.jsx)("option",{value:"",children:"No project"}),t.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Date *"}),(0,b.jsx)("input",{type:"date",value:q.start_date,onChange:a=>w({...q,start_date:a.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Time *"}),(0,b.jsx)("input",{type:"time",value:q.start_time,onChange:a=>w({...q,start_time:a.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Date"}),(0,b.jsx)("input",{type:"date",value:q.end_date,onChange:a=>w({...q,end_date:a.target.value}),min:q.start_date,className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Time"}),(0,b.jsx)("input",{type:"time",value:q.end_time,onChange:a=>w({...q,end_time:a.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Location"}),(0,b.jsx)("input",{type:"text",value:q.location_address,onChange:a=>w({...q,location_address:a.target.value}),placeholder:"Meeting room, address, or video link",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Assign Team Members"}),(0,b.jsxs)("div",{className:"relative mb-2",children:[(0,b.jsx)(r.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-4 h-4"}),(0,b.jsx)("input",{type:"text",value:x,onChange:a=>y(a.target.value),placeholder:"Search team members...",className:"w-full pl-10 pr-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,b.jsx)("div",{className:"max-h-32 overflow-y-auto border border-gray-700 rounded-lg",children:z.map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>A(a.id),className:`w-full px-4 py-2 text-left flex items-center justify-between hover:bg-gray-700 border-b border-gray-700 last:border-b-0 ${q.assigned_to_ids.includes(a.id)?"bg-blue-500/20":""}`,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-white",children:a.name}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:a.email})]}),q.assigned_to_ids.includes(a.id)&&(0,b.jsx)("span",{className:"text-blue-400",children:"âœ“"})]},a.id))}),q.assigned_to_ids.length>0&&(0,b.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:q.assigned_to_ids.map(a=>{let c=v.find(b=>b.id===a);return c?(0,b.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-sm",children:[c.name,(0,b.jsx)("button",{type:"button",onClick:()=>A(a),className:"ml-1 hover:text-blue-300",children:(0,b.jsx)(m.X,{className:"w-3 h-3"})})]},a):null})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),(0,b.jsxs)("select",{value:q.status,onChange:a=>w({...q,status:a.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,b.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,b.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,b.jsx)("option",{value:"completed",children:"Completed"}),(0,b.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Color"}),(0,b.jsx)("div",{className:"flex space-x-2",children:u.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>w({...q,color:a}),className:`w-8 h-8 rounded-lg transition-all ${q.color===a?"ring-2 ring-offset-2 ring-offset-gray-800 ring-white":""}`,style:{backgroundColor:a}},a))})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-700",children:[(0,b.jsxs)("div",{children:[f&&!o&&(0,b.jsx)("button",{type:"button",onClick:()=>p(!0),className:"px-4 py-2 text-sm font-medium text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-colors",children:"Delete Event"}),o&&(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Delete?"}),(0,b.jsx)("button",{type:"button",onClick:C,disabled:k,className:"px-3 py-1 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:opacity-50",children:k?"Deleting...":"Yes"}),(0,b.jsx)("button",{type:"button",onClick:()=>p(!1),className:"px-3 py-1 text-sm font-medium text-gray-400 hover:text-white",children:"No"})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("button",{type:"button",onClick:d,className:"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",disabled:i||!q.title||!q.start_date,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[i&&(0,b.jsx)(n.Loader2,{className:"w-4 h-4 animate-spin"}),(0,b.jsx)("span",{children:i?"Saving...":"Save Changes"})]})]})]})]})]})})}function x({onClose:a,onSuccess:d}){let[e,f]=(0,c.useState)(!1),[g,h]=(0,c.useState)({type:"vacation",start_date:"",end_date:"",start_time:"",end_time:"",brief_description:"",long_description:"",everyone_can_see:!0});async function i(a){a.preventDefault(),f(!0);try{console.log("Time off request:",g),alert("Time off request submitted! Waiting for approval."),d()}catch(a){console.error("Error submitting time off request:",a),alert("Error submitting request. Please try again.")}finally{f(!1)}}return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-auto border border-gray-700",children:[(0,b.jsxs)("div",{className:"sticky top-0 bg-gray-800 border-b border-gray-700 px-6 py-4 flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white",children:"Request Time Off"}),(0,b.jsx)("button",{onClick:a,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(m.X,{className:"w-5 h-5 text-gray-400"})})]}),(0,b.jsxs)("form",{onSubmit:i,className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Type of Time Off *"}),(0,b.jsxs)("select",{value:g.type,onChange:a=>h({...g,type:a.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,b.jsx)("option",{value:"vacation",children:"Vacation"}),(0,b.jsx)("option",{value:"sick",children:"Sick Leave"}),(0,b.jsx)("option",{value:"personal",children:"Personal"}),(0,b.jsx)("option",{value:"unpaid",children:"Unpaid Leave"}),(0,b.jsx)("option",{value:"other",children:"Other"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Date *"}),(0,b.jsx)("input",{type:"date",value:g.start_date,onChange:a=>h({...g,start_date:a.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Date (Optional)"}),(0,b.jsx)("input",{type:"date",value:g.end_date,onChange:a=>h({...g,end_date:a.target.value}),min:g.start_date,className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Time (Optional)"}),(0,b.jsxs)("select",{value:g.start_time,onChange:a=>h({...g,start_time:a.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,b.jsx)("option",{value:"",children:"All day"}),Array.from({length:96},(a,c)=>{let d=Math.floor(c/4),e=c%4*15,f=`${String(d).padStart(2,"0")}:${String(e).padStart(2,"0")}`;return(0,b.jsxs)("option",{value:f,children:[0===d?12:d>12?d-12:d,":",String(e).padStart(2,"0")," ",d<12?"AM":"PM"]},f)})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Time (Optional)"}),(0,b.jsxs)("select",{value:g.end_time,onChange:a=>h({...g,end_time:a.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,b.jsx)("option",{value:"",children:"All day"}),Array.from({length:96},(a,c)=>{let d=Math.floor(c/4),e=c%4*15,f=`${String(d).padStart(2,"0")}:${String(e).padStart(2,"0")}`;return(0,b.jsxs)("option",{value:f,children:[0===d?12:d>12?d-12:d,":",String(e).padStart(2,"0")," ",d<12?"AM":"PM"]},f)})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Brief Description"}),(0,b.jsx)("input",{type:"text",value:g.brief_description,onChange:a=>h({...g,brief_description:a.target.value}),placeholder:"e.g., Family vacation, Doctor appointment",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Additional Details (Optional)"}),(0,b.jsx)("textarea",{value:g.long_description,onChange:a=>h({...g,long_description:a.target.value}),rows:3,className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:g.everyone_can_see,onChange:a=>h({...g,everyone_can_see:a.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),(0,b.jsx)("span",{className:"text-sm text-gray-300",children:"Everyone can see this request"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"Blocks your calendar so others know you're unavailable"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-700",children:[(0,b.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",disabled:e||!g.start_date,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e&&(0,b.jsx)(n.Loader2,{className:"w-4 h-4 animate-spin"}),(0,b.jsx)("span",{children:e?"Submitting...":"Submit Request"})]})]})]})]})})}function y({onClose:a,onSuccess:d}){let[e,f]=(0,c.useState)(!1),[g,h]=(0,c.useState)({request_type:"missed_punch",adjustment_date:"",original_clock_in:"",original_clock_out:"",requested_clock_in:"",requested_clock_out:"",requested_break_minutes:0,reason:"",detailed_description:""});async function i(a){a.preventDefault(),f(!0);try{console.log("Timesheet adjustment:",g),alert("Timesheet adjustment request submitted! Your manager will review it."),d()}catch(a){console.error("Error submitting adjustment:",a),alert("Error submitting request. Please try again.")}finally{f(!1)}}return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-auto border border-gray-700",children:[(0,b.jsxs)("div",{className:"sticky top-0 bg-gray-800 border-b border-gray-700 px-6 py-4 flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white",children:"Request Timesheet Adjustment"}),(0,b.jsx)("button",{onClick:a,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(m.X,{className:"w-5 h-5 text-gray-400"})})]}),(0,b.jsxs)("form",{onSubmit:i,className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"What needs to be corrected? *"}),(0,b.jsxs)("select",{value:g.request_type,onChange:a=>h({...g,request_type:a.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,b.jsx)("option",{value:"missed_punch",children:"Forgot to Clock In/Out"}),(0,b.jsx)("option",{value:"clock_in_correction",children:"Clock In Time Wrong"}),(0,b.jsx)("option",{value:"clock_out_correction",children:"Clock Out Time Wrong"}),(0,b.jsx)("option",{value:"missed_break",children:"Forgot to Log Break"}),(0,b.jsx)("option",{value:"other",children:"Other"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date of Work *"}),(0,b.jsx)("input",{type:"date",value:g.adjustment_date,onChange:a=>h({...g,adjustment_date:a.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Original Time (What it shows now)"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Clock In"}),(0,b.jsx)("input",{type:"time",value:g.original_clock_in,onChange:a=>h({...g,original_clock_in:a.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Clock Out"}),(0,b.jsx)("input",{type:"time",value:g.original_clock_out,onChange:a=>h({...g,original_clock_out:a.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-blue-400 mb-3",children:"Requested Time (What it should be) *"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Clock In *"}),(0,b.jsx)("input",{type:"time",value:g.requested_clock_in,onChange:a=>h({...g,requested_clock_in:a.target.value}),className:"w-full px-4 py-2 bg-gray-900 border-2 border-blue-500 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Clock Out *"}),(0,b.jsx)("input",{type:"time",value:g.requested_clock_out,onChange:a=>h({...g,requested_clock_out:a.target.value}),className:"w-full px-4 py-2 bg-gray-900 border-2 border-blue-500 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Break Time (minutes)"}),(0,b.jsx)("input",{type:"number",min:"0",step:"15",value:g.requested_break_minutes,onChange:a=>h({...g,requested_break_minutes:parseInt(a.target.value)||0}),placeholder:"e.g., 30 for 30-minute lunch",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Reason *"}),(0,b.jsx)("input",{type:"text",value:g.reason,onChange:a=>h({...g,reason:a.target.value}),placeholder:"e.g., Forgot to clock out for lunch",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Additional Details"}),(0,b.jsx)("textarea",{value:g.detailed_description,onChange:a=>h({...g,detailed_description:a.target.value}),rows:3,placeholder:"Please provide any additional context that will help your manager approve this request",className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-700",children:[(0,b.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",disabled:e||!g.adjustment_date||!g.requested_clock_in||!g.requested_clock_out||!g.reason,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e&&(0,b.jsx)(n.Loader2,{className:"w-4 h-4 animate-spin"}),(0,b.jsx)("span",{children:e?"Submitting...":"Submit Request"})]})]})]})]})})}function z(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),children:(0,b.jsx)(A,{})})}function A(){let a=(0,c.useContext)(e.PageTitleContext),m=(0,c.useContext)(e.PageActionsContext),n=(0,d.useSearchParams)(),o=n?.get("mode")||"my",[p,r]=(0,c.useState)("week"),[s,t]=(0,c.useState)(new Date),[u,v]=(0,c.useState)([]),[z,A]=(0,c.useState)(!0),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(new Date),[L,M]=(0,c.useState)(9),[N,O]=(0,c.useState)(!1),[P,Q]=(0,c.useState)(null),[R,S]=(0,c.useState)([]),[T,U]=(0,c.useState)([]),[V,W]=(0,c.useState)([]),X=(0,c.useRef)(null),Y="#3B82F6";async function Z(){W([{id:"1",name:"Michael",role:"Lead Developer",color:"#3B82F6"},{id:"2",name:"Dev Team",role:"Development",color:"#10B981"},{id:"3",name:"Support",role:"Support",color:"#F59E0B"}])}async function $(){let a=new Date,b=[{id:"1",title:"Sprint Planning",start_datetime:new Date(a.getFullYear(),a.getMonth(),a.getDate(),10,0).toISOString(),end_datetime:new Date(a.getFullYear(),a.getMonth(),a.getDate(),11,0).toISOString(),event_type:"meeting",color:"#8B5CF6",status:"scheduled"},{id:"2",title:"Deploy Tradelines v2.5",start_datetime:new Date(a.getFullYear(),a.getMonth(),a.getDate(),14,0).toISOString(),end_datetime:new Date(a.getFullYear(),a.getMonth(),a.getDate(),15,0).toISOString(),event_type:"deploy",color:"#10B981",status:"scheduled"}],c=[...b,{id:"3",title:"Michael: Code Review",description:"Review PR #234 for tradelines",start_datetime:new Date(a.getFullYear(),a.getMonth(),a.getDate(),9,0).toISOString(),end_datetime:new Date(a.getFullYear(),a.getMonth(),a.getDate(),10,0).toISOString(),event_type:"task",color:"#3B82F6",status:"scheduled"},{id:"4",title:"Dev Team: Portal Updates",description:"Working on user portal enhancements",start_datetime:new Date(a.getFullYear(),a.getMonth(),a.getDate(),11,0).toISOString(),end_datetime:new Date(a.getFullYear(),a.getMonth(),a.getDate(),13,0).toISOString(),event_type:"project",color:"#10B981",status:"in_progress"},{id:"5",title:"Support: Client Call",description:"Weekly check-in with ABC Corp",start_datetime:new Date(a.getFullYear(),a.getMonth(),a.getDate(),15,0).toISOString(),end_datetime:new Date(a.getFullYear(),a.getMonth(),a.getDate(),16,0).toISOString(),event_type:"meeting",color:"#F59E0B",status:"scheduled"},{id:"6",title:"Dev Team: NextBidder API",description:"Auction suppliers integration",start_datetime:new Date(a.getFullYear(),a.getMonth(),a.getDate()+1,10,0).toISOString(),end_datetime:new Date(a.getFullYear(),a.getMonth(),a.getDate()+1,14,0).toISOString(),event_type:"project",color:"#10B981",status:"scheduled"}];v("team"===o?c:b)}function _(a){let b=new Date(s);"week"===p?b.setDate(b.getDate()+7*a):b.setMonth(b.getMonth()+a),t(b)}function aa(){t(new Date)}function ab(a){let b=new Date;return a.toDateString()===b.toDateString()}async function ac(a,b,c){v(d=>d.map(d=>{if(d.id===a){let a=new Date(d.start_datetime),e=d.end_datetime?new Date(d.end_datetime):null,f=e?e.getTime()-a.getTime():36e5,g=new Date(b);g.setHours(c,0,0,0);let h=new Date(g.getTime()+f);return{...d,start_datetime:g.toISOString(),end_datetime:h.toISOString()}}return d})),console.log("Moved event",a,"to",b,c)}return(0,c.useEffect)(()=>{$(),Z(),A(!1)},[o]),(0,c.useEffect)(()=>(a({title:function(){if("week"!==p)return s.toLocaleDateString("en-US",{month:"long",year:"numeric"});{let a=new Date(s),b=a.getDay();a.setDate(a.getDate()+(0===b?-6:1-b));let c=new Date(a);return(c.setDate(c.getDate()+6),a.getMonth()===c.getMonth())?`${a.toLocaleDateString("en-US",{month:"long"})} ${a.getDate()}-${c.getDate()}, ${a.getFullYear()}`:`${a.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${c.toLocaleDateString("en-US",{month:"short",day:"numeric"})}, ${c.getFullYear()}`}}(),description:"team"===o?"Team schedules & projects":"Your personal calendar"}),m((0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>_(-1),className:"p-2 rounded-xl transition-colors bg-white/10 hover:bg-white/20 text-white border border-black/50",children:(0,b.jsx)(f.ChevronLeft,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:aa,className:"px-4 py-2 text-sm font-medium rounded-xl transition-colors bg-white/10 hover:bg-white/20 text-white border border-black/50",children:"Today"}),(0,b.jsx)("button",{onClick:()=>_(1),className:"p-2 rounded-xl transition-colors bg-white/10 hover:bg-white/20 text-white border border-black/50",children:(0,b.jsx)(g.ChevronRight,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{className:"flex items-center space-x-1 ml-2",children:[(0,b.jsx)("button",{onClick:()=>r("week"),className:`px-4 py-2 text-sm font-medium rounded-xl transition-colors border border-black/50 ${"week"===p?"bg-white/30 text-white shadow-sm":"bg-white/10 hover:bg-white/20 text-white"}`,children:"Week"}),(0,b.jsx)("button",{onClick:()=>r("month"),className:`px-4 py-2 text-sm font-medium rounded-xl transition-colors border border-black/50 ${"month"===p?"bg-white/30 text-white shadow-sm":"bg-white/10 hover:bg-white/20 text-white"}`,children:"Month"})]}),(0,b.jsxs)("button",{onClick:()=>I(!0),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-xl transition-colors bg-white/10 hover:bg-white/20 text-white border border-black/50 relative",children:[(0,b.jsx)(j,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Timesheet Adjustment"}),T.length>0&&(0,b.jsx)("div",{className:"absolute -top-2 -right-2 bg-yellow-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:"â³"})]}),(0,b.jsxs)("button",{onClick:()=>G(!0),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-xl transition-colors bg-white/10 hover:bg-white/20 text-white border border-black/50 relative",children:[(0,b.jsx)(i.Clock,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Time Off Request"}),R.length>0&&(0,b.jsx)("div",{className:"absolute -top-2 -right-2 bg-yellow-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:"â³"})]}),(0,b.jsxs)("button",{onClick:()=>C(!0),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-xl transition-colors bg-white/30 hover:bg-white/40 text-white border border-black/50",children:[(0,b.jsx)(h.Plus,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Create Event"})]})]})),()=>{a({title:"Dashboard",description:"Your daily overview"}),m(null)}),[s,p,R.length,T.length]),(0,c.useEffect)(()=>{if("week"===p&&X.current){let a=setTimeout(()=>{X.current&&(X.current.scrollTop=560)},300);return()=>clearTimeout(a)}},[p,u]),z?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,b.jsxs)("div",{style:{height:"calc(100vh - 180px)",display:"flex",flexDirection:"column"},children:[(0,b.jsx)("div",{style:{flex:1,display:"flex",overflow:"hidden",minHeight:0},children:(0,b.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",minHeight:0},children:["week"===p&&(0,b.jsx)(k,{weekDates:function(){let a=[],b=new Date(s),c=b.getDay();b.setDate(b.getDate()+(0===c?-6:1-c));for(let c=0;c<7;c++){let d=new Date(b);d.setDate(d.getDate()+c),a.push(d)}return a}(),events:u,primaryColor:Y,isToday:ab,formatHour:function(a){return 0===a?"12 AM":a<12?`${a} AM`:12===a?"12 PM":`${a-12} PM`},onSlotClick:function(a,b){K(a),M(b),C(!0)},onEventClick:function(a){Q(a),O(!0)},onEventDrop:ac,onCreateEvent:(a,b)=>{K(a),M(b),C(!0)},onAddEvent:a=>{v(b=>[...b,a])},onRefresh:$,calendarRef:X}),"month"===p&&(0,b.jsx)(l,{currentDate:s,events:u,primaryColor:Y,isToday:ab,onWeekClick:function(a){t(a),r("week")}})]})}),N&&P&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>O(!1),children:(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl p-6 w-96 border border-gray-700",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"Event Details"}),(0,b.jsx)("button",{onClick:()=>O(!1),className:"w-8 h-8 rounded flex items-center justify-center hover:bg-gray-700 transition-colors",children:(0,b.jsx)("span",{className:"text-gray-400 text-xl",children:"Ã—"})})]}),(0,b.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Title"}),(0,b.jsx)("p",{className:"font-medium text-white",children:P.title})]}),P.description&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Description"}),(0,b.jsx)("p",{className:"text-sm text-gray-300",children:P.description})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Time"}),(0,b.jsx)("p",{className:"text-sm text-gray-300",children:new Date(P.start_datetime).toLocaleString("en-US",{weekday:"long",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"})})]}),P.location_address&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Location"}),(0,b.jsx)("p",{className:"text-sm text-gray-300",children:P.location_address})]})]}),(0,b.jsxs)("div",{className:"flex space-x-3",children:[(0,b.jsx)("button",{onClick:()=>{O(!1),E(!0)},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90",style:{backgroundColor:Y},children:"Edit"}),(0,b.jsx)("button",{onClick:()=>{v(a=>a.filter(a=>a.id!==P.id)),O(!1)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete"})]})]})}),B&&(0,b.jsx)(q,{initialDate:J,initialHour:L,onClose:()=>C(!1),onSuccess:()=>{C(!1),$()}}),F&&(0,b.jsx)(x,{onClose:()=>G(!1),onSuccess:()=>{G(!1),$()}}),H&&(0,b.jsx)(y,{onClose:()=>I(!1),onSuccess:()=>{I(!1)}}),D&&P&&(0,b.jsx)(w,{event:P,onClose:()=>E(!1),onSuccess:a=>{v(b=>b.map(b=>b.id===a.id?a:b)),Q(a),E(!1)},onDelete:a=>{v(b=>b.filter(b=>b.id!==a)),E(!1),Q(null)}})]})}a.s(["default",()=>z],38752)}];

//# sourceMappingURL=Studio_kodiack-dashboard-5500_src_app_calendar_page_tsx_b46b6819._.js.map